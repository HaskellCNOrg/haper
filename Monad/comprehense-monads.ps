%!PS-Adobe-2.0
%%Creator: dvips 5.54 Copyright 1986, 1994 Radical Eye Software
%%Title: monads.dvi
%%CreationDate: Thu Nov  2 13:23:25 1995
%%Pages: 38
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%EndComments
%DVIPSCommandLine: /usr/local/tex/bin/sparc-sun-sunos4/dvips monads.dvi
%DVIPSParameters: dpi=300, comments removed
%DVIPSSource:  TeX output 1994.08.12:1345
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR matrix currentmatrix dup dup 4 get round 4 exch put dup dup 5 get
round 5 exch put setmatrix}N /@landscape{/isls true N}B /@manualfeed{
statusdict /manualfeed true put}B /@copies{/#copies X}B /FMat[1 0 0 -1 0
0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{/nn 8 dict N nn
begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N string /base X
array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N end dup{/foo
setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{/sf 1 N /fntrx
FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]N df-tail}B /E{
pop nn dup definefont setfont}B /ch-width{ch-data dup length 5 sub get}
B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{128 ch-data dup
length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub get 127 sub}B
/ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data dup type
/stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N /rc 0 N /gp
0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup /base get 2
index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx 0 ch-xoff
ch-yoff ch-height sub ch-xoff ch-width add ch-yoff setcachedevice
ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff .1 add]{
ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}if nn
/base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup length 1
sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{cc 1 add D
}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin 0 0
moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul add
.99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore showpage
userdict /eop-hook known{eop-hook}if}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 -.1 TR 1 1 scale rulex ruley
false RMat{BDot}imagemask grestore}}{{gsave TR -.1 -.1 TR rulex ruley
scale 1 1 false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath
transform round exch round exch itransform moveto rulex 0 rlineto 0
ruley neg rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta
0 N /tail{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}
B /c{-4 M}B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{
3 M}B /k{4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p
-1 w}B /q{p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{
3 2 roll p a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
TeXDict begin 39158280 55380996 1000 300 300
(/export/users/grad/gnik/wadler/papers/monads/monads.dvi)
@start /Fa 1 49 df<040E0E1C1C1C38383070706060C0C0070F7F8F0A>48
D E /Fb 1 60 df<70F0F8F878080808101010202040050E7C840D>59
D E /Fc 4 107 df<01800180018001800180E187718E399C0FF003C003C00FF0399C71
8EE1870180018001800180018010147D9417>3 D<00C000000000C000000000C0000000
018000000001800000000380000000030000000006000000000C000000001C0000000030
00000000FFFFFFFFFEFFFFFFFFFE30000000001C000000000C0000000006000000000300
00000003800000000180000000018000000000C000000000C000000000C000000027187D
962D>32 D<00000006000000000600000000060000000003000000000300000000038000
0000018000000000C0000000006000000000700000000018FFFFFFFFFFFFFFFFFFFF0000
0000180000000070000000006000000000C0000000018000000003800000000300000000
030000000006000000000600000000060028187E962D>I<C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0022D7B
A10D>106 D E /Fd 5 56 df<00180000780001F800FFF800FFF80001F80001F80001F8
0001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F80001F8
0001F80001F80001F80001F80001F80001F80001F80001F80001F80001F8007FFFE07FFF
E013207C9F1C>49 D<03FC000FFF003C1FC07007E07C07F0FE03F0FE03F8FE03F8FE01F8
7C01F83803F80003F80003F00003F00007E00007C0000F80001F00003E00003800007000
00E01801C0180380180700180E00380FFFF01FFFF03FFFF07FFFF0FFFFF0FFFFF015207D
9F1C>I<00FE0007FFC00F07E01E03F03F03F03F81F83F81F83F81F81F03F81F03F00003
F00003E00007C0001F8001FE0001FF000007C00001F00001F80000FC0000FC3C00FE7E00
FEFF00FEFF00FEFF00FEFF00FC7E01FC7801F81E07F00FFFC001FE0017207E9F1C>I<00
00E00001E00003E00003E00007E0000FE0001FE0001FE00037E00077E000E7E001C7E001
87E00307E00707E00E07E00C07E01807E03807E07007E0E007E0FFFFFFFFFFFF0007E000
07E00007E00007E00007E00007E00007E000FFFF00FFFF18207E9F1C>I<600000780000
7FFFFE7FFFFE7FFFFC7FFFF87FFFF87FFFF0E00060E000C0C00180C00300C00300000600
000C00001C0000180000380000780000780000F00000F00000F00001F00001F00001F000
03F00003F00003F00003F00003F00003F00003F00001E00017227DA11C>55
D E /Fe 1 49 df<081C1C3838383070706060C0C0060D7E8D09>48
D E /Ff 2 99 df<E000001CE000001CE000001CE000001CE000001CE000001CE000001C
E000001CE000001CE000001CE000001CE000001CE000001CE000001CE000001CE000001C
E000001CE000001CE000001CE000001CE000001CE000001CE000001CE000001CE000001C
E000001CE000001CE000001CE000001CE000001CE000001C700000387000003838000070
380000701C0000E01E0001E00F8007C007E01F8001FFFE00007FF800001FE0001E2A7E7F
23>83 D<00300000FC0001CE000703801C00E0300030C0000C1607809E17>98
D E /Fg 3 122 df<020002000200C218F2783AE00F800F803AE0F278C2180200020002
000D0E7E8E12>3 D<060F0F0E1E1E1C3C383830707060E0C04008117F910A>48
D<06000600060006000600060006000600FFF0FFF0060006000600060006000600060006
00060006000600060006000600060006000600060006000C1D7E9611>121
D E /Fh 19 119 df<FFFFFFFCFFFFFFFC1E027C8C27>0 D<70F8F8F87005057C8E0E>I<
000FFFFC007FFFFC01F0000003800000060000000C000000180000003000000030000000
6000000060000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000
60000000600000003000000030000000180000000C000000060000000380000001F00000
007FFFFC000FFFFC00000000000000000000000000000000000000000000000000000000
000000007FFFFFFC7FFFFFFC1E277C9F27>18 D<0000000C0000003C000000F0000003C0
00000F0000003C000000F0000007C000001F00000078000001E00000078000001E000000
78000000E0000000780000001E0000000780000001E0000000780000001F00000007C000
0000F00000003C0000000F00000003C0000000F00000003C0000000C0000000000000000
0000000000000000000000000000000000000000000000007FFFFFF8FFFFFFFC1E277C9F
27>20 D<C0000000F00000003C0000000F00000003C0000000F00000003C0000000F8000
0003E0000000780000001E0000000780000001E0000000780000001C00000078000001E0
0000078000001E00000078000003E000000F8000003C000000F0000003C000000F000000
3C00000070000000C0000000000000000000000000000000000000000000000000000000
00000000000000007FFFFFF8FFFFFFFC1E277C9F27>I<00600000000000600000000000
600000000000600000000000C00000000000C00000000001800000000003000000000003
00000000000E00000000001C0000000000380000000000FFFFFFFFFFC0FFFFFFFFFFC038
00000000001C00000000000E000000000003000000000003000000000001800000000000
C00000000000C0000000000060000000000060000000000060000000000060000000002A
1A7C9832>32 D<00000001800000000001800000000001800000000001800000000000C0
0000000000C000000000006000000000003000000000003000000000001C00000000000E
00000000000700FFFFFFFFFFE0FFFFFFFFFFE0000000000700000000000E00000000001C
0000000000300000000000300000000000600000000000C00000000000C0000000000180
000000000180000000000180000000000180002B1A7D9832>I<001FFF007FFF01E00003
80000600000C0000180000300000300000600000600000600000C00000C00000FFFFFFFF
FFFFC00000C000006000006000006000003000003000001800000C000006000003800001
E000007FFF001FFF181E7C9A21>50 D<00000300000300000600000600000C00000C0000
180000180000300000300000600000600000C00000C00000C00001800001800003000003
00000600000600000C00000C0000180000180000300000300000600000600000C00000C0
000180000180000300000300000300000600000600000C00000C00001800001800003000
00300000600000600000C00000400000183079A300>54 D<00008000018001F980070F00
0C03001803801807803006C03006C0700CE0600C60600C60600C60E01870E01870E01870
E03070E03070E03070E06070E06070E06070E06070E0C070E0C070E0C070E18070E18070
6180606300607300E07300E03300C03600C01E01801E01800C03000F0E000DF800180000
180000180000142A7EA519>59 D<00010000000300000003000000030000000300000003
000000030000000300000003000000030000000300000003000000030000000300000003
000000030000000300000003000000030000000300000003000000030000000300000003
0000000300000003000000030000000300000003000000030000FFFFFFFEFFFFFFFE1F20
7C9F27>63 D<40000040C00000C0C00000C0C00000C0C00000C0C00000C0C00000C0C000
00C0C00000C0C00000C0C00000C0C00000C0C00000C0C00000C0C00000C0C00000C0C000
00C0C00000C0C00000C0C00000C0C00000C0C00000C0C00000C060000180600001803000
0300180006000E001C000780780001FFE000007F80001A1F7D9D21>91
D<000C0000000C0000001E0000001E0000001E0000003300000033000000618000006180
0000C0C00000C0C00000C0C0000180600001806000030030000300300003003000060018
00060018000C000C000C000C000C000C0018000600180006003000030030000300600001
806000018060000180C00000C0C00000401A1F7D9D21>94 D<400000C00000C00000C000
00C00000C00000C00000C00000C00000C00000C00000C00000C00000C00000C00000C000
00FFFFFCFFFFFEC00000C00000C00000C00000C00000C00000C00000C00000C00000C000
00C00000C00000C00000C00000C00000C0000040000017237DA21E>96
D<0003C0001E0000380000700000E00000E00000E00000E00000E00000E00000E00000E0
0000E00000E00000E00000E00000E00000E00000E00000E00000E00001C0000380000F00
00F800000F000003800001C00000E00000E00000E00000E00000E00000E00000E00000E0
0000E00000E00000E00000E00000E00000E00000E00000E00000E000007000003800001E
000003C012317DA419>102 D<F800000F000003800001C00000E00000E00000E00000E0
0000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0
0000E000007000003800001E000003C0001E0000380000700000E00000E00000E00000E0
0000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E00000E0
0000E00001C0000380000F0000F8000012317DA419>I<C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
02317AA40E>106 D<C00000C0C00000C0C00000C0C00000C0C00000C0C00000C0C00000
C0C00000C0C00000C0C00000C0C00000C0C00000C0C00000C0C00000C0C00000C0C00000
C0C00000C0C00000C0C00000C0C00000C0C00000C0C00000C0C00000C0C00000C0C00000
C0C00000C0C00000C0C00000C0FFFFFFC07FFFFFC01A1E7D9D21>116
D<7FFFFFFEFFFFFFFEC0000000C0000000C0000000C0000000C0000000C0000000C00000
00C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C00000
00C0000000C0000000C0000000C0000000C0000000C0000000C0000000C0000000C00000
00FFFFFFFEFFFFFFFE000000000000000000000000000000000000000000000000000000
00000000007FFFFFFCFFFFFFFE1F277C9F27>118 D E /Fi 40 122
df<FFFF80FFFF80FFFF80FFFF80FFFF80FFFF8011067F9016>45
D<1C007F007F00FF80FF80FF807F007F001C0009097B8813>I<000E00001E00007E0007
FE00FFFE00FFFE00F8FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000
FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000
FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE00FFFFFEFFFFFEFFFFFE17
277BA622>49 D<00FF800007FFF0000FFFFC001E03FE003800FF807C003F80FE003FC0FF
001FC0FF001FE0FF000FE0FF000FE07E000FE03C001FE000001FE000001FC000001FC000
003F8000003F0000007E000000FC000000F8000001F0000003E00000078000000F000000
1E0000003C00E0007000E000E000E001C001C0038001C0060001C00FFFFFC01FFFFFC03F
FFFFC07FFFFFC0FFFFFF80FFFFFF80FFFFFF801B277DA622>I<007F800003FFF00007FF
FC000F81FE001F007F003F807F003F803F803F803F803F803F801F803F801F003F800000
7F0000007F0000007E000000FC000001F8000007F00000FFC00000FFC0000001F8000000
7E0000003F0000003F8000001FC000001FC000001FE000001FE03C001FE07E001FE0FF00
1FE0FF001FE0FF001FC0FF003FC0FE003F807C007F003F01FE001FFFFC0007FFF00000FF
80001B277DA622>I<00000F0000000F0000001F0000003F0000007F000000FF000001FF
000001FF000003BF0000073F00000E3F00001C3F00003C3F0000383F0000703F0000E03F
0001C03F0003803F0007803F0007003F000E003F001C003F0038003F0070003F00F0003F
00FFFFFFF8FFFFFFF8FFFFFFF800007F0000007F0000007F0000007F0000007F0000007F
0000007F0000007F00001FFFF8001FFFF8001FFFF81D277EA622>I<180003001F801F00
1FFFFE001FFFFC001FFFF8001FFFF0001FFFC0001FFF00001C0000001C0000001C000000
1C0000001C0000001C0000001C0000001C7FC0001DFFF8001F80FC001E003F0008003F00
00001F8000001FC000001FC000001FE000001FE018001FE07C001FE0FE001FE0FE001FE0
FE001FE0FE001FC0FC001FC078003F8078003F803C007F001F01FE000FFFFC0003FFF000
00FF80001B277DA622>I<380000003E0000003FFFFFF03FFFFFF03FFFFFF07FFFFFE07F
FFFFC07FFFFF807FFFFF0070000E0070000E0070001C00E0003800E0007000E000E00000
01C0000001C000000380000007800000070000000F0000001F0000001E0000003E000000
3E0000007E0000007C0000007C000000FC000000FC000000FC000000FC000001FC000001
FC000001FC000001FC000001FC000001FC000001FC000000F80000007000001C297CA822
>55 D<003FC00001FFF00003FFFC0007C07E000F003F001E001F001E000F803E000F803E
000F803F000F803F800F803FC00F003FF01F001FFC1E001FFE3C000FFFF80007FFE00003
FFF00001FFFC0001FFFE0007FFFF000F0FFF801E07FFC03E01FFC07C007FE07C001FE0F8
000FE0F80007E0F80003E0F80003E0F80003E0F80003C07C0003C07E0007803F000F001F
C03F000FFFFC0003FFF800007FC0001B277DA622>I<1C007F007F00FF80FF80FF807F00
7F001C000000000000000000000000000000000000001C007F007F00FF80FF80FF807F00
7F001C00091B7B9A13>58 D<00000780000000000780000000000FC0000000000FC00000
00000FC0000000001FE0000000001FE0000000003FF0000000003FF0000000003FF00000
000077F80000000077F800000000F7FC00000000E3FC00000000E3FC00000001C1FE0000
0001C1FE00000003C1FF0000000380FF0000000380FF00000007007F80000007007F8000
000F007FC000000E003FC000000E003FC000001C001FE000001C001FE000003FFFFFF000
003FFFFFF000003FFFFFF00000700007F80000700007F80000F00007FC0000E00003FC00
01E00003FE0001C00001FE0001C00001FE0003C00001FF00FFFE003FFFFCFFFE003FFFFC
FFFE003FFFFC2E297EA833>65 D<00007FE0030007FFFC07001FFFFF0F007FF00F9F00FF
0001FF01FC0000FF03F800007F07F000003F0FE000001F1FC000001F1FC000000F3F8000
000F3F800000077F800000077F800000077F00000000FF00000000FF00000000FF000000
00FF00000000FF00000000FF00000000FF00000000FF00000000FF000000007F00000000
7F800000007F800000073F800000073F800000071FC00000071FC000000E0FE000000E07
F000001C03F800003C01FC00007800FF0001F0007FF007C0001FFFFF800007FFFE000000
7FF00028297CA831>67 D<FFFFFFFFE0FFFFFFFFE0FFFFFFFFE003FC001FE003FC0007F0
03FC0001F003FC0001F003FC0000F003FC00007003FC00007003FC00007003FC01C07803
FC01C03803FC01C03803FC01C03803FC03C00003FC03C00003FC0FC00003FFFFC00003FF
FFC00003FFFFC00003FC0FC00003FC03C00003FC03C00003FC01C00E03FC01C00E03FC01
C00E03FC01C01C03FC00001C03FC00001C03FC00001C03FC00003C03FC00003803FC0000
7803FC0000F803FC0001F803FC0003F803FC001FF8FFFFFFFFF0FFFFFFFFF0FFFFFFFFF0
27297EA82C>69 D<FFFFF0FFFFF0FFFFF003FC0003FC0003FC0003FC0003FC0003FC0003
FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003
FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003FC0003
FC0003FC0003FC0003FC0003FC00FFFFF0FFFFF0FFFFF014297EA819>73
D<FFFFFC0000FFFFFC0000FFFFFC000003FC00000003FC00000003FC00000003FC000000
03FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003
FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC
00000003FC00000003FC00000003FC0001C003FC0001C003FC0001C003FC0001C003FC00
03C003FC00038003FC00038003FC00078003FC00078003FC000F8003FC000F8003FC001F
8003FC007F8003FC01FF00FFFFFFFF00FFFFFFFF00FFFFFFFF0022297EA828>76
D<FFFE0000003FFF80FFFE0000003FFF80FFFF0000007FFF8003FF0000007FE00003FF00
00007FE00003BF800000EFE00003BF800000EFE000039FC00001CFE000039FC00001CFE0
00038FE000038FE000038FE000038FE000038FE000038FE0000387F000070FE0000387F0
00070FE0000383F8000E0FE0000383F8000E0FE0000381FC001C0FE0000381FC001C0FE0
000381FC001C0FE0000380FE00380FE0000380FE00380FE00003807F00700FE00003807F
00700FE00003803F80E00FE00003803F80E00FE00003803F80E00FE00003801FC1C00FE0
0003801FC1C00FE00003800FE3800FE00003800FE3800FE000038007F7000FE000038007
F7000FE000038007F7000FE000038003FE000FE000038003FE000FE000038001FC000FE0
00038001FC000FE000038000F8000FE000FFFE00F803FFFF80FFFE00F803FFFF80FFFE00
7003FFFF8039297DA840>I<FFFC00007FFFFFFE00007FFFFFFF00007FFF03FF800001C0
03FFC00001C003BFE00001C0039FE00001C0039FF00001C0038FF80001C00387FC0001C0
0383FE0001C00381FF0001C00380FF8001C003807F8001C003807FC001C003803FE001C0
03801FF001C003800FF801C0038007FC01C0038003FC01C0038003FE01C0038001FF01C0
038000FF81C00380007FC1C00380003FE1C00380001FF1C00380000FF1C00380000FF9C0
03800007FDC003800003FFC003800001FFC003800000FFC0038000007FC0038000007FC0
038000003FC0038000001FC0038000000FC00380000007C0FFFE000003C0FFFE000001C0
FFFE000001C030297EA835>I<FFFFFFF800FFFFFFFF00FFFFFFFFC003FC003FE003FC00
07F003FC0003F803FC0003FC03FC0001FC03FC0001FE03FC0001FE03FC0001FE03FC0001
FE03FC0001FE03FC0001FE03FC0001FE03FC0001FC03FC0003FC03FC0003F803FC0007F0
03FC003FE003FFFFFF8003FFFFFE0003FC00000003FC00000003FC00000003FC00000003
FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC
00000003FC00000003FC00000003FC00000003FC000000FFFFF00000FFFFF00000FFFFF0
000027297EA82E>80 D<FFFFFFE00000FFFFFFFE0000FFFFFFFF800003FC003FE00003FC
000FF00003FC0007F80003FC0003FC0003FC0001FC0003FC0001FE0003FC0001FE0003FC
0001FE0003FC0001FE0003FC0001FE0003FC0001FE0003FC0001FC0003FC0003F80003FC
0007F80003FC000FE00003FC003FC00003FFFFFE000003FFFFFE000003FC00FF800003FC
003FC00003FC001FE00003FC000FF00003FC0007F80003FC0007F80003FC0007F80003FC
0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC0007F80003FC
0007F80E03FC0007F80E03FC0003F80E03FC0001FC1CFFFFF000FE1CFFFFF0007FF8FFFF
F0000FE02F297EA832>82 D<00FF806003FFF0E00FFFF8E01F80FDE03F001FE03E0007E0
7C0003E07C0003E0FC0001E0FC0001E0FC0000E0FE0000E0FE0000E0FF000000FFC00000
7FFC00007FFFE0003FFFF8001FFFFE001FFFFF0007FFFF8003FFFFC000FFFFC0000FFFE0
00007FE000001FF000000FF0000007F0E00003F0E00003F0E00003F0E00003F0F00003E0
F00003E0F80007E0FC0007C0FF000F80FFE03F80E3FFFE00E1FFFC00C01FF0001C297CA8
25>I<7FFFFFFFFF807FFFFFFFFF807FFFFFFFFF807F807F807F807C007F800F8078007F
80078078007F80078070007F800380F0007F8003C0F0007F8003C0E0007F8001C0E0007F
8001C0E0007F8001C0E0007F8001C0E0007F8001C000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000FFFFFFC00000FFFFFFC00000FFFFFFC0002A287EA72F>I<03FF
80000FFFF0001F01FC003F80FE003F807F003F803F003F803F801F003F8000003F800000
3F8000003F8000003F80003FFF8001FC3F800FE03F801F803F803F003F807E003F80FC00
3F80FC003F80FC003F80FC003F80FC005F807E00DF803F839FFC1FFE0FFC03FC03FC1E1B
7E9A21>97 D<003FF00001FFFC0003F03E000FC07F001F807F003F007F003F007F007F00
3E007E0000007E000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
00007E0000007E0000007F0000003F0003803F8003801F8007000FE00E0003F83C0001FF
F800003FC000191B7E9A1E>99 D<00007FF000007FF000007FF0000007F0000007F00000
07F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00000
07F0003F87F001FFF7F007F03FF00FC00FF01F8007F03F0007F03F0007F07E0007F07E00
07F07E0007F0FE0007F0FE0007F0FE0007F0FE0007F0FE0007F0FE0007F0FE0007F0FE00
07F07E0007F07E0007F03F0007F03F0007F01F800FF00FC01FF007E07FFF01FFE7FF007F
87FF202A7EA925>I<003FC00001FFF00003E07C000F803E001F801F001F001F003F000F
807E000F807E000FC07E000FC0FE0007C0FE0007C0FFFFFFC0FFFFFFC0FE000000FE0000
00FE0000007E0000007E0000007F0000003F0001C01F0001C00F80038007C0070003F01E
0000FFFC00003FE0001A1B7E9A1F>I<0007F8003FFC007E3E01FC7F03F87F03F07F07F0
7F07F03E07F00007F00007F00007F00007F00007F00007F000FFFFC0FFFFC0FFFFC007F0
0007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F00007F0
0007F00007F00007F00007F00007F00007F00007F00007F0007FFF807FFF807FFF80182A
7EA915>I<00FF80F003FFE3F80FC1FE1C1F007C7C3F007E7C3E003E107E003F007E003F
007E003F007E003F007E003F007E003F003E003E003F007E001F007C000FC1F8000BFFE0
0018FF80001800000038000000380000003C0000003FFFF8003FFFFF001FFFFFC00FFFFF
E007FFFFF01FFFFFF03C0007F07C0001F8F80000F8F80000F8F80000F8F80000F87C0001
F07C0001F03F0007E00FC01F8007FFFF00007FF0001E287E9A22>I<FFE00000FFE00000
FFE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00000
0FE000000FE000000FE000000FE000000FE07E000FE1FF800FE30FC00FE40FE00FE807E0
0FF807F00FF007F00FF007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F0
0FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F0
0FE007F0FFFE3FFFFFFE3FFFFFFE3FFF202A7DA925>I<07000F801FC03FE03FE03FE01F
C00F8007000000000000000000000000000000FFE0FFE0FFE00FE00FE00FE00FE00FE00F
E00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE0FFFEFFFEFF
FE0F2B7EAA12>I<FFE0FFE0FFE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE0
0FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE00FE0
0FE00FE00FE00FE00FE00FE00FE0FFFEFFFEFFFE0F2A7EA912>108
D<FFC07F001FC000FFC1FFC07FF000FFC307E0C1F8000FC407F101FC000FC803F200FC00
0FD803FE00FE000FD003FC00FE000FD003FC00FE000FE003F800FE000FE003F800FE000F
E003F800FE000FE003F800FE000FE003F800FE000FE003F800FE000FE003F800FE000FE0
03F800FE000FE003F800FE000FE003F800FE000FE003F800FE000FE003F800FE000FE003
F800FE000FE003F800FE000FE003F800FE000FE003F800FE00FFFE3FFF8FFFE0FFFE3FFF
8FFFE0FFFE3FFF8FFFE0331B7D9A38>I<FFC07E00FFC1FF80FFC30FC00FC40FE00FC807
E00FD807F00FD007F00FD007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007
F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007
F00FE007F0FFFE3FFFFFFE3FFFFFFE3FFF201B7D9A25>I<003FE00001FFFC0003F07E00
0FC01F801F800FC03F0007E03F0007E07E0003F07E0003F07E0003F0FE0003F8FE0003F8
FE0003F8FE0003F8FE0003F8FE0003F8FE0003F8FE0003F87E0003F07E0003F03F0007E0
3F0007E01F800FC00FC01F8007F07F0001FFFC00003FE0001D1B7E9A22>I<FFE1FE00FF
EFFF80FFFE0FE00FF803F00FF001F80FE001FC0FE000FC0FE000FE0FE000FE0FE0007F0F
E0007F0FE0007F0FE0007F0FE0007F0FE0007F0FE0007F0FE0007F0FE0007E0FE000FE0F
E000FE0FE000FC0FE001FC0FF001F80FF807F00FFC0FE00FEFFF800FE1FC000FE000000F
E000000FE000000FE000000FE000000FE000000FE000000FE000000FE00000FFFE0000FF
FE0000FFFE000020277E9A25>I<FFC1F0FFC7FCFFC63E0FCC7F0FD87F0FD07F0FD07F0F
F03E0FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000F
E0000FE0000FE0000FE0000FE000FFFF00FFFF00FFFF00181B7F9A1B>114
D<03FE300FFFF03E03F07800F07000F0F00070F00070F80070FE0000FFE0007FFF007FFF
C03FFFE01FFFF007FFF800FFF80007FC0000FCE0007CE0003CF0003CF00038F80038FC00
70FF01E0E7FFC0C1FF00161B7E9A1B>I<00E00000E00000E00000E00001E00001E00001
E00003E00003E00007E0000FE0001FFFE0FFFFE0FFFFE00FE0000FE0000FE0000FE0000F
E0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0000FE0700FE0700FE0700F
E0700FE0700FE0700FE07007F0E003F0C001FF80007F0014267FA51A>I<FFE07FF0FFE0
7FF0FFE07FF00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE0
07F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE007F00FE0
07F00FE007F00FE00FF00FE00FF007E017F003F067FF01FFC7FF007F87FF201B7D9A25>
I<FFFC1FFEFFFC1FFEFFFC1FFE07F0038003F8078003FC0F0001FE1E0000FE3C00007F38
00007FF800003FF000001FE000000FE000000FF0000007F800000FF800001FFC00003CFE
000038FF0000787F0000F03F8001E01FC003C01FE003800FE0FFF03FFFFFF03FFFFFF03F
FF201B7F9A23>120 D<FFFC03FFFFFC03FFFFFC03FF0FF000F007F000E007F800E003F8
01C003F801C003FC03C001FC038001FE078000FE070000FF0700007F0E00007F0E00007F
9E00003F9C00003FFC00001FF800001FF800000FF000000FF000000FF0000007E0000007
E0000003C0000003C000000380000003800000078000380700007C0F0000FE0E0000FE1E
0000FE1C0000FE38000074F000003FE000000F80000020277F9A23>I
E /Fj 4 62 df<03800001C00000E00000F000007000007000007800003800003800003C
00001C00001C00001E00000E00000E00000F00000700000700000780000780000F80001B
C00031C00061C000C1E001C0E00380E00700E00E00701C0070380070780078F00038E000
38C0001C16237DA21C>21 D<70F8F8F87005057C840E>58 D<70F8FCFC74040404040808
10102040060F7C840E>I<00008000018000018000030000030000030000060000060000
0600000C00000C00000C0000180000180000180000300000300000300000600000600000
600000C00000C00000C00001800001800001800001800003000003000003000006000006
00000600000C00000C00000C000018000018000018000030000030000030000060000060
0000600000C00000C00000C0000011317DA418>61 D E /Fk 71
127 df<000006000000060000000E0000000E0000001E0000001E0000003E0000003E00
00005E0000009E0000009E0000011E0000011F0000021F0000021F0000041F0000040F00
00080F0000100F0000100F0000200F0000200F0000400F0000400F0000800F0001800F00
01000F0002000F0002000F0004000F0004000F8008000F8018000F803C000F80FF00FFF0
1C237DA222>3 D<00000FC0F8000030718E000060F31E0000C0F71E0001C0660C000180
0E000003800E000003800E000003800E000003801C000007001C000007001C000007001C
000007001C0000FFFFFFC0000E003800000E003800000E003800000E003800000E007000
001C007000001C007000001C007000001C007000001C00E000003800E000003800E00000
3800E000003800E000003801C000007001C000007001C000007001C000007001C0000070
03800000E003800000E003800000E003000000C007000000C0070000718E060000F19E0C
0000F11E180000620C3000003C07C00000272D82A21E>11 D<00000FF00000380C000060
0E0000C01E0001C01E0001801C0003800000038000000380000007000000070000000700
00000700000007000000FFFFF0000E0070000E0070000E00E0000E00E0001C00E0001C00
E0001C01C0001C01C0001C01C0003801C000380380003803800038038000380388007007
100070071000700710007007100070032000E001C000E0000000E0000000C0000000C000
0001C0000071800000F1800000F3000000620000003C0000001F2D82A21B>I<0C1E3F3F
1D02020204040810204080080F75A20F>39 D<0000800001000002000004000008000010
0000300000600000C00000C0000180000300000300000600000600000E00000C00001C00
00180000180000380000300000300000700000700000600000600000E00000E00000E000
00C00000C00000C00000C00000C00000C00000C00000C00000C00000C00000C00000C000
00C00000400000600000600000200000300000100000080000113278A414>I<00080000
040000060000020000030000030000010000018000018000018000018000018000018000
018000018000018000018000018000018000018000038000038000038000030000030000
0700000700000600000600000E00000C00000C00001C0000180000380000300000300000
600000600000C00001800001800003000006000004000008000010000020000040000080
0000113280A414>I<0E1E1E1E1E02020404080810204080070F7D840F>44
D<FFF0FFF0FFE00C037C8B11>I<70F8F8F0E005057A840F>I<0000000800000018000000
300000003000000060000000C0000000C000000180000001800000030000000600000006
0000000C0000000C0000001800000030000000300000006000000060000000C000000180
000001800000030000000300000006000000060000000C00000018000000180000003000
00003000000060000000C0000000C0000001800000018000000300000006000000060000
000C0000000C0000001800000030000000300000006000000060000000C0000000C00000
00800000001D317FA419>I<000F800030C000E06001C0700380700300700700700F0070
0E00701E00701E00701C00F03C00F03C00F03C00F07801E07801E07801E07801E0F003C0
F003C0F003C0F00380E00780E00780E00700E00F00E00E00E01C00E01C00E03800607000
30E0001F000014227AA019>I<0001000300030006001E002E03CE001C001C001C001C00
38003800380038007000700070007000E000E000E000E001C001C001C001C00380038003
8003800780FFFC10217AA019>I<000FC000106000603800801800801C01001C02201E02
101E04101E04101E04101E08203C08203C0840380840780880F00700E00001C000030000
060000180000200000C0000100000200000400100800301000202000605F80C063FFC040
FF80807F00801E0017227CA019>I<000FC000307000C01801001C02001C04000C04401C
08201C08201C08201C08403808C0380700700000600001C000070000FC00000700000380
0003800001C00001C00001C00003C06003C0F003C0F00380E00780800700800E00801C00
40380020F0001F800016227BA019>I<0000180000380000380000700000700000700000
E00000E00000E00000C00001C0000180000380000300000300000600000600000C00000C
000018000010000031800061C00043800083800183800303800207000407000807003FC7
00403E00800FF0000E00000E00001C00001C00001C00001C000038000038000038000030
00152B7EA019>I<00400400703800FFF000FFE000BF8000800001000001000001000001
0000020000020000023E0002C3000501800601C00401C00001E00001E00001E00001E000
01E00001E07003C0F003C0F003C0E00780800700800F00800E00401C0040380030E0000F
800016227BA019>I<0003E0000C1000300800603800C07801C078038030070000070000
0E00001E00001E00001C7C003C86003D03007A03807C03807801C07803C0F803C0F003C0
F003C0F003C0E00780E00780E00780E00700E00F00E00E00E01C0060180060300030E000
0F800015227AA019>I<02780204FC0407FC040FFC080F0C181E04701803A03000602000
406000C0400080800180000380000300000700000600000E00000E00001C00001C00003C
0000380000780000780000F00000F00000F00001E00001E00001E00003E00003C00003C0
00018000172279A019>I<000FC000306000401000801801000803000C03000C07001807
001807001007803007C06007E0C003F10001FE0000FC0000FE00033F00061F800C0FC018
03C03001C06001C06000C0C000C0C000C0C00080C00180C00100C00200C0060060080030
30000FC00016227BA019>I<000FC000386000603000E03001C038038038078038070038
0F00380F00380F00381E00781E00781E00781E00F81E00F01C00F00E01F00E02F00605E0
0309E001F1E00003C00003C0000380000700000700600E00F00C00F01800E03000806000
41C0003F000015227BA019>I<07000F800F800F000E0000000000000000000000000000
0000000000000000007000F800F800F000E00009157A940F>I<00000300000003000000
07000000070000000F0000000F0000001F0000002F0000002F0000004F8000004F800000
878000008780000107800002078000020780000407800004078000080780001807800010
07800020078000200780007FFFC0004003C0008003C0018003C0010003C0020003C00200
03C0040003C0040003C00C0003C03C0007E0FF003FFC1E237DA224>65
D<00FFFFE0000F0038000F001C000F001E001E000E001E000F001E000F001E000F003C00
0E003C001E003C001E003C003C0078007800780070007801E00078078000FFFF8000F001
E000F000F000F0007801E0007801E0003801E0003C01E0003C03C0007803C0007803C000
7803C000F0078000F0078001E0078003C0078007000F001E00FFFFF00020227DA122>I<
00007F00800003808100000E00630000380027000070001F0000E0000E0001C0000E0003
80000E000700000E000F000004000E000004001E000004003C000004003C000008007800
00000078000000007800000000F000000000F000000000F000000000F000000000F00000
0000E000000000E000002000E000002000E000004000E000004000F00000800070000080
007000010000380002000018000400001C0008000006003000000381C0000000FE000000
212479A223>I<00FFFFF000000F003C00000F000E00000F000700001E000380001E0003
80001E0001C0001E0001C0003C0001C0003C0001E0003C0001E0003C0001E000780001E0
00780001E000780001E000780001E000F00003C000F00003C000F00003C000F00003C001
E000078001E000078001E000070001E0000F0003C0000E0003C0001C0003C0003C0003C0
0038000780007000078000E000078003800007800700000F801C0000FFFFF0000023227D
A125>I<00FFFFFF80000F000780000F000180000F000180001E000180001E000180001E
000100001E000100003C000100003C000100003C010100003C0100000078020000007802
0000007806000000780E000000FFFC000000F00C000000F00C000000F00C000001E00800
0001E008000001E008040001E000080003C000080003C000080003C000100003C0001000
07800020000780006000078000C000078001C0000F0007C000FFFFFF800021227DA121>
I<00FFFFFF000F000F000F0003000F0003001E0003001E0003001E0002001E0002003C00
02003C0002003C0102003C010000780200007802000078060000780E0000FFFC0000F00C
0000F00C0000F00C0001E0080001E0080001E0080001E0000003C0000003C0000003C000
0003C00000078000000780000007800000078000000F800000FFF8000020227DA120>I<
00007F00800003808100000E00630000380027000070001F0000E0000E0001C0000E0003
80000E000700000E000F000004000E000004001E000004003C000004003C000008007800
00000078000000007800000000F000000000F000000000F000000000F000000000F0003F
FC00E00001E000E00001E000E00001E000E00003C000E00003C000F00003C000700003C0
007000078000380007800018000F80001C0013800006002300000381C1000000FE000000
212479A226>I<00FFF87FFC000F000780000F000780000F000780001E000F00001E000F
00001E000F00001E000F00003C001E00003C001E00003C001E00003C001E000078003C00
0078003C000078003C000078003C0000FFFFF80000F000780000F000780000F000780001
E000F00001E000F00001E000F00001E000F00003C001E00003C001E00003C001E00003C0
01E000078003C000078003C000078003C000078003C0000F8007C000FFF07FF80026227D
A124>I<00FFF8000F00000F00000F00001E00001E00001E00001E00003C00003C00003C
00003C0000780000780000780000780000F00000F00000F00000F00001E00001E00001E0
0001E00003C00003C00003C00003C0000780000780000780000780000F8000FFF0001522
7DA113>I<0007FFC000003C0000003C0000003C00000078000000780000007800000078
000000F0000000F0000000F0000000F0000001E0000001E0000001E0000001E0000003C0
000003C0000003C0000003C00000078000000780000007800000078000000F0000000F00
00380F0000780F0000F81E0000F81E0000F03C0000403800004070000021E000001F8000
001A237CA11A>I<00FFF807FC000F0001E0000F0001C0000F000100001E000200001E00
0400001E001000001E002000003C004000003C008000003C010000003C04000000780800
000078180000007838000000787C000000F0BC000000F23C000000F41E000000F81E0000
01F01F000001E00F000001E00F000001E00F800003C007800003C007800003C003C00003
C003C000078003C000078001E000078001E000078001E0000F8001F000FFF00FFE002622
7DA125>I<00FFFC00000F8000000F0000000F0000001E0000001E0000001E0000001E00
00003C0000003C0000003C0000003C00000078000000780000007800000078000000F000
0000F0000000F0000000F0000001E0000001E0000001E0002001E0002003C0004003C000
4003C0008003C0008007800180078001000780030007800F000F803E00FFFFFE001B227D
A11F>I<00FF800007FC000F80000F80000F80001780000F80001780001780002F000013
C0002F000013C0004F000013C0008F000023C0009E000023C0011E000023C0011E000023
C0021E000043C0043C000043C0043C000043C0083C000041E0083C000081E01078000081
E02078000081E02078000081E04078000101E040F0000101E080F0000101E100F0000101
E100F0000200F201E0000200F201E0000200F401E0000200F801E0000400F803C0000400
F003C0000400F003C0000C00E003C0001E00C007C000FF80C07FF8002E227DA12C>I<00
FF000FFC000F8001E0000F800180000FC000800013C001000013C001000011E001000011
E001000021E002000020F002000020F002000020F0020000407804000040780400004078
040000403C040000803C080000803E080000801E080000801E080001001F100001000F10
0001000F10000100079000020007A000020007A000020003E000020003E000040003C000
040001C000040001C0000C0001C0001E00008000FF8000800026227DA124>I<0000FE00
00078380000C00E0003800700070003800E0003801C0001C0380001C0700001C0F00001E
1E00001E1C00001E3C00001E3C00001E7800001E7800001E7800001EF000003CF000003C
F000003CF0000078F0000078E0000078E00000F0E00000F0E00001E0E00001C0F00003C0
F00007807000070078000E0038001C001C0038000E00E0000703800001FC00001F2479A2
25>I<00FFFFE0000F0038000F001E000F000E001E0007001E0007001E0007001E000700
3C000F003C000F003C000F003C001E0078001E0078003C00780078007800E000F003C000
FFFE0000F0000000F0000001E0000001E0000001E0000001E0000003C0000003C0000003
C0000003C00000078000000780000007800000078000000F800000FFF0000020227DA121
>I<00FFFFC0000F0070000F003C000F001C001E000E001E000E001E000F001E000F003C
001E003C001E003C001E003C003C0078003800780070007801E00078078000FFFC0000F0
0E0000F0070000F0038001E003C001E003C001E003C001E003C003C0078003C0078003C0
078003C0078007800F0007800F0107800F01078007020F800702FFF0038C000000F02023
7DA124>82 D<0001F020000E0C40001802C0003001C0006001C000E0018000C0018001C0
018001C0018003C0010003C0010003C0000003C0000003E0000001F8000001FF000000FF
E000007FF000001FF8000003FC0000007C0000003C0000001E0000001E0000001E002000
1C0020001C0020001C00200018006000380060003000700060007000C000C8018000C607
000081FC00001B247DA21B>I<1FFFFFF81E03C0381803C0183003C01820078018200780
184007801040078010400F0010800F0010800F0010000F0000001E0000001E0000001E00
00001E0000003C0000003C0000003C0000003C0000007800000078000000780000007800
0000F0000000F0000000F0000000F0000001E0000001E0000001E0000001E0000003E000
00FFFF00001D2277A123>I<3FFE03FF03C0007803C0006003C000200780004007800040
07800040078000400F0000800F0000800F0000800F0000801E0001001E0001001E000100
1E0001003C0002003C0002003C0002003C00020078000400780004007800040078000400
70000800F0000800F0001000700010007000200070004000300040003801800018020000
0E0C000003F00000202377A124>I<FFF001FF1F0000781F0000300F0000600F0000400F
0000800F0000800F0001000F0001000F0002000F0004000F8004000F8008000780080007
8010000780200007802000078040000780400007808000078100000781000007C2000003
C2000003C4000003C8000003C8000003D0000003D0000003E0000003C0000003C0000003
8000000180000001000000202376A124>I<FFE07FF00FF81F000F8003C01E000F000180
1E000F0001001E000F0002001E000F0002001F000F0004001F000F0004000F001F000800
0F001F0008000F002F0010000F002F0010000F004F8020000F00478040000F0087804000
0F00878080000F01078080000F03078100000F02078100000F04078200000F0407820000
0F08078400000F08078C00000F10078800000F10079000000F20079000000FA007A00000
0FC007A00000078007C00000078007C00000070007800000070007800000060007000000
0600020000000400020000002D2376A131>I<00F8C00185C00705C00E03800E03801C03
803C0380380700780700780700780700F00E00F00E00F00E00F00E10F01C20701C20703C
20305C40308C400F078014157B9419>97 D<03C01F800380038003800700070007000700
0E000E000E000E001C001CF81D0C1E0E3C0638073807380F700F700F700F700FE01EE01E
E01EE03CE038E038607060E031C01F0010237BA216>I<007E0001C1000301800703800E
07801C07803C0000380000780000780000780000F00000F00000F00000F00000F0010070
0100700200300C001830000FC00011157B9416>I<00003C0003F8000038000038000038
0000700000700000700000700000E00000E00000E00000E00001C000F9C00185C00705C0
0E03800E03801C03803C0380380700780700780700780700F00E00F00E00F00E00F00E10
F01C20701C20703C20305C40308C400F078016237BA219>I<00F803840E021C023C0238
027804F018FFE0F000F000E000E000E000E000E002E0026004701830600F800F157A9416
>I<00003E0000470000CF00018F00018600038000038000038000070000070000070000
0700000700000E0000FFF0000E00000E00000E00001C00001C00001C00001C00001C0000
380000380000380000380000380000700000700000700000700000700000E00000E00000
E00000E00000C00001C00001C000718000F18000F300006200003C0000182D82A20F>I<
001F180030B800E0B801C07001C0700380700780700700E00F00E00F00E00F00E01E01C0
1E01C01E01C01E01C01E03800E03800E0780060B8006170001E700000700000700000E00
000E00000E00701C00F01800F0300060E0003F8000151F7E9416>I<00F0000FE00000E0
0000E00000E00001C00001C00001C00001C000038000038000038000038000070000071F
0007218007C0C00F00E00F00E00E00E00E00E01C01C01C01C01C01C01C01C03803803803
80380380380704700708700E08700E10700610E006206003C016237DA219>I<00C001E0
01C001C0000000000000000000000000000000001E002300430043008700870087000E00
0E001C001C001C00380038003840708070807080710032001C000B217BA00F>I<0000E0
0001E00001E00000C0000000000000000000000000000000000000000000000000001E00
002300004380008380008380010380010380000700000700000700000700000E00000E00
000E00000E00001C00001C00001C00001C00003800003800003800003800007000007000
00700070E000F0C000F180006300003C0000132B82A00F>I<00F00007E00000E00000E0
0000E00001C00001C00001C00001C0000380000380000380000380000700000701E00702
100704700E08F00E10F00E20600E40001D80001E00001FC0001C7000383800383800381C
00381C20703840703840703840701880E01880600F0014237DA216>I<01E00FC001C001
C001C0038003800380038007000700070007000E000E000E000E001C001C001C001C0038
003800380038007000700070007100E200E200E200E200640038000B237CA20C>I<1C0F
80F8002610C10C00476066060087807807008780780700870070070087007007000E00E0
0E000E00E00E000E00E00E000E00E00E001C01C01C001C01C01C001C01C01C001C01C038
20380380384038038070403803807080380380308070070031003003001E0023157B9428
>I<380F804C30C04E40608E80708F00708E00708E00701C00E01C00E01C00E01C00E038
01C03801C03801C0380384700388700308700708700310E003106001E016157B941B>I<
007E0001C3000381800701C00E01C01C01E03C01E03801E07801E07801E07801E0F003C0
F003C0F00380F00780700700700E00700C0030180018700007C00013157B9419>I<01C1
F002621804741C08780C08700E08700E08701E00E01E00E01E00E01E00E01E01C03C01C0
3C01C03C01C07803807003807003C0E003C1C0072380071E000700000700000E00000E00
000E00000E00001C00001C00001C0000FFC000171F7F9419>I<00F8400184C00705C00E
03800E03801C03803C0380380700780700780700780700F00E00F00E00F00E00F00E00F0
1C00701C00703C00305C0030B8000F380000380000380000700000700000700000700000
E00000E00000E0000FFC00121F7B9416>I<1C1F002620804741C08783C08703C0870180
8700000E00000E00000E00000E00001C00001C00001C00001C0000380000380000380000
38000070000030000012157B9415>I<00FC000183000200800401800C03800C03000C00
000F00000FF00007FC0003FE00003E00000F00000700700700F00600F00600E004004008
002030001FC00011157D9414>I<00C001C001C001C001C003800380038003800700FFF8
070007000E000E000E000E001C001C001C001C0038003800380038107020702070407080
31001E000D1F7C9E10>I<1E00602300E04380E04381C08381C08701C08701C00703800E
03800E03800E03801C07001C07001C07001C07081C0E10180E101C0E101C1E200C262007
C3C015157B941A>I<1C01802603C04707C04703C08701C08E00C08E00C00E00801C0080
1C00801C00803801003801003801003802003802003804003808001808000C300007C000
12157B9416>I<1E0060E02300E0F04380E1F04381C0F08381C0708701C0308701C03007
0380200E0380200E0380200E0380201C0700401C0700401C0700401C0700801C0700801C
0701001C0F01000C0B02000613840003E0F8001C157B9420>I<03C1E004621008347010
3CF02038F020386020380000700000700000700000700000E00000E00000E00000E02061
C040F1C040F1C080E2C100446200383C0014157D9416>I<1E00302300704380704380E0
8380E08700E08700E00701C00E01C00E01C00E01C01C03801C03801C03801C03801C0700
1C07001C07001C0F000C3E0003CE00000E00000E00001C00601C00F03800F03000E06000
80C0004380003E0000141F7B9418>I<01E02003F06007F8C0041F800801000802000004
000008000010000020000040000080000100000200000400800801001003003F060061FE
0040FC0080700013157D9414>I<FFFFFC16017C8C19>I<06021F04318841F080E00F0574
A019>126 D E /Fl 24 118 df<00001800000018000000380000003800000078000000
78000000B800000138000001380000023C0000021C0000041C00000C1C0000081C000010
1C0000101C0000201C0000201C00007FFC0000C01C0000801C0001001C0001001E000200
0E0002000E0004000E000C000E001C001E00FF00FFC01A1D7E9C1F>65
D<0003F020001E0C60003002E000E003C001C001C0038001C0070000C00E0000801E0000
801C0000803C0000803C000000780000007800000078000000F0000000F0000000F00000
00F0000000F0000400F0000400F0000400F0000800700008007000100038002000180040
000C0180000706000001F800001B1E7A9C1E>67 D<01FFFFF0003C00F000380030003800
2000380020003800200070002000700020007008200070080000E0100000E0100000E030
0000FFF00001C0200001C0200001C0200001C02000038040000380000003800000038000
00070000000700000007000000070000000F000000FFF000001C1C7E9B1B>70
D<01FFC0003C0000380000380000380000380000700000700000700000700000E00000E0
0000E00000E00001C00001C00001C00001C0000380020380020380020380040700040700
0C0700180700380E00F0FFFFF0171C7E9B1A>76 D<01FE0001FE003E0001E0002E0003C0
002E0005C0002E0005C0002E0009C0004E000B80004E001380004E002380004700238000
870047000087004700008700870000870107000107010E000107020E000107040E000107
040E000207081C000203881C000203901C000203A01C000403A038000403C038000403C0
38000C038038001C03007800FF8307FF00271C7E9B25>I<01FFFE00003C0380003801C0
003800E0003800E0003800E0007001E0007001E0007001E0007001C000E003C000E00380
00E0070000E01C0001FFF00001C0000001C0000001C00000038000000380000003800000
03800000070000000700000007000000070000000F000000FFE000001B1C7E9B1C>80
D<000F8400304C00403C0080180100180300180300180600100600100600000700000700
0003E00003FC0001FF00007F800007C00001C00001C00000C00000C02000C02000C06001
80600180600300600200F00400CC180083E000161E7D9C17>83 D<01E307170C0F180F38
0E300E700E700EE01CE01CE01CE01CE039E039E0396079319A1E0C10127C9115>97
D<00F803040E041C0E181C300070007000E000E000E000E000E000E0046008601030600F
800F127C9113>99 D<0007E00000E00000E00001C00001C00001C00001C0000380000380
00038000038001E7000717000C0F00180F00380E00300E00700E00700E00E01C00E01C00
E01C00E01C00E03900E03900E03900607900319A001E0C00131D7C9C15>I<00F807040C
0418023804300470087FF0E000E000E000E000E00060046008301030600F800F127C9113
>I<0003C0000670000C70001C60001C00001C0000380000380000380000380000380003
FF8000700000700000700000700000700000E00000E00000E00000E00000E00001C00001
C00001C00001C00001C000038000038000038000030000030000070000C60000E60000CC
00007800001425819C0D>I<0078C001C5C00303C00603C00E03800C03801C03801C0380
380700380700380700380700380E00380E00380E00181E000C7C00079C00001C00001C00
003800003800C03000E07000C1C0007F0000121A7E9113>I<0FC00001C00001C0000380
000380000380000380000700000700000700000700000E3E000EC3000F03800E03801E03
801C03801C03801C0380380700380700380700380E00700E40700E40701C40701C80E00C
80600700121D7E9C15>I<01800380010000000000000000000000000000001C00260047
0047008E008E000E001C001C001C0038003800710071007100720072003C00091C7C9B0D
>I<1F800380038007000700070007000E000E000E000E001C001C001C001C0038003800
380038007000700070007000E200E200E200E40064003800091D7D9C0B>108
D<1C1E0780266318C04683A0E04703C0E08E0380E08E0380E00E0380E00E0380E01C0701
C01C0701C01C0701C01C070380380E0388380E0388380E0708380E0710701C0320300C01
C01D127C9122>I<383E004CC3004D03804E03809E03809C03801C03801C038038070038
0700380700380E00700E40700E40701C40701C80E00C8060070012127C9117>I<00F800
030C000E06001C0300180300300300700380700380E00700E00700E00700E00E00E00E00
E01C0060180060300030E0000F800011127C9115>I<03878004C86004D03004E03009C0
3009C03801C03801C0380380700380700380700380600700E00700C00701800783000E86
000E78000E00000E00001C00001C00001C00001C0000380000FF0000151A809115>I<1C
3C2642468747078E068E000E000E001C001C001C001C0038003800380038007000300010
127C9112>114 D<01F006080C080C1C18181C001F001FC00FF007F0007800386030E030
C030806060C01F000E127D9111>I<03000700070007000E000E000E000E00FFE01C001C
001C0038003800380038007000700070007000E080E080E100E100660038000B1A7C990E
>I<1C01802E03804E03804E03808E07008E07001C07001C0700380E00380E00380E0038
0E00301C80301C80301C80383C80184D000F860011127C9116>I
E /Fm 53 124 df<60F0F8680808081010204080050C7C9C0C>39
D<60F0F0701010101020204080040C7C830C>44 D<FFE0FFE00B0280890E>I<60F0F060
04047C830C>I<03C00C301818300C300C700E60066006E007E007E007E007E007E007E0
07E007E007E007E007E007E00760066006700E300C300C18180C3007E0101D7E9B15>48
D<010007003F00C700070007000700070007000700070007000700070007000700070007
00070007000700070007000700070007000700FFF80D1C7C9B15>I<07C01830201C400C
400EF00FF80FF807F8077007000F000E000E001C001C00380070006000C0018003000601
0C01180110023FFE7FFEFFFE101C7E9B15>I<07E01830201C201C781E780E781E381E00
1C001C00180030006007C00030001C001C000E000F000F700FF80FF80FF80FF00E401C20
1C183007C0101D7E9B15>I<000C00000C00001C00003C00003C00005C0000DC00009C00
011C00031C00021C00041C000C1C00081C00101C00301C00201C00401C00C01C00FFFFC0
001C00001C00001C00001C00001C00001C00001C0001FFC0121C7F9B15>I<00F0030C04
040C0E181E301E300C700070006000E3E0E430E818F00CF00EE006E007E007E007E007E0
07600760077006300E300C18180C3003E0101D7E9B15>54 D<03E00C301008200C200660
066006700670067C0C3E183FB01FE007F007F818FC307E601E600FC007C003C003C003C0
0360026004300C1C1007E0101D7E9B15>56 D<03C00C301818300C700C600EE006E006E0
07E007E007E007E0076007700F300F18170C2707C700060006000E300C780C7818701820
3010C00F80101D7E9B15>I<60F0F0600000000000000000000060F0F06004127C910C>I<
60F0F0600000000000000000000060F0F0701010101020204080041A7C910C>I<003F80
0000C0600003001800040004000800020010000100201F00802070808040E0404040C038
4041C038408180382083803820838038208380382083803820838038208180382041C038
2040C0384040E0784020709880201F0F00100000000800000004000000030001E000C01F
80003FF0001B1D7E9C20>64 D<000600000006000000060000000F0000000F0000000F00
0000178000001780000037C0000023C0000023C0000043E0000041E0000041E0000080F0
000080F0000080F000010078000100780001FFF80002003C0002003C0002003C0004001E
0004001E000C001F000C000F001E001F00FF00FFF01C1D7F9C1F>I<001F808000E06180
01801980070007800E0003801C0003801C00018038000180780000807800008070000080
F0000000F0000000F0000000F0000000F0000000F0000000F0000000F000000070000080
7800008078000080380000801C0001001C0001000E000200070004000180080000E03000
001FC000191E7E9C1E>67 D<FFFFC0000F00F0000F003C000F000E000F0007000F000700
0F0003800F0003C00F0001C00F0001C00F0001E00F0001E00F0001E00F0001E00F0001E0
0F0001E00F0001E00F0001E00F0001C00F0001C00F0003C00F0003800F0007800F000700
0F000E000F001C000F007000FFFFC0001B1C7E9B20>I<FFFFFC0F003C0F000C0F00040F
00040F00060F00020F00020F01020F01000F01000F01000F03000FFF000F03000F01000F
01000F01000F01010F00010F00020F00020F00020F00060F00060F000C0F003CFFFFFC18
1C7E9B1C>I<001F808000E0618001801980070007800E0003801C0003801C0001803800
0180780000807800008070000080F0000000F0000000F0000000F0000000F0000000F000
0000F000FFF0F0000F80700007807800078078000780380007801C0007801C0007800E00
078007000B800180118000E06080001F80001C1E7E9C21>71 D<07FF80007C00003C0000
3C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C00003C0000
3C00003C00003C00003C00003C00003C00703C00F83C00F83C00F8380070780040700030
E0000F8000111D7F9B15>74 D<FFF8000F80000F00000F00000F00000F00000F00000F00
000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00080F00
080F00080F00180F00180F00100F00300F00700F01F0FFFFF0151C7E9B1A>76
D<FF8000FF800F8000F8000F8000F8000BC00178000BC00178000BC001780009E0027800
09E002780008F004780008F004780008F004780008780878000878087800087808780008
3C107800083C107800083C107800081E207800081E207800081E207800080F407800080F
40780008078078000807807800080780780008030078001C03007800FF8307FF80211C7E
9B26>I<FF001FF00F8003800FC001000BC0010009E0010008F0010008F0010008780100
083C0100083E0100081E0100080F0100080F8100080781000803C1000801E1000801F100
0800F1000800790008007D0008003D0008001F0008001F0008000F000800070008000300
1C000300FF8001001C1C7F9B1F>I<FFFF800F00E00F00780F003C0F001C0F001E0F001E
0F001E0F001E0F001E0F001C0F003C0F00780F00E00FFF800F00000F00000F00000F0000
0F00000F00000F00000F00000F00000F00000F00000F0000FFF000171C7E9B1C>80
D<003F800000E0E0000380380007001C000E000E001C0007003C00078038000380780003
C0780003C0700001C0F00001E0F00001E0F00001E0F00001E0F00001E0F00001E0F00001
E0F00001E0700001C0780003C0780003C0380003803C0E07801C1107000E208E0007205C
0003A0780000F0E020003FE0200000602000003060000038E000003FC000003FC000001F
8000000F001B257E9C20>I<FFFF00000F01E0000F0078000F003C000F001C000F001E00
0F001E000F001E000F001E000F001C000F003C000F0078000F01E0000FFF00000F01E000
0F0070000F0078000F003C000F003C000F003C000F003C000F003C000F003C000F003C10
0F003C100F001C100F001C10FFF00E20000003C01C1D7E9B1F>I<07E0801C1980300580
300380600180E00180E00080E00080E00080F00000F800007C00007FC0003FF8001FFE00
07FF0000FF80000F800007C00003C00001C08001C08001C08001C0C00180C00180E00300
D00200CC0C0083F800121E7E9C17>I<7FFFFFC0700F01C0600F00C0400F0040400F0040
C00F0020800F0020800F0020800F0020000F0000000F0000000F0000000F0000000F0000
000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000
000F0000000F0000000F0000001F800003FFFC001B1C7F9B1E>I<FFF01FF00F0003800F
0001000F0001000F0001000F0001000F0001000F0001000F0001000F0001000F0001000F
0001000F0001000F0001000F0001000F0001000F0001000F0001000F0001000F0001000F
0001000F00010007000200078002000380040001C0040000E0180000706000000F80001C
1D7F9B1F>I<1FC000307000783800781C00301C00001C00001C0001FC000F1C00381C00
701C00601C00E01C40E01C40E01C40603C40304E801F870012127E9115>97
D<FC00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C7C
001D87001E01801C00C01C00E01C00601C00701C00701C00701C00701C00701C00701C00
601C00E01C00C01E018019070010FC00141D7F9C17>I<03F80C0C181E301E700C6000E0
00E000E000E000E000E00060007002300218040C1803E00F127F9112>I<001F80000380
00038000038000038000038000038000038000038000038000038003F3800E0B80180780
300380700380600380E00380E00380E00380E00380E00380E00380600380700380300380
1807800E1B8003E3F0141D7F9C17>I<07E00C301818300C700E6006E006FFFEE000E000
E000E00060007002300218040C1803E00F127F9112>I<00F8018C071E061E0E0C0E000E
000E000E000E000E00FFE00E000E000E000E000E000E000E000E000E000E000E000E000E
000E000E000E007FE00F1D809C0D>I<00038007C4C01C78C0383880301800701C00701C
00701C00701C003018003838001C700027C0002000002000003000003FF8001FFF001FFF
802003806001C0C000C0C000C0C000C06001803003001C0E0007F800121C7F9215>I<FC
00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C00001C7C001C
87001D03001E03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C
03801C03801C03801C0380FF9FF0141D7F9C17>I<18003C003C00180000000000000000
00000000000000FC001C001C001C001C001C001C001C001C001C001C001C001C001C001C
001C001C00FF80091D7F9C0C>I<FC00001C00001C00001C00001C00001C00001C00001C
00001C00001C00001C00001C0FE01C07801C06001C0C001C10001C20001C40001CE0001D
E0001E70001C78001C38001C3C001C1C001C0E001C0F001C0F80FF9FE0131D7F9C16>
107 D<FC001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C
001C001C001C001C001C001C001C001C001C001C001C00FF80091D7F9C0C>I<FC7E07E0
001C838838001D019018001E01E01C001C01C01C001C01C01C001C01C01C001C01C01C00
1C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C
01C01C001C01C01C00FF8FF8FF8021127F9124>I<FC7C001C87001D03001E03801C0380
1C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C0380
FF9FF014127F9117>I<03F0000E1C00180600300300700380600180E001C0E001C0E001
C0E001C0E001C0E001C06001807003803003001806000E1C0003F00012127F9115>I<FC
7C001D87001E01801C01C01C00E01C00E01C00701C00701C00701C00701C00701C00701C
00E01C00E01C01C01E01801D07001CFC001C00001C00001C00001C00001C00001C00001C
0000FF8000141A7F9117>I<FCE01D381E781E781C301C001C001C001C001C001C001C00
1C001C001C001C001C00FFC00D127F9110>114 D<1F9020704030C010C010E010F8007F
803FE00FF000F880388018C018C018E010D0608FC00D127F9110>I<0400040004000400
0C000C001C003C00FFE01C001C001C001C001C001C001C001C001C001C101C101C101C10
1C100C100E2003C00C1A7F9910>I<FC1F801C03801C03801C03801C03801C03801C0380
1C03801C03801C03801C03801C03801C03801C03801C07800C07800E1B8003E3F014127F
9117>I<FF07E03C03801C01001C01000E02000E02000F06000704000704000388000388
0003C80001D00001D00000E00000E00000E00000400013127F9116>I<FF3FC7E03C0703
C01C0701801C0701001C0B01000E0B82000E0B82000E1182000711C4000711C4000720C4
0003A0E80003A0E80003C0680001C0700001C0700001803000008020001B127F911E>I<
FF07E03C03801C01001C01000E02000E02000F060007040007040003880003880003C800
01D00001D00000E00000E00000E000004000004000008000008000F08000F10000F30000
660000380000131A7F9116>121 D<FFFFF01401808B15>123 D E
/Fn 5 85 df<0020004000C003C00CC00180018001800180030003000300030006000600
060006000C00FFC00B137C9212>49 D<01F00618080C120C110C220C220C240C18180030
0060018006000800100420047C18C7F081E00E137D9212>I<07FF8000C0600180300180
180180180180180300300300600301C003FE000603800601800600C00600C00C01800C01
800C01800C0184180188FF00F016147E9319>82 D<00F880030580040300080100080100
0801000800000C00000F000007E00000F800001800000C00000C00400800400800400000
601000F060008F800011147D9313>I<1FFFF03818302030302030104030104030208060
2000600000600000600000C00000C00000C00000C0000180000180000180000180000300
003FF00014147B9318>I E /Fo 26 122 df<004000C000C003801D8001800180030003
000300030006000600060006000C000C000C000C001800FF800A157C9412>49
D<00F00308040C0904090611061106220C240C18180030006000C0030004001800200420
0C7C18C7F081E00F157D9412>I<00F8010C02060506090609060A040E0C0018007003E0
00300010001000186030E030C020806041803F000F157D9412>I<003F0400E088038058
0600380C00381C0010380010300010700010600000E00000E00000E00000C00000C00040
C00040C00080E00080E0010060020030040018180007E00016177A961A>67
D<07FE00E000E000E000E001C001C001C001C0038003800380038007000700070007000E
000E000E000E001C00FF800F177E960E>73 D<03FE0000E00000E00000E00000E00001C0
0001C00001C00001C0000380000380000380000380000700000700200700200700400E00
400E00C00E00800E01801C0780FFFF0013177E9616>76 D<03F0003F8000F000780000B8
00780000B800B80000B80138000138017000013802700001380270000138047000023808
E000021C08E000021C10E000021C10E000041C21C000041C41C000041C41C000041C81C0
00081D038000081D038000080E038000080E038000180C070000FE083FE00021177E9620
>I<03F00FE000F0030000F0020000B8020000B80200011C0400011C0400011C0400010E
0400020E0800020E080002070800020708000403900004039000040390000401D0000801
E0000800E0000800E0000800E00018004000FE0040001B177E961A>I<001F8000E0C001
80600300300600380C00381C0018180018380038300038700038700038700038700070E0
0070E000E06000E07001C0700380300300380E001C180007E00015177B961B>I<03FFE0
00E03800E01C00E00C00E00C01C01C01C01C01C01C01C0380380700380E003FF80038000
0700000700000700000700000E00000E00000E00000E00001C0000FF800016177E9618>
I<03FFE000E03800E01C00E01C00E01C01C01C01C01C01C01C01C0380380700381C003FF
000381800700C00700E00700E00700E00E01C00E01C00E01C20E01C21C00C4FF80781717
7E961A>82 D<007C400182800301800601800601800C01000C01000E00000E00000FC000
07F80003FC00007C00000E00000E00000600200600400C00400C00600800601000D86000
87C00012177D9614>I<1FFFFC38381C2038086038084038084070088070080070000070
0000E00000E00000E00000E00001C00001C00001C00001C0000380000380000380000380
000700007FF00016177A961A>I<03900C70187030303060606060606060C0C0C0C840C8
41C862D01C700D0E7C8D12>97 D<7C0018001800180018003000300030003000678068C0
70406060C060C060C060C06080C080C08180C10046003C000B177C9610>I<003E000C00
0C000C000C001800180018001803B00C70187030303060606060606060C0C0C0C840C841
C862D01C700F177C9612>100 D<07801840302060206040FF80C000C000C000C000C020
C04061803E000B0E7C8D10>I<030706000000000000182C4C4C8C181818303262642438
08177D960B>105 D<3078498C4E044C049C0C180C180C180C3018301930313031601260
1C100E7D8D14>110 D<078018C0304060606060C060C060C06080C080C08180C1004600
3C000B0E7B8D12>I<30F04B184E384C3098001800180018003000300030003000600060
000D0E7D8D0F>114 D<07800C4018E018E038001E001F8007C000C060C0E0C0C180C300
3E000B0E7D8D0F>I<060006000C000C000C000C00FF8018001800180030003000300030
0060006100610062006400380009147D930C>I<38042C0C4C0C4C0C8C18181818181818
303030323032307218B40F1C0F0E7D8D13>I<0E3C1346218E218C430003000300030006
000608C608E610CA2071C00F0E7E8D10>120 D<38042C0C4C0C4C0C8C18181818181818
303030303030307018E00F60006000C0E0C0E18043003C000E147D8D11>I
E /Fp 84 128 df<001FC1F00070371800C03E3C01807C3C0380783C0700380007003800
07003800070038000700380007003800070038000700380007003800FFFFFFC007003800
070038000700380007003800070038000700380007003800070038000700380007003800
070038000700380007003800070038000700380007003800070038000700380007003C00
7FE1FFC01E2380A21C>11 D<001FC0000070200000C01000018038000380780007007800
0700300007000000070000000700000007000000070000000700000007000000FFFFF800
070078000700380007003800070038000700380007003800070038000700380007003800
070038000700380007003800070038000700380007003800070038000700380007003800
070038007FE1FF80192380A21B>I<001FD8000070380000C07800018078000380780007
0038000700380007003800070038000700380007003800070038000700380007003800FF
FFF800070038000700380007003800070038000700380007003800070038000700380007
003800070038000700380007003800070038000700380007003800070038000700380007
003800070038007FF3FF80192380A21B>I<000FC07F00007031C08000E00B004001801E
00E003803E01E007003C01E007001C00C007001C000007001C000007001C000007001C00
0007001C000007001C000007001C0000FFFFFFFFE007001C01E007001C00E007001C00E0
07001C00E007001C00E007001C00E007001C00E007001C00E007001C00E007001C00E007
001C00E007001C00E007001C00E007001C00E007001C00E007001C00E007001C00E00700
1C00E007001C00E07FF1FFCFFE272380A229>I<07070F1E1C38604080080976A218>19
D<70F8F8F8F8F8F8F8707070707070707070707070202020202020000000000070F8F8F8
7005247CA30E>33 D<7038F87CFC7EFC7E743A0402040204020402080408041008100820
1040200F0F7EA218>I<70F8FCFC7404040404080810102040060F7CA20E>39
D<00200040008001000300060004000C000C001800180030003000300070006000600060
00E000E000E000E000E000E000E000E000E000E000E000E000E000E00060006000600070
00300030003000180018000C000C0004000600030001000080004000200B327CA413>I<
800040002000100018000C000400060006000300030001800180018001C000C000C000C0
00E000E000E000E000E000E000E000E000E000E000E000E000E000E000C000C000C001C0
018001800180030003000600060004000C00180010002000400080000B327DA413>I<00
018000000180000001800000018000000180000001800000018000000180000001800000
018000000180000001800000018000000180000001800000018000FFFFFFFEFFFFFFFE00
018000000180000001800000018000000180000001800000018000000180000001800000
0180000001800000018000000180000001800000018000000180001F227D9C26>43
D<70F8FCFC7404040404080810102040060F7C840E>I<FFF8FFF80D02808B10>I<70F8F8
F87005057C840E>I<000080000180000180000300000300000300000600000600000600
000C00000C00000C00001800001800001800003000003000003000006000006000006000
00C00000C00000C000018000018000018000018000030000030000030000060000060000
0600000C00000C00000C0000180000180000180000300000300000300000600000600000
600000C00000C00000C0000011317DA418>I<01F000071C000C06001803003803803803
807001C07001C07001C07001C0F001E0F001E0F001E0F001E0F001E0F001E0F001E0F001
E0F001E0F001E0F001E0F001E0F001E0F001E07001C07001C07001C07803C03803803803
801C07000C0600071C0001F00013227EA018>I<008003800F80F3800380038003800380
038003800380038003800380038003800380038003800380038003800380038003800380
0380038003800380038007C0FFFE0F217CA018>I<03F0000C1C001007002007804003C0
4003C08003E0F003E0F801E0F801E0F801E02003E00003E00003C00003C0000780000700
000E00001C0000180000300000600000C000018000010000020020040020080020180060
3000403FFFC07FFFC0FFFFC013217EA018>I<03F8000C1E00100F002007804007C07807
C07803C07807C03807C0000780000780000700000F00000C0000380003F000001C00000F
000007800007800003C00003C00003E02003E07003E0F803E0F803E0F003C04003C04007
80200780100F000C1C0003F00013227EA018>I<000300000300000700000700000F0000
170000170000270000670000470000870001870001070002070006070004070008070008
0700100700200700200700400700C00700FFFFF800070000070000070000070000070000
0700000700000F80007FF015217FA018>I<1000801E07001FFF001FFE001FF80017E000
10000010000010000010000010000010000011F800120C001C07001803801003800001C0
0001C00001E00001E00001E00001E07001E0F001E0F001E0E001C08001C04003C0400380
2007001006000C1C0003F00013227EA018>I<007E0001C1000300800601C00C03C01C03
C0180180380000380000780000700000700000F0F800F30C00F40600F40300F80380F801
C0F001C0F001E0F001E0F001E0F001E0F001E07001E07001E07001E03801C03801C01803
801C03000C0600070C0001F00013227EA018>I<4000006000007FFFE07FFFC07FFFC040
0080C0010080010080020080020000040000080000080000100000200000200000600000
400000C00000C00001C00001C00001800003800003800003800003800007800007800007
800007800007800007800007800003000013237DA118>I<01F800060E00080300100180
2001806000C06000C06000C07000C07000C07801803E01003F02001FC4000FF80003F800
01FC00067E00083F00100F803007C06003C06000E0C000E0C00060C00060C00060C00060
6000406000C03000801803000E0E0003F00013227EA018>I<01F000060C000C06001807
00380380700380700380F001C0F001C0F001C0F001E0F001E0F001E0F001E0F001E07001
E07003E03803E01805E00C05E00619E003E1E00001C00001C00001C00003800003803003
80780700780600700C002018001030000FC00013227EA018>I<70F8F8F8700000000000
00000000000070F8F8F87005157C940E>I<70F8F8F870000000000000000000000070F8
F8F87808080808101010204040051F7C940E>I<FFFFFFFEFFFFFFFE0000000000000000
000000000000000000000000000000000000000000000000FFFFFFFEFFFFFFFE1F0C7D91
26>61 D<07E01838201C400E800FF00FF00FF00F000F000E001C00380030006000C000C0
00800080018001000100010001000100010000000000000000000000038007C007C007C0
038010237DA217>63 D<0001800000018000000180000003C0000003C0000003C0000005
E0000005E0000009F0000008F0000008F00000107800001078000010780000203C000020
3C0000203C0000401E0000401E0000C01F0000800F0000800F0001FFFF80010007800100
0780020003C0020003C0020003C0040001E0040001E0040001E0080000F01C0000F03E00
01F8FF800FFF20237EA225>65 D<FFFFF8000F800E0007800780078003C0078003E00780
01E0078001F0078001F0078001F0078001F0078001F0078001E0078003E0078007C00780
0F8007803E0007FFFE0007800780078003C0078001E0078001F0078000F0078000F80780
00F8078000F8078000F8078000F8078000F8078001F0078001F0078003E0078007C00F80
0F00FFFFFC001D227EA123>I<0007E0100038183000E0063001C00170038000F0070000
F00E0000701E0000701C0000303C0000303C0000307C0000107800001078000010F80000
00F8000000F8000000F8000000F8000000F8000000F8000000F800000078000000780000
107C0000103C0000103C0000101C0000201E0000200E000040070000400380008001C001
0000E0020000381C000007E0001C247DA223>I<FFFFF0000F801E000780070007800380
078001C0078000E0078000F007800078078000780780007C0780003C0780003C0780003C
0780003E0780003E0780003E0780003E0780003E0780003E0780003E0780003E0780003E
0780003C0780003C0780007C0780007807800078078000F0078000E0078001E0078003C0
078007000F801E00FFFFF0001F227EA125>I<FFFFFFC00F8007C0078001C0078000C007
800040078000400780006007800020078000200780002007802020078020000780200007
802000078060000780E00007FFE0000780E0000780600007802000078020000780200007
802008078000080780000807800010078000100780001007800030078000300780007007
8000E00F8003E0FFFFFFE01D227EA121>I<FFFFFFC00F8007C0078001C0078000C00780
004007800040078000600780002007800020078000200780202007802000078020000780
2000078060000780E00007FFE0000780E000078060000780200007802000078020000780
200007800000078000000780000007800000078000000780000007800000078000000780
00000FC00000FFFE00001B227EA120>I<0007F008003C0C1800E0021801C001B8038000
F8070000780F0000381E0000381E0000183C0000183C0000187C00000878000008780000
08F8000000F8000000F8000000F8000000F8000000F8000000F8000000F8001FFF780000
F8780000787C0000783C0000783C0000781E0000781E0000780F00007807000078038000
B801C000B800E00318003C0C080007F00020247DA226>I<FFFC3FFF0FC003F0078001E0
078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0
078001E0078001E0078001E0078001E007FFFFE0078001E0078001E0078001E0078001E0
078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0078001E0
078001E0078001E00FC003F0FFFC3FFF20227EA125>I<FFFC0FC0078007800780078007
800780078007800780078007800780078007800780078007800780078007800780078007
8007800780078007800780078007800FC0FFFC0E227EA112>I<03FFE0001F00000F0000
0F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0000
0F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00700F00F8
0F00F80F00F80E00F01E00401C0020380018700007C00013237EA119>I<FFFC00FF800F
C0007C000780003000078000200007800040000780008000078001000007800200000780
040000078008000007801000000780200000078040000007808000000781C000000783E0
00000785E000000788F000000790F0000007A078000007C03C000007803C000007801E00
0007800F000007800F00000780078000078007C000078003C000078001E000078001E000
078000F000078000F8000FC000FC00FFFC07FF8021227EA126>I<FFFC001F80000F0000
0F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F0000
0F00000F00000F00000F00000F00000F00000F00000F00010F00010F00010F00010F0003
0F00030F00020F00060F00060F001E1F007EFFFFFE18227DA11E>I<FFC00003FF0FC000
03F007C00003E005E00005E005E00005E004F00009E004F00009E004F00009E004780011
E004780011E004780011E0043C0021E0043C0021E0043C0021E0041E0041E0041E0041E0
040F0081E0040F0081E0040F0081E004078101E004078101E004078101E00403C201E004
03C201E00401E401E00401E401E00401E401E00400F801E00400F801E00400F801E00400
7001E00E007001E01F007003F0FFE0203FFF28227EA12D>I<FF8007FF07C000F807C000
7005E0002004F0002004F0002004780020047C0020043C0020041E0020041F0020040F00
2004078020040780200403C0200401E0200401E0200400F0200400F8200400782004003C
2004003E2004001E2004000F2004000F20040007A0040003E0040003E0040001E0040001
E0040000E00E0000601F000060FFE0002020227EA125>I<000FE00000783C0000E00E00
03C00780078003C00F0001E00E0000E01E0000F03C0000783C0000787C00007C7C00007C
7800003C7800003CF800003EF800003EF800003EF800003EF800003EF800003EF800003E
F800003EF800003E7800003C7C00007C7C00007C3C0000783E0000F81E0000F00F0001E0
0F0001E0078003C003C0078000E00E0000783C00000FE0001F247DA226>I<FFFFF0000F
803C0007800F0007800780078007C0078003C0078003E0078003E0078003E0078003E007
8003E0078003E0078003C0078007C00780078007800F0007803C0007FFF0000780000007
800000078000000780000007800000078000000780000007800000078000000780000007
8000000780000007800000078000000FC00000FFFC00001B227EA121>I<FFFFE000000F
803C000007800E00000780078000078007C000078003C000078003E000078003E0000780
03E000078003E000078003E000078003C000078007C000078007800007800E000007803C
000007FFE000000780700000078038000007801C000007801E000007800E000007800F00
0007800F000007800F000007800F000007800F800007800F800007800F800007800F8080
07800FC080078007C0800FC003C100FFFC01E2000000007C0021237EA124>82
D<03F0200C0C601802603001E07000E0600060E00060E00060E00020E00020E00020F000
00F000007800007F00003FF0001FFE000FFF0003FF80003FC00007E00001E00000F00000
F0000070800070800070800070800070C00060C00060E000C0F000C0C80180C6070081FC
0014247DA21B>I<7FFFFFF87807807860078018400780084007800840078008C007800C
800780048007800480078004800780040007800000078000000780000007800000078000
000780000007800000078000000780000007800000078000000780000007800000078000
00078000000780000007800000078000000780000007800000078000000FC00001FFFE00
1E227EA123>I<FFFC07FF0FC000F8078000700780002007800020078000200780002007
800020078000200780002007800020078000200780002007800020078000200780002007
800020078000200780002007800020078000200780002007800020078000200780002007
8000200380004003C0004003C0004001C0008000E000800060010000300600001C080000
03F00020237EA125>I<FFF0007FC01F80001F000F00000C000F80000C00078000080007
8000080003C000100003C000100003C000100001E000200001E000200001F000600000F0
00400000F000400000780080000078008000007C008000003C010000003C010000001E02
0000001E020000001E020000000F040000000F040000000F8C0000000788000000078800
000003D000000003D000000003F000000001E000000001E000000000C000000000C00000
0000C0000022237FA125>I<FFF03FFC03FE1F8007E000F80F0003C000700F0003C00020
0F0001E00020078001E00040078001E00040078003F0004003C002F0008003C002F00080
03C002F0008003E00478018001E00478010001E00478010001E0083C010000F0083C0200
00F0083C020000F0101E02000078101E04000078101E04000078200F0400003C200F0800
003C200F0800003C600F8800001E40079000001E40079000001E4007D000001F8003F000
000F8003E000000F8003E000000F0001E00000070001C00000070001C00000060000C000
0002000080002F237FA132>I<FFF0007FC01F80001F000F80000C00078000080007C000
080003C000100001E000200001F000200000F000400000F800C000007C008000003C0100
00003E010000001E020000001F060000000F84000000078800000007D800000003D00000
0003E000000001E000000001E000000001E000000001E000000001E000000001E0000000
01E000000001E000000001E000000001E000000001E000000001E000000003E00000003F
FE000022227FA125>89 D<FEFEC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0FEFE07317BA40E>91
D<0804100820102010402040208040804080408040B85CFC7EFC7E7C3E381C0F0F7AA218
>I<FEFE0606060606060606060606060606060606060606060606060606060606060606
06060606060606060606060606FEFE07317FA40E>I<08102020404080808080B8FCFC7C
38060F7DA20E>96 D<1FE000303800780C00780E0030070000070000070000070000FF00
07C7001E07003C0700780700700700F00708F00708F00708F00F087817083C23900FC1E0
15157E9418>I<0E0000FE00001E00000E00000E00000E00000E00000E00000E00000E00
000E00000E00000E00000E00000E1F000E61C00E80600F00300E00380E003C0E001C0E00
1E0E001E0E001E0E001E0E001E0E001E0E001E0E001C0E003C0E00380F00700C80600C41
C0083F0017237FA21B>I<01FE000703000C07801C0780380300780000700000F00000F0
0000F00000F00000F00000F00000F000007000007800403800401C00800C010007060001
F80012157E9416>I<0000E0000FE00001E00000E00000E00000E00000E00000E00000E0
0000E00000E00000E00000E00000E001F8E00704E00C02E01C01E03800E07800E07000E0
F000E0F000E0F000E0F000E0F000E0F000E0F000E07000E07800E03800E01801E00C02E0
070CF001F0FE17237EA21B>I<01FC000707000C03801C01C03801C07801E07000E0F000
E0FFFFE0F00000F00000F00000F00000F000007000007800203800201C00400E00800703
0000FC0013157F9416>I<003E0000E30001C78003878003078007000007000007000007
0000070000070000070000070000070000FFF80007000007000007000007000007000007
000007000007000007000007000007000007000007000007000007000007000007000007
00000780007FF000112380A20F>I<00007003F1980E1E181C0E18380700380700780780
7807807807807807803807003807001C0E001E1C0033F000200000200000300000380000
3FFE001FFFC00FFFE03000F0600030C00018C00018C00018C000186000306000303800E0
0E038003FE0015217F9518>I<0E0000FE00001E00000E00000E00000E00000E00000E00
000E00000E00000E00000E00000E00000E00000E1F800E60C00E80E00F00700F00700E00
700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00
700E00700E0070FFE7FF18237FA21B>I<1C003E003E003E001C00000000000000000000
000000000000000E007E001E000E000E000E000E000E000E000E000E000E000E000E000E
000E000E000E000E000E00FFC00A227FA10E>I<00E001F001F001F000E0000000000000
00000000000000000000007007F000F00070007000700070007000700070007000700070
00700070007000700070007000700070007000700070007000706070F0E0F0C061803F00
0C2C83A10F>I<0E0000FE00001E00000E00000E00000E00000E00000E00000E00000E00
000E00000E00000E00000E00000E03FC0E01F00E01C00E01800E02000E04000E08000E10
000E38000EF8000F1C000E1E000E0E000E07000E07800E03C00E01C00E01E00E00F00E00
F8FFE3FE17237FA21A>I<0E00FE001E000E000E000E000E000E000E000E000E000E000E
000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E000E
000E000E000E00FFE00B237FA20E>I<0E1FC07F00FE60E183801E807201C00F003C00E0
0F003C00E00E003800E00E003800E00E003800E00E003800E00E003800E00E003800E00E
003800E00E003800E00E003800E00E003800E00E003800E00E003800E00E003800E00E00
3800E00E003800E0FFE3FF8FFE27157F942A>I<0E1F80FE60C01E80E00F00700F00700E
00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E
00700E00700E0070FFE7FF18157F941B>I<01FC000707000C01801800C03800E0700070
700070F00078F00078F00078F00078F00078F00078F000787000707800F03800E01C01C0
0E038007070001FC0015157F9418>I<0E1F00FE61C00E80600F00700E00380E003C0E00
3C0E001E0E001E0E001E0E001E0E001E0E001E0E001E0E003C0E003C0E00380F00700E80
E00E41C00E3F000E00000E00000E00000E00000E00000E00000E00000E00000E0000FFE0
00171F7F941B>I<01F8200704600E02601C01603801E07800E07800E0F000E0F000E0F0
00E0F000E0F000E0F000E0F000E07800E07800E03801E01C01E00C02E0070CE001F0E000
00E00000E00000E00000E00000E00000E00000E00000E00000E0000FFE171F7E941A>I<
0E3CFE461E8F0F0F0F060F000E000E000E000E000E000E000E000E000E000E000E000E00
0E000F00FFF010157F9413>I<0F8830786018C018C008C008E008F0007F003FE00FF001
F8003C801C800C800CC00CC008E018D0308FC00E157E9413>I<02000200020002000600
060006000E001E003E00FFFC0E000E000E000E000E000E000E000E000E000E000E000E04
0E040E040E040E040E040708030801F00E1F7F9E13>I<0E0070FE07F01E00F00E00700E
00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E00700E
00F00E00F006017003827800FC7F18157F941B>I<FF80FE1E00781E00300E00200E0020
0700400700400780C003808003808001C10001C10000E20000E20000E200007400007400
00380000380000380000100017157F941A>I<FF8FF87F3E01E03C1C01C0181C01E0180E
01E0100E0260100E027010070270200704302007043820038438400388184003881C4001
C81C8001D00C8001D00E8000F00F0000E0070000E00700006006000040020020157F9423
>I<FF83FE1F00F00E00C007008007810003830001C20000E40000780000780000380000
3C00004E00008F000187000103800201C00401E00C00E03E01F0FF03FE17157F941A>I<
FF80FE1E00781E00300E00200E00200700400700400780C003808003808001C10001C100
00E20000E20000E200007400007400003800003800003800001000001000002000002000
002000004000F04000F08000F180004300003C0000171F7F941A>I<3FFFC03803803007
80200700600E00401C00403C0040380000700000E00001E00001C0000380400700400F00
400E00C01C0080380080780180700780FFFF8012157F9416>I<FFFFFE1701808C18>I<60
30F078F8F8F07860300D057BA118>127 D E /Fq 35 120 df<0001C0000003C000000F
C000007FC0001FFFC000FFFFC000FFBFC000E03FC000003FC000003FC000003FC000003F
C000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003F
C000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003F
C000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003F
C000003FC000003FC000003FC000003FC0007FFFFFF07FFFFFF07FFFFFF01C2E7AAD28>
49 D<003FE00001FFFE0007FFFF800F80FFC01E003FE038001FF07C000FF87E0007FCFF
0007FCFF8007FEFF8007FEFF8003FEFF8003FE7F0003FE3E0007FE000007FE000007FC00
0007FC00000FF800000FF800000FF000001FE000001FC000003F8000007F0000007E0000
00F8000001F0000003E0000007C000000F0000001E000E003C000E0038000E0070001E00
E0001C01C0001C0300003C07FFFFFC0FFFFFFC1FFFFFFC3FFFFFFC7FFFFFF8FFFFFFF8FF
FFFFF8FFFFFFF81F2E7CAD28>I<001FF8000000FFFF000003FFFFC00007E01FF0000F00
07F8001F8007FC003FC007FC003FC003FE003FC003FE003FC003FE003FC003FE001F8003
FE000F0007FE00000007FC00000007FC00000007F80000000FF00000001FE00000003F80
000000FF0000003FF80000003FFF800000001FE00000000FF000000007F800000003FC00
000003FE00000001FF00000001FF00000001FF80000001FF80000001FF801C0001FF803E
0001FF807F0001FF80FF8001FF80FF8001FF00FF8001FF00FF8003FE007F0003FE007E00
07FC003C0007F8001FC01FF0000FFFFFC00003FFFF0000003FF80000212E7DAD28>I<00
00007000000000F000000001F000000003F000000007F00000000FF00000000FF0000000
1FF00000003FF000000077F0000000F7F0000000E7F0000001C7F000000387F000000707
F000000F07F000000E07F000001C07F000003807F000007007F00000F007F00000E007F0
0001C007F000038007F000070007F0000F0007F0000E0007F0001C0007F000380007F000
700007F000E00007F000FFFFFFFFE0FFFFFFFFE0FFFFFFFFE000000FF00000000FF00000
000FF00000000FF00000000FF00000000FF00000000FF00000000FF00000000FF000000F
FFFFE0000FFFFFE0000FFFFFE0232E7EAD28>I<0C0000300FC007F00FFFFFE00FFFFFC0
0FFFFF800FFFFF000FFFFE000FFFF8000FFFF0000FFF80000E0000000E0000000E000000
0E0000000E0000000E0000000E0000000E0000000E1FF0000EFFFE000FE03F800F000FC0
0E0007E00C0007F0000007F8000003F8000003FC000003FC000003FE000003FE180003FE
3E0003FE7F0003FEFF0003FEFF0003FEFF0003FCFF0003FCFE0003FC780007F8780007F0
3C000FE01E001FC00FC07F8007FFFF0001FFFC00003FE0001F2E7CAD28>I<0000FF0000
0007FFE000001FFFF000007F80F80000FE003C0001F8007C0003F000FE0007F001FE000F
E001FE000FE001FE001FC001FE003FC000FC003FC00078003FC00000007F800000007F80
0000007F80000000FF83FC0000FF8FFF8000FF9C0FC000FFB003F000FFB001F800FFE001
FC00FFC001FE00FFC000FE00FFC000FF00FFC000FF00FF8000FF80FF8000FF80FF8000FF
80FF8000FF807F8000FF807F8000FF807F8000FF807F8000FF803F8000FF003FC000FF00
1FC000FF001FC000FE000FC001FC0007E001FC0003F003F80001FC0FE00000FFFFC00000
3FFF0000000FFC0000212E7DAD28>I<38000000003E000000003FFFFFFFC03FFFFFFFC0
3FFFFFFFC03FFFFFFF807FFFFFFF007FFFFFFE007FFFFFFC007FFFFFF800780000380070
00007000700000E000F00001C000E000038000E000070000E00007000000000E00000000
1C00000000380000000078000000007000000000F000000001E000000001E000000003E0
00000003C000000007C000000007C00000000FC00000000FC00000001FC00000001F8000
00001F800000003F800000003F800000003F800000003F800000007F800000007F800000
007F800000007F800000007F800000007F800000007F800000007F800000003F00000000
1E00000022307CAF28>I<000FFC0000007FFF800001FFFFE00003F00FF00007C003F800
0F8000FC001F0000FC001F00007E003F00007E003F00007E003F00007E003F80007E003F
C0007E003FF000FC003FFC00F8001FFE01F8001FFF81F0000FFFE3C00007FFFF800003FF
FE000001FFFF000000FFFFC000003FFFE00000FFFFF00003E3FFF80007C1FFFC000F807F
FE001F001FFF003E000FFF007E0003FF807E0000FF80FC00007F80FC00003F80FC00001F
80FC00001F80FC00001F80FC00001F00FE00001F007E00001F007E00003E003F00007C00
1FC000F8000FF007F00003FFFFE00000FFFF8000001FF80000212E7DAD28>I<00000078
00000000000078000000000000FC000000000000FC000000000000FC000000000001FE00
0000000001FE000000000003FF000000000003FF000000000007FF800000000007FF8000
00000007FF80000000000FFFC0000000000E7FC0000000001E7FE0000000001C3FE00000
00001C3FE000000000383FF000000000381FF000000000781FF800000000700FF8000000
00700FF800000000E00FFC00000000E007FC00000001E007FE00000001C003FE00000001
C003FE000000038001FF000000038001FF000000078001FF800000070000FF8000000F00
00FFC000000FFFFFFFC000000FFFFFFFC000001FFFFFFFE000001C00003FE000003C0000
3FF000003800001FF000003800001FF000007000001FF800007000000FF80000F000000F
FC0000E0000007FC0000E0000007FC0001C0000007FE0003E0000003FE00FFFF0001FFFF
FCFFFF0001FFFFFCFFFF0001FFFFFC36317DB03D>65 D<000003FF80018000003FFFF003
800001FFFFFC07800007FF003F0F80001FF800079F80003FC00001FF8000FF800000FF80
01FE0000007F8003FC0000003F8007FC0000001F8007F80000000F800FF00000000F801F
F000000007801FF000000007803FE000000007803FE000000003807FE000000003807FE0
00000003807FC000000000007FC00000000000FFC00000000000FFC00000000000FFC000
00000000FFC00000000000FFC00000000000FFC00000000000FFC00000000000FFC00000
000000FFC000000000007FC000000000007FC000000000007FE000000000007FE0000000
03803FE000000003803FE000000003801FF000000003801FF000000007800FF000000007
0007F8000000070007FC0000000E0003FC0000001E0001FE0000001C0000FF8000007800
003FC00000F000001FF80003E0000007FF003F80000001FFFFFE000000003FFFF8000000
0003FF80000031317CB03A>67 D<FFFFFFFFFFE0FFFFFFFFFFE0FFFFFFFFFFE000FF8000
7FE000FF80000FF000FF800003F000FF800001F000FF800001F000FF800000F000FF8000
00F000FF8000007000FF8000007000FF8000007000FF8000003800FF8000003800FF8007
003800FF8007003800FF8007000000FF8007000000FF8007000000FF800F000000FF801F
000000FF803F000000FFFFFF000000FFFFFF000000FFFFFF000000FF803F000000FF801F
000000FF800F000000FF8007000000FF8007000000FF8007000000FF8007000000FF8007
000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000
000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF8000
0000FFFFFFC00000FFFFFFC00000FFFFFFC000002D317EB033>70
D<FFFFFF80FFFFFF80FFFFFF8000FF800000FF800000FF800000FF800000FF800000FF80
0000FF800000FF800000FF800000FF800000FF800000FF800000FF800000FF800000FF80
0000FF800000FF800000FF800000FF800000FF800000FF800000FF800000FF800000FF80
0000FF800000FF800000FF800000FF800000FF800000FF800000FF800000FF800000FF80
0000FF800000FF800000FF800000FF800000FF800000FF800000FF800000FF800000FF80
0000FF8000FFFFFF80FFFFFF80FFFFFF8019317EB01E>73 D<FFFFC000000003FFFFFFFF
C000000003FFFFFFFFE000000007FFFF00FFE000000007FF0000EFF00000000EFF0000EF
F00000000EFF0000EFF00000000EFF0000E7F80000001CFF0000E7F80000001CFF0000E3
FC00000038FF0000E3FC00000038FF0000E1FE00000070FF0000E1FE00000070FF0000E0
FF000000E0FF0000E0FF000000E0FF0000E07F800001C0FF0000E07F800001C0FF0000E0
3FC0000380FF0000E03FC0000380FF0000E03FC0000380FF0000E01FE0000700FF0000E0
1FE0000700FF0000E00FF0000E00FF0000E00FF0000E00FF0000E007F8001C00FF0000E0
07F8001C00FF0000E003FC003800FF0000E003FC003800FF0000E001FE007000FF0000E0
01FE007000FF0000E000FF00E000FF0000E000FF00E000FF0000E000FF00E000FF0000E0
007F81C000FF0000E0007F81C000FF0000E0003FC38000FF0000E0003FC38000FF0000E0
001FE70000FF0000E0001FE70000FF0000E0000FFE0000FF0000E0000FFE0000FF0000E0
0007FC0000FF0000E00007FC0000FF0000E00007FC0000FF0000E00003F80000FF0001F0
0003F80000FF00FFFFE001F000FFFFFFFFFFE001F000FFFFFFFFFFE000E000FFFFFF4831
7EB04D>77 D<FFFFFFFF80000000FFFFFFFFF8000000FFFFFFFFFE00000000FF8003FF80
000000FF80007FE0000000FF80001FF0000000FF80000FF8000000FF80000FF8000000FF
80000FFC000000FF800007FC000000FF800007FE000000FF800007FE000000FF800007FE
000000FF800007FE000000FF800007FE000000FF800007FE000000FF800007FC000000FF
80000FFC000000FF80000FF8000000FF80001FF0000000FF80003FE0000000FF80007FC0
000000FF8003FF00000000FFFFFFF800000000FFFFFFE000000000FF8007F800000000FF
8001FC00000000FF8000FE00000000FF80007F00000000FF80007F80000000FF80003FC0
000000FF80003FC0000000FF80003FE0000000FF80003FE0000000FF80003FE0000000FF
80003FE0000000FF80003FE0000000FF80003FF0000000FF80003FF0000000FF80003FF0
000000FF80003FF0000000FF80003FF0038000FF80003FF8038000FF80001FF8038000FF
80001FF8030000FF80000FFC0700FFFFFF8003FE0E00FFFFFF8001FFFC00FFFFFF80001F
F00039317EB03C>82 D<7FFFFFFFFFFF007FFFFFFFFFFF007FFFFFFFFFFF007FC00FF801
FF007E000FF8003F007C000FF8001F0078000FF8000F0078000FF8000F0070000FF80007
00F0000FF8000780F0000FF8000780F0000FF8000780E0000FF8000380E0000FF8000380
E0000FF8000380E0000FF8000380E0000FF800038000000FF800000000000FF800000000
000FF800000000000FF800000000000FF800000000000FF800000000000FF80000000000
0FF800000000000FF800000000000FF800000000000FF800000000000FF800000000000F
F800000000000FF800000000000FF800000000000FF800000000000FF800000000000FF8
00000000000FF800000000000FF800000000000FF800000000000FF800000000000FF800
000000000FF800000000000FF800000000000FF800000000000FF800000000000FF80000
00007FFFFFFF0000007FFFFFFF0000007FFFFFFF000031307DAF38>84
D<00FFF0000003FFFF00000F803F80000FC00FE0001FE007F0001FE007F0001FE003F800
0FC003FC00078003FC00000003FC00000003FC00000003FC00000003FC000000FFFC0000
1FFFFC0000FFE3FC0003FC03FC000FF003FC001FC003FC003FC003FC007F8003FC007F80
03FC00FF0003FC00FF0003FC00FF0003FC00FF0007FC00FF0007FC007F800DFC003FC01D
FE001FE078FFF007FFE07FF000FF803FF024207E9F27>97 D<000FFF00007FFFC001FC01
F003F003F007E007F80FE007F81FC007F83FC003F03FC001E07F8000007F8000007F8000
00FF800000FF800000FF800000FF800000FF800000FF800000FF800000FF8000007F8000
007F8000007F8000003FC0001C3FC0001C1FC000380FE0003807E0007003F001E001FC07
C0007FFF00000FF8001E207D9F24>99 D<0000000FC0000007FFC0000007FFC0000007FF
C00000007FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC0
0000003FC00000003FC00000003FC00000003FC00000003FC00000003FC00000003FC000
07F83FC0003FFF3FC000FE07BFC003F801FFC007E0007FC00FE0007FC01FC0003FC03FC0
003FC03FC0003FC07F80003FC07F80003FC07F80003FC0FF80003FC0FF80003FC0FF8000
3FC0FF80003FC0FF80003FC0FF80003FC0FF80003FC0FF80003FC07F80003FC07F80003F
C07F80003FC03FC0003FC03FC0003FC01FC0003FC00FE0007FC007E000FFC003F003FFE0
01FC0F3FFE007FFE3FFE000FF03FFE27327DB12D>I<000FFC00007FFF8001FC0FC003F0
03E007E001F00FE001F81FC000FC3FC000FE3FC000FE7F80007E7F80007F7F80007FFF80
007FFF80007FFFFFFFFFFFFFFFFFFF800000FF800000FF800000FF8000007F8000007F80
00007F8000003FC000071FC000071FC0000E0FE0000E07F0001C03F8007800FE03E0003F
FFC00007FE0020207E9F25>I<0001FE00000FFF80001FC3C0007F07E000FE0FF001FE0F
F001FC0FF003FC0FF003FC07E003FC018003FC000003FC000003FC000003FC000003FC00
0003FC000003FC000003FC0000FFFFFC00FFFFFC00FFFFFC0003FC000003FC000003FC00
0003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC00
0003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC00
0003FC000003FC000003FC000003FC000003FC00007FFFF0007FFFF0007FFFF0001C327E
B119>I<001FF007C000FFFE3FE001F83F79F007E00FC3F00FE00FE1F00FC007E0E01FC0
07F0001FC007F0003FC007F8003FC007F8003FC007F8003FC007F8003FC007F8001FC007
F0001FC007F0000FC007E0000FE00FE00007E00FC00003F83F000006FFFE00000E1FF000
000E000000001E000000001E000000001F000000001F800000001FFFFF80000FFFFFF000
0FFFFFFC0007FFFFFE0003FFFFFF0003FFFFFF800FFFFFFFC03F00007FC07E00001FE07C
00000FE0FC000007E0FC000007E0FC000007E0FC000007E07E00000FC03E00000F803F00
001F800FC0007E0007F803FC0001FFFFF000001FFF0000242F7E9F28>I<01F8000000FF
F8000000FFF8000000FFF80000000FF800000007F800000007F800000007F800000007F8
00000007F800000007F800000007F800000007F800000007F800000007F800000007F800
000007F800000007F800000007F807F80007F83FFE0007F8783F0007F8C03F8007F9801F
C007FB001FC007FE001FE007FC001FE007FC001FE007FC001FE007F8001FE007F8001FE0
07F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007
F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8
001FE007F8001FE007F8001FE0FFFFC3FFFFFFFFC3FFFFFFFFC3FFFF28327DB12D>I<03
C00007E0000FF0001FF8001FF8001FF8001FF8000FF00007E00003C00000000000000000
000000000000000000000000000000000000000001F8007FF8007FF8007FF80007F80007
F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007
F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F800FF
FF80FFFF80FFFF8011337DB217>I<01F8000000FFF8000000FFF8000000FFF80000000F
F800000007F800000007F800000007F800000007F800000007F800000007F800000007F8
00000007F800000007F800000007F800000007F800000007F800000007F800000007F800
FFF807F800FFF807F800FFF807F8003F0007F8003C0007F800780007F800F00007F803C0
0007F807800007F80F000007F81E000007F878000007F8FC000007F9FE000007FBFE0000
07FFFF000007FE7F800007FC7FC00007F83FC00007F01FE00007F00FF00007F00FF80007
F007FC0007F003FC0007F001FE0007F000FF0007F000FF8007F0007F8007F0007FC0FFFF
81FFFEFFFF81FFFEFFFF81FFFE27327EB12B>107 D<01F800FFF800FFF800FFF8000FF8
0007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F8
0007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F8
0007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F80007F8
0007F80007F80007F80007F80007F80007F800FFFFC0FFFFC0FFFFC012327DB117>I<03
F007F8001FE000FFF03FFE00FFF800FFF0783F01E0FC00FFF0C03F8300FE000FF1801FC6
007F0007F3001FCC007F0007F6001FF8007F8007FC001FF0007F8007FC001FF0007F8007
FC001FF0007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0
007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007
F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0
007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007F8001FE0007F8007
F8001FE0007F8007F8001FE0007F80FFFFC3FFFF0FFFFCFFFFC3FFFF0FFFFCFFFFC3FFFF
0FFFFC3E207D9F43>I<03F007F800FFF03FFE00FFF0783F00FFF0C03F800FF1801FC007
F3001FC007F6001FE007FC001FE007FC001FE007FC001FE007F8001FE007F8001FE007F8
001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F800
1FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001F
E007F8001FE007F8001FE0FFFFC3FFFFFFFFC3FFFFFFFFC3FFFF28207D9F2D>I<0007FC
0000007FFFC00001FC07F00003F001F80007E000FC000FC0007E001FC0007F003FC0007F
803F80003F807F80003FC07F80003FC07F80003FC0FF80003FE0FF80003FE0FF80003FE0
FF80003FE0FF80003FE0FF80003FE0FF80003FE0FF80003FE07F80003FC07F80003FC07F
80003FC03FC0007F803FC0007F801FC0007F000FE000FE0007E000FC0003F803F80001FE
0FF000007FFFC0000007FC000023207E9F28>I<01F83FE000FFF8FFFC00FFFBE07F00FF
FF003F8007FE001FC007FC000FE007F8000FF007F80007F807F80007F807F80007FC07F8
0003FC07F80003FC07F80003FE07F80003FE07F80003FE07F80003FE07F80003FE07F800
03FE07F80003FE07F80003FE07F80003FC07F80007FC07F80007FC07F80007F807F80007
F807F8000FF007FC000FE007FE001FC007FF003F8007FBC0FE0007F8FFF80007F83FC000
07F800000007F800000007F800000007F800000007F800000007F800000007F800000007
F800000007F800000007F800000007F8000000FFFFC00000FFFFC00000FFFFC00000272E
7E9F2D>I<03F03F00FFF07FC0FFF1C3E0FFF187E00FF30FF007F60FF007F60FF007FC07
E007FC03C007FC000007FC000007F8000007F8000007F8000007F8000007F8000007F800
0007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F8000007F800
0007F8000007F8000007F80000FFFFE000FFFFE000FFFFE0001C207E9F21>114
D<01FF860007FFFE001F00FE003C003E0078001E0078000E00F8000E00F8000E00F8000E
00FC000000FF800000FFFC00007FFFC0003FFFF0003FFFF8001FFFFC0007FFFE0001FFFF
00003FFF000000FF8000003F8060001F80E0000F80E0000F80F0000F80F0000F00F8000F
00FC001E00FE001C00FF807800F3FFF000C07F800019207D9F20>I<001C0000001C0000
001C0000001C0000001C0000003C0000003C0000003C0000007C0000007C000000FC0000
01FC000003FC000007FC00001FFFFE00FFFFFE00FFFFFE0003FC000003FC000003FC0000
03FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC000003FC0000
03FC000003FC000003FC000003FC000003FC038003FC038003FC038003FC038003FC0380
03FC038003FC038001FC038001FC070000FE0700007F0E00003FFC000007F000192E7FAD
1F>I<01F80007E0FFF803FFE0FFF803FFE0FFF803FFE00FF8003FE007F8001FE007F800
1FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001F
E007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE007F8001FE0
07F8001FE007F8001FE007F8001FE007F8003FE007F8003FE003F8007FE003F8007FE001
FC00DFF000FE039FFF007FFF1FFF000FFC1FFF28207D9F2D>I<FFFF001FFCFFFF001FFC
FFFF001FFC0FF80003C007F800038007FC00078003FC00070003FE00070001FE000E0001
FF000E0000FF001C0000FF001C0000FF803C00007F803800007FC07800003FC07000003F
E0F000001FE0E000001FF1E000000FF1C000000FF9C0000007FB80000007FB80000007FF
80000003FF00000003FF00000001FE00000001FE00000000FC00000000FC000000007800
00000078000026207E9F2B>I<FFFF1FFFE03FF8FFFF1FFFE03FF8FFFF1FFFE03FF80FF0
00FE0007800FF800FE00038007F800FF00070007F8007F00070007FC007F000F0003FC00
FF800E0003FC00FF800E0001FE01FFC01C0001FE01DFC01C0001FF01DFC03C0000FF038F
E0380000FF038FE03800007F878FF07000007F8707F07000007FC707F0F000003FCF07F8
E000003FCE03F8E000001FFE03F9C000001FFC01FDC000001FFC01FFC000000FFC01FF80
00000FF800FF8000000FF800FF80000007F0007F00000007F0007F00000003F0007E0000
0003E0003E00000003E0003E00000001C0001C000035207E9F3A>I
E /Fr 37 122 df<000F800030E000E07001C0700380300380380700380F00780F00780E
00781E00781E00703C00F03C00F03C00F03C00F07801E07801E07801E07801C07003C0F0
03C0F00380F00780F00700700700700E00701C003038001870000FC000151F7C9D17>48
D<000200020006000E003C00DC031C001C0038003800380038007000700070007000E000
E000E000E001C001C001C001C003800380038003800780FFF80F1E7B9D17>I<00000200
000006000000060000000E0000001E0000001E0000003F0000002F0000004F000000CF00
00008F0000010F0000010F0000020F0000020F0000040F0000080F0000080F0000100F80
0010078000200780003FFF80004007800080078000800780010007800100078002000780
06000780040007801E0007C0FF807FF81D207E9F22>65 D<0000FE0200078186001C004C
0038003C0060003C00C0001C01C0001803800018070000180F0000181E0000101E000010
3C0000003C00000078000000780000007800000078000000F0000000F0000000F0000000
F0000000F00000807000008070000080700001003800010038000200180004000C001800
060020000381C00000FE00001F217A9F21>67 D<01FFFFFE001E001C001E000C001E0004
001E0004003C0004003C0004003C0004003C000400780408007804000078040000780C00
00F0180000FFF80000F0180000F0180001E0100001E0100001E0100001E0001003C00020
03C0002003C0004003C00040078000800780018007800100078007000F001F00FFFFFE00
1F1F7D9E1F>69 D<01FFF0001F00001E00001E00001E00003C00003C00003C00003C0000
780000780000780000780000F00000F00000F00000F00001E00001E00001E00001E00003
C00003C00003C00003C0000780000780000780000780000F8000FFF000141F7D9E12>73
D<01FFF800001F0000001E0000001E0000001E0000003C0000003C0000003C0000003C00
000078000000780000007800000078000000F0000000F0000000F0000000F0000001E000
0001E0000001E0000001E0008003C0010003C0010003C0030003C0020007800600078006
0007800C0007801C000F007800FFFFF800191F7D9E1D>76 D<00FF003FE0001F000F0000
1F0004000017800400001780040000278008000023C008000023C008000023C008000041
E010000041E010000041F010000040F010000080F0200000807820000080782000008078
200001003C400001003C400001003C400001001E400002001E800002001E800002000F80
0002000F800004000F0000040007000004000700000C000700001C00020000FF80020000
231F7D9E22>78 D<01FFFF80001E00E0001E0070001E0038001E003C003C003C003C003C
003C003C003C003C0078007800780078007800F0007800E000F003C000F00F0000FFFC00
00F0000001E0000001E0000001E0000001E0000003C0000003C0000003C0000003C00000
078000000780000007800000078000000F800000FFF000001E1F7D9E1F>80
D<00FFFF00001E03C0001E00E0001E0070001E0078003C0078003C0078003C0078003C00
78007800F0007800F0007801E0007801C000F0070000F01E0000FFF00000F01C0001E00E
0001E00F0001E0070001E0078003C00F0003C00F0003C00F0003C00F0007801E0007801E
0807801E0807801E100F800E10FFF00E20000003C01D207D9E21>82
D<0007E040001C18C0003005800060038000C0038001C001800180010003800100038001
00038001000380000003C0000003C0000003F8000001FF800001FFE000007FF000001FF0
000001F80000007800000078000000380000003800200038002000380020003000600070
00600060006000E0007000C000E8038000C606000081F800001A217D9F1A>I<0FFFFFFC
1E03C0381803C0181003C0082003C00820078008600780084007800840078008800F0010
000F0000000F0000000F0000001E0000001E0000001E0000001E0000003C0000003C0000
003C0000003C00000078000000780000007800000078000000F0000000F0000000F00000
00F0000001F000007FFF80001E1F799E21>I<FFF003FC1F0000E00F0000C00F0000800F
0001000F0001000F0002000F0002000F0004000F0008000F800800078010000780300007
802000078040000780400007808000078180000781000007C2000003C2000003C4000003
CC000003C8000003D0000003D0000003E0000003C0000003C00000038000000180000001
0000001E20779E22>86 D<00F1800389C00707800E03801C03803C038038070078070078
0700780700F00E00F00E00F00E00F00E20F01C40F01C40703C40705C40308C800F070013
147C9317>97 D<07803F8007000700070007000E000E000E000E001C001C001CF01D0C3A
0E3C0E380F380F700F700F700F700FE01EE01EE01EE01CE03CE038607060E031C01F0010
207B9F15>I<007E0001C1000300800E07801E07801C07003C0200780000780000780000
F00000F00000F00000F00000F0000070010070020030040018380007C00011147C9315>
I<0000780003F80000700000700000700000700000E00000E00000E00000E00001C00001
C000F1C00389C00707800E03801C03803C0380380700780700780700780700F00E00F00E
00F00E00F00E20F01C40F01C40703C40705C40308C800F070015207C9F17>I<007C01C2
07010E011C013C013802780C7BF07C00F000F000F000F0007000700170023804183807C0
10147C9315>I<00007800019C00033C00033C000718000700000700000E00000E00000E
00000E00000E0000FFE0001C00001C00001C00001C000038000038000038000038000038
0000700000700000700000700000700000E00000E00000E00000E00000E00001C00001C0
0001C0000180003180007B0000F300006600003C00001629829F0E>I<001E3000713800
E0F001C0700380700780700700E00F00E00F00E00F00E01E01C01E01C01E01C01E01C01E
03801E03800E07800E0B8006170001E700000700000700000E00000E00300E00781C00F0
38006070003FC000151D7F9315>I<01E0000FE00001C00001C00001C00001C000038000
038000038000038000070000070000071E000763000E81800F01C00E01C00E01C01C0380
1C03801C03801C0380380700380700380700380E10700E20700E20701C20700C40E00C80
60070014207D9F17>I<00C001E001E001C000000000000000000000000000000E001300
230043804700470087000E000E000E001C001C001C003840388038807080310032001C00
0B1F7C9E0E>I<01E0000FE00001C00001C00001C00001C0000380000380000380000380
000700000700000703C00704200E08E00E11E00E21E00E40C01C80001D00001E00001FC0
0038E000387000387000383840707080707080707080703100E03100601E0013207D9F15
>107 D<03C01FC0038003800380038007000700070007000E000E000E000E001C001C00
1C001C0038003800380038007000700070007100E200E200E200E200640038000A207C9F
0C>I<1C0F80F0002630C318004740640C004780680E004700700E004700700E008E00E0
1C000E00E01C000E00E01C000E00E01C001C01C038001C01C038001C01C038001C01C070
8038038071003803807100380380E10038038062007007006400300300380021147C9325
>I<1C0F802630C04740604780604700704700708E00E00E00E00E00E00E00E01C01C01C
01C01C01C01C03843803883803883807083803107003303001C016147C931A>I<007C00
01C3000301800E01C01E01C01C01E03C01E07801E07801E07801E0F003C0F003C0F003C0
F00780F00700700F00700E0030180018700007C00013147C9317>I<01C1E00262180474
1C04781C04701E04701E08E01E00E01E00E01E00E01E01C03C01C03C01C03C01C0380380
780380700380E003C1C0072380071E000700000700000E00000E00000E00000E00001C00
001C0000FF8000171D809317>I<00F0400388C00705800E03801C03803C038038070078
0700780700780700F00E00F00E00F00E00F00E00F01C00F01C00703C00705C0030B8000F
380000380000380000700000700000700000700000E00000E0000FFE00121D7C9315>I<
1C1E002661002783804787804707804703008E00000E00000E00000E00001C00001C0000
1C00001C000038000038000038000038000070000030000011147C9313>I<00FC030206
010C030C070C060C000F800FF007F803FC003E000E700EF00CF00CE008401020601F8010
147D9313>I<018001C0038003800380038007000700FFF007000E000E000E000E001C00
1C001C001C003800380038003820704070407080708031001E000C1C7C9B0F>I<0E00C0
1300E02301C04381C04701C04701C08703800E03800E03800E03801C07001C07001C0700
1C07101C0E20180E20180E201C1E400C264007C38014147C9318>I<0E03801307802307
C04383C04701C04700C08700800E00800E00800E00801C01001C01001C01001C02001C02
001C04001C04001C08000E300003C00012147C9315>I<0E00C1C01300E3C02301C3E043
81C1E04701C0E04701C060870380400E0380400E0380400E0380401C0700801C0700801C
0700801C0701001C0701001C0601001C0F02000C0F04000E13080003E1F0001B147C931E
>I<0383800CC4401068E01071E02071E02070C040E00000E00000E00000E00001C00001
C00001C00001C040638080F38080F38100E5810084C60078780013147D9315>I<0E00C0
1300E02301C04381C04701C04701C08703800E03800E03800E03801C07001C07001C0700
1C07001C0E00180E00180E001C1E000C3C0007DC00001C00001C00003800F03800F07000
E06000C0C0004380003E0000131D7C9316>I E /Fs 46 122 df<70F8F8F8F8F8F8F870
7070707070707070702020202020000000000070F8F8F87005217CA00D>33
D<70F8FCFC74040404080810102040060E7C9F0D>39 D<0040008001000300060004000C
001800180038003000300070006000600060006000E000E000E000E000E000E000E000E0
00E000E000E000E00060006000600060007000300030003800180018000C000400060003
000100008000400A2E7BA112>I<8000400020003000180008000C000600060007000300
03000380018001800180018001C001C001C001C001C001C001C001C001C001C001C001C0
01800180018001800380030003000700060006000C000800180030002000400080000A2E
7EA112>I<00030000000300000003000000030000000300000003000000030000000300
0000030000000300000003000000030000000300000003000000030000FFFFFFFCFFFFFF
FC0003000000030000000300000003000000030000000300000003000000030000000300
000003000000030000000300000003000000030000000300001E207E9A23>43
D<70F0F8F878080808101010202040050E7C840D>I<FFF0FFF00C02808A0F>I<70F8F8F8
7005057C840D>I<03F0000E1C001C0E00180600380700700380700380700380700380F0
03C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F003C0F0
03C07003807003807003807807803807001806001C0E000E1C0003F000121F7E9D17>48
D<008003800F80F380038003800380038003800380038003800380038003800380038003
80038003800380038003800380038003800380038007C0FFFE0F1E7C9D17>I<007C0001
82000701000E03800C0780180780380300380000780000700000700000F1F000F21C00F4
0600F80700F80380F80380F003C0F003C0F003C0F003C0F003C07003C07003C070038038
03803807001807000C0E00061C0001F000121F7E9D17>54 D<4000007FFFE07FFFC07FFF
C04000808001008001008002000004000004000008000010000010000020000020000060
0000600000E00000C00001C00001C00001C00001C00003C00003C00003C00003C00003C0
0003C00003C000018000131F7E9D17>I<03F0000E18001C0C0038060038070070070070
0380F00380F00380F003C0F003C0F003C0F003C0F003C07007C07007C03807C0180BC00E
13C003E3C0000380000380000380000700300700780600780E00700C002018001070000F
C000121F7E9D17>57 D<70F8F8F8700000000000000000000070F8F8F87005147C930D>
I<70F8F8F8700000000000000000000070F0F8F878080808101010202040051D7C930D>
I<7FFFFFF8FFFFFFFC000000000000000000000000000000000000000000000000000000
0000000000FFFFFFFC7FFFFFF81E0C7E9023>61 D<000100000003800000038000000380
000007C0000007C0000007C0000009E0000009E0000009E0000010F0000010F0000010F0
0000207800002078000020780000403C0000403C0000C03E0000801E0000801E0001FFFF
0001000F0001000F00020007800200078002000780040003C0040003C00C0003C01E0003
E0FF801FFE1F207F9F22>65 D<000FE01000381C3000E0027003C00170078000F00F0000
701E0000701E0000303C0000303C0000107C00001078000010F8000000F8000000F80000
00F8000000F8000000F8000000F8000000F8000000F8000000780000007C0000103C0000
103C0000101E0000201E0000200F0000200780004003C0008000E0030000380C00000FF0
001C217E9F21>67 D<FFFFFF8007800780078001800780018007800080078000C0078000
40078000400780004007800040078020000780200007802000078060000780E00007FFE0
000780E00007806000078020000780200007802000078000000780000007800000078000
000780000007800000078000000780000007C00000FFFE00001A1F7F9E1E>70
D<FF000FF80F8003E00F8000800BC0008009E0008009E0008008F0008008780080087800
80083C0080081E0080081E0080080F008008078080080780800803C0800801E0800801E0
800800F080080078800800788008003C8008001E8008001E8008000F8008000780080007
8008000380080001803E000180FF8000801D1F7E9E22>78 D<7FFFFFE0780F01E0600F00
60400F0020400F0020C00F0030800F0010800F0010800F0010800F0010000F0000000F00
00000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F00
00000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000001F80
0003FFFC001C1F7E9E21>84 D<FFFFC0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0
C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0C0FFFF082D7CA10D>91
D<FFFF030303030303030303030303030303030303030303030303030303030303030303
0303030303030303FFFF082D80A10D>93 D<1FE000303000781800781C00300E00000E00
000E00000E0000FE00078E001E0E00380E00780E00F00E10F00E10F00E10F01E10781E10
3867200F83C014147E9317>97 D<1C0000FC00001C00001C00001C00001C00001C00001C
00001C00001C00001C00001C00001C7C001D87001E01801E00C01C00E01C00701C00701C
00781C00781C00781C00781C00781C00781C00701C00F01C00E01E00C01A018019870010
7C0015207E9F19>I<01FC000706001C0F00380F00380600780000700000F00000F00000
F00000F00000F00000F000007000007800003800803800801C010007060001F80011147F
9314>I<0001C0000FC00001C00001C00001C00001C00001C00001C00001C00001C00001
C00001C001F1C0070DC00C03C01801C03801C07801C07001C0F001C0F001C0F001C0F001
C0F001C0F001C07001C07001C03801C01803C00C03C0070DC001F1F815207F9F19>I<03
F0000E1C001C0E00380700380700700700700380F00380F00380FFFF80F00000F00000F0
00007000007000003800803800801C010007060001F80011147F9314>I<007C01C6030F
070F0E060E000E000E000E000E000E000E00FFF00E000E000E000E000E000E000E000E00
0E000E000E000E000E000E000E000E000E000E007FE01020809F0E>I<0000E003E3300E
3C301C1C30380E00780F00780F00780F00780F00780F00380E001C1C001E380033E00020
00002000003000003000003FFE001FFF801FFFC03001E0600070C00030C00030C00030C0
00306000603000C01C038003FC00141F7F9417>I<1C0000FC00001C00001C00001C0000
1C00001C00001C00001C00001C00001C00001C00001C7C001C86001D03001E03801E0380
1C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C03801C0380
1C03801C0380FF8FF014207E9F19>I<38007C007C007C00380000000000000000000000
00001C00FC001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00
1C001C00FF80091F7F9E0C>I<1C0000FC00001C00001C00001C00001C00001C00001C00
001C00001C00001C00001C00001C1FE01C07801C06001C04001C08001C10001C20001C60
001CE0001DF0001E70001C38001C3C001C1C001C0E001C0F001C07001C07801C07C0FF9F
F014207E9F18>107 D<1C00FC001C001C001C001C001C001C001C001C001C001C001C00
1C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C001C00
FF8009207F9F0C>I<1C3E03E000FCC30C30001D039038001E01E01C001E01E01C001C01
C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C0
1C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C001C01C01C00FF8FF8FF
8021147E9326>I<1C7C00FC86001D03001E03801E03801C03801C03801C03801C03801C
03801C03801C03801C03801C03801C03801C03801C03801C03801C0380FF8FF014147E93
19>I<01F800070E001C03803801C03801C07000E07000E0F000F0F000F0F000F0F000F0
F000F0F000F07000E07000E03801C03801C01C0380070E0001F80014147F9317>I<1C7C
00FD87001E01801E01C01C00E01C00F01C00701C00781C00781C00781C00781C00781C00
781C00701C00F01C00E01E01C01E03801D87001C7C001C00001C00001C00001C00001C00
001C00001C00001C0000FF8000151D7E9319>I<1CF0FD181E3C1E3C1E181C001C001C00
1C001C001C001C001C001C001C001C001C001C001C00FFC00E147E9312>114
D<0FC830386018C008C008C008E0007C003FE01FF007F8003C800E8006C006C006C004E0
0CD81887E00F147F9312>I<020002000200060006000E000E003E00FFF80E000E000E00
0E000E000E000E000E000E000E000E000E040E040E040E040E040708030801F00E1C7F9B
12>I<1C0380FC1F801C03801C03801C03801C03801C03801C03801C03801C03801C0380
1C03801C03801C03801C03801C03801C07800C0780061B8003E3F014147E9319>I<FF83
F83E00E01C00C00E00800E00800E008007010007010007830003820003820001C40001C4
0001E40000E80000E80000700000700000700000200015147F9318>I<FF9FE1FC3C0780
701C0300601C0380200E0380400E0380400E03C0400704C0800704E0800704E080038861
00038871000388710001D0320001D03A0001D03E0000E01C0000E01C0000601800004008
001E147F9321>I<FF87F81E03C00E01800E030007020003840001C80001D80000F00000
700000780000F800009C00010E00020E000607000403800C03C03C03E0FE07FC16147F93
18>I<FF83F83E00E01C00C00E00800E00800E0080070100070100078300038200038200
01C40001C40001E40000E80000E800007000007000007000002000002000004000004000
004000F08000F08000F100006200003C0000151D7F9318>I E /Ft
7 117 df<0000E000000000E000000001F000000001F000000001F000000003F8000000
03F800000006FC00000006FC0000000EFE0000000C7E0000000C7E000000183F00000018
3F000000303F800000301F800000701FC00000600FC00000600FC00000C007E00000FFFF
E00001FFFFF000018003F000038003F800030001F800030001F800060000FC00060000FC
000E0000FE00FFE00FFFE0FFE00FFFE0231F7E9E28>65 D<07FC001FFF803F07C03F03E0
3F01F03F01F00C01F00001F0003FF007FDF01F81F03E01F07C01F0F801F0F801F0F801F0
FC02F07E0CF03FF87E0FE03E17147F9319>97 D<FF0000FF00001F00001F00001F00001F
00001F00001F00001F00001F00001F00001F00001F1FC01F7FF01FE0F81F807C1F007E1F
003E1F003E1F003F1F003F1F003F1F003F1F003F1F003F1F003E1F003E1F007C1F807C1E
C1F81C7FE0181F8018207E9F1D>I<01FE0007FF801F0FC03E0FC03E0FC07C0FC07C0300
FC0000FC0000FC0000FC0000FC0000FC00007C00007E00003E00603F00C01F81C007FF00
01FC0013147E9317>I<FE3E00FE7F801ECFC01E8FC01E8FC01F8FC01F03001F00001F00
001F00001F00001F00001F00001F00001F00001F00001F00001F0000FFF000FFF0001214
7E9316>114 D<0FE63FFE701E600EE006E006F800FFC07FF83FFC1FFE03FE001FC007C0
07E007F006F81EFFFCC7F010147E9315>I<0300030003000300070007000F000F003F00
FFFCFFFC1F001F001F001F001F001F001F001F001F001F001F061F061F061F061F060F8C
07F803F00F1D7F9C14>I E /Fu 21 122 df<0000FF00100007FFE030001FC07830003E
000C7000F80006F001F00003F003E00001F007C00000F00F800000700F800000701F0000
00303F000000303E000000303E000000107E000000107E000000107C00000000FC000000
00FC00000000FC00000000FC00000000FC00000000FC00000000FC00000000FC00000000
FC0000FFFF7C0000FFFF7E000003F07E000001F03E000001F03E000001F03F000001F01F
000001F00F800001F00F800001F007C00001F003E00001F001F00002F000F80002F0003E
000C70001FC038300007FFE0100000FF8000282B7DA92E>71 D<FFFFFF0000FFFFFFE000
07E001F80003E0007C0003E0003E0003E0001F0003E0001F8003E0000F8003E0000FC003
E0000FC003E0000FC003E0000FC003E0000FC003E0000FC003E0000F8003E0001F8003E0
001F0003E0003E0003E0007C0003E001F00003FFFFC00003E000000003E000000003E000
000003E000000003E000000003E000000003E000000003E000000003E000000003E00000
0003E000000003E000000003E000000003E000000003E000000003E000000003E0000000
07F0000000FFFF800000FFFF80000022297EA828>80 D<FFFF803FFEFFFF803FFE07F000
03E003E00001C003E000008003E000008003E000008003E000008003E000008003E00000
8003E000008003E000008003E000008003E000008003E000008003E000008003E0000080
03E000008003E000008003E000008003E000008003E000008003E000008003E000008003
E000008003E000008003E000008003E000008003E000008003E000008003E000008001E0
00010001F000010001F000010000F000020000780006000078000400003C000800001E00
3000000780E0000003FFC00000007F0000272A7EA82C>85 D<FFFC03FFF003FF80FFFC03
FFF003FF800FE0003F00007C0007C0003F0000380007C0001F0000100007E0001F000010
0003E0001F0000200003E0000F8000200003E0000F8000200001F0000F8000400001F000
17C000400001F00017C000400000F80017C000800000F80023E000800000F80023E00080
00007C0023E0010000007C0041F0010000007C0041F0010000003E0041F0020000003E00
80F8020000003E0080F8020000001F0080F8040000001F01007C040000001F01007C0400
00000F81007C080000000F83007E080000000F82003E080000000FC2003E1800000007C6
003F1000000007C4001F1000000007E4001F3000000003E4001FA000000003E8000FA000
000003F8000FA000000001F8000FC000000001F00007C000000001F00007C000000000F0
00078000000000E000038000000000E00003800000000060000300000000004000010000
00392A7FA83C>87 D<03FC00000C070000100380003C01C0003E01E0003E00F0001C00F0
000800F0000000F0000000F0000000F000007FF00003E0F0000F80F0001E00F0003C00F0
007C00F0007800F040F800F040F800F040F800F040F801F0407C01F0403C0278801E0C7F
8007F01E001A1A7E991D>97 D<00000F000000FF000000FF0000001F0000000F0000000F
0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F0000000F
0000000F00003F0F0001C0CF0003802F000F001F001E001F001C000F003C000F007C000F
0078000F0078000F00F8000F00F8000F00F8000F00F8000F00F8000F00F8000F00F8000F
0078000F0078000F003C000F003C000F001E001F000E002F0007004F8001C18FF0007E0F
F01C2A7EA921>100 D<00FC000387800701C00E01E01C00E03C00F03C00F07800787800
78F80078F80078FFFFF8F80000F80000F80000F80000F800007800007800003C00083C00
081E00100E002007004001C180007E00151A7E991A>I<001F000070C000E1E001C3E003
C3E00381C0078080078000078000078000078000078000078000078000078000078000FF
FE00FFFE0007800007800007800007800007800007800007800007800007800007800007
800007800007800007800007800007800007800007800007800007800007800007C0007F
FC007FFC00132A7FA912>I<00000F0001FC3080070743800E03C3801E03C1003C01E000
3C01E0007C01F0007C01F0007C01F0007C01F0007C01F0003C01E0003C01E0001E03C000
0E0380001707000011FC000030000000300000003000000030000000180000001FFF8000
0FFFF00007FFF80018007C0030001E0070000E0060000700E0000700E0000700E0000700
E000070070000E0070000E0038001C001C0038000781E00000FF000019287E9A1D>I<0F
000000FF000000FF0000001F0000000F0000000F0000000F0000000F0000000F0000000F
0000000F0000000F0000000F0000000F0000000F0000000F0000000F07F0000F1838000F
201C000F400E000F400F000F800F000F800F000F000F000F000F000F000F000F000F000F
000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F
000F000F000F000F000F000F000F00FFF0FFF0FFF0FFF01C2A7EA921>I<1E003F003F00
3F003F001E000000000000000000000000000000000000000F00FF00FF001F000F000F00
0F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F00
FFF0FFF00C297EA811>I<0F00FF00FF001F000F000F000F000F000F000F000F000F000F
000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F
000F000F000F000F000F000F000F000F000F00FFF0FFF00C2A7EA911>108
D<0F07F000FF183800FF201C001F400E000F400F000F800F000F800F000F000F000F000F
000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F
000F000F000F000F000F000F000F000F000F000F000F000F00FFF0FFF0FFF0FFF01C1A7E
9921>110 D<007E0003C3C00700E00E00701C00383C003C3C003C78001E78001EF8001F
F8001FF8001FF8001FF8001FF8001FF8001FF8001F78001E78001E3C003C3C003C1C0038
0E00700700E003C3C0007E00181A7E991D>I<0F07E000FF183800FF601E000F800F000F
8007800F0007C00F0003C00F0003E00F0003E00F0001F00F0001F00F0001F00F0001F00F
0001F00F0001F00F0001F00F0001E00F0003E00F0003E00F0003C00F0007800F8007800F
800F000F401C000F3078000F0FC0000F0000000F0000000F0000000F0000000F0000000F
0000000F0000000F0000000F0000000F000000FFF00000FFF000001C267E9921>I<0F0F
80FF11C0FF23E01F43E00F83E00F81C00F80000F00000F00000F00000F00000F00000F00
000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F8000FFFC
00FFFC00131A7E9917>114 D<07F0801C0D80300380600180E00180E00080E00080F000
80F800007E00007FE0003FFC001FFE0007FF00003F800007808003C08003C08001C0C001
C0C001C0E00180E00380F00300CC0E0083F800121A7E9917>I<00800000800000800000
80000180000180000180000380000380000780000F80001FFF80FFFF8007800007800007
800007800007800007800007800007800007800007800007800007800007800007804007
804007804007804007804007804007804003C08001C08000E100003E0012257FA417>I<
FFF01FF0FFF01FF00F80078007800300078002000780020003C0040003C0040003E00C00
01E0080001E0080000F0100000F0100000F830000078200000782000003C4000003C4000
003EC000001E8000001E8000000F0000000F0000000F000000060000000600001C1A7F99
1F>118 D<FFF3FF83FEFFF3FF83FE1F803C00F80F003C00600F801C006007801E004007
801E004007C02E00C003C02F008003C02F008001E047010001E047810001E047810000F0
83820000F083C20000F083C200007901C400007901E400007B01E400003E00E800003E00
F800003E00F800001C007000001C00700000180030000008002000271A7F992A>I<FFF0
1FF0FFF01FF00F80078007800300078002000780020003C0040003C0040003E00C0001E0
080001E0080000F0100000F0100000F830000078200000782000003C4000003C4000003E
C000001E8000001E8000000F0000000F0000000F00000006000000060000000400000004
0000000C0000000800000008000070100000F8100000F8200000F8200000F04000006180
00001F0000001C267F991F>121 D E /Fv 14 116 df<000001FF00008000001FFFE001
8000007F007801800001F8000E03800003E000070780000FC000018780001F000000CF80
003E0000006F80007C0000003F8000F80000003F8001F00000001F8003F00000000F8007
E00000000F8007C000000007800FC000000007800FC000000007801F8000000003801F80
00000003803F8000000003803F0000000001803F0000000001807F0000000001807F0000
000001807E0000000000007E000000000000FE000000000000FE000000000000FE000000
000000FE000000000000FE000000000000FE000000000000FE000000000000FE00000000
0000FE000000000000FE000000000000FE0000000000007E0000000000007E0000000000
007F0000000000007F0000000001803F0000000001803F0000000001803F800000000180
1F8000000001801F8000000003000FC000000003000FC0000000030007E0000000060007
E0000000060003F0000000060001F00000000C0000F80000001800007C0000001800003E
0000003000001F0000006000000FC00001C0000003E0000380000001F8000E000000007F
007C000000001FFFF00000000001FF000000313D7CBB39>67 D<FFF8000000001FFF80FF
FC000000003FFF8003FC000000003FE00001FC000000003FC00001BE000000006FC00001
BE000000006FC00001BE000000006FC000019F00000000CFC000019F00000000CFC00001
9F00000000CFC000018F800000018FC000018F800000018FC0000187C00000030FC00001
87C00000030FC0000187C00000030FC0000183E00000060FC0000183E00000060FC00001
83E00000060FC0000181F000000C0FC0000181F000000C0FC0000181F000000C0FC00001
80F80000180FC0000180F80000180FC00001807C0000300FC00001807C0000300FC00001
807C0000300FC00001803E0000600FC00001803E0000600FC00001803E0000600FC00001
801F0000C00FC00001801F0000C00FC00001801F0000C00FC00001800F8001800FC00001
800F8001800FC000018007C003000FC000018007C003000FC000018007C003000FC00001
8003E006000FC000018003E006000FC000018003E006000FC000018001F00C000FC00001
8001F00C000FC000018001F00C000FC000018000F818000FC000018000F818000FC00001
80007C30000FC0000180007C30000FC0000180007C30000FC0000180003E60000FC00001
80003E60000FC0000180003E60000FC0000180001FC0000FC0000180001FC0000FC00001
80001FC0000FC00003C0000F80000FC00007E0000F80000FC0000FF0000700001FE000FF
FF00070007FFFF80FFFF00070007FFFF80413B7CBA49>77 D<003F80000001C0F0000003
003C000004001E00000C000F000018000780001C0007C0003E0003C0003F0003E0003F00
03E0003F0003E0001E0003E000000003E000000003E000000003E00000003FE000000FF3
E000007E03E00001F803E00003E003E0000FC003E0001F8003E0003F0003E0003E0003E0
007E0003E0007E0003E060FC0003E060FC0003E060FC0003E060FC0007E060FC0007E060
7C000BE0607E000BE0603E0011F0C01F0060F0C007C1807F8000FE003E0023257CA427>
97 D<0000000F80000003FF80000003FF800000001F800000000F800000000F80000000
0F800000000F800000000F800000000F800000000F800000000F800000000F800000000F
800000000F800000000F800000000F800000000F800000000F800000000F800000000F80
0000000F800000000F800003F80F80001E070F800070018F8000E0004F8003C0002F8007
80001F800F80001F800F00000F801F00000F803E00000F803E00000F807E00000F807C00
000F807C00000F80FC00000F80FC00000F80FC00000F80FC00000F80FC00000F80FC0000
0F80FC00000F80FC00000F80FC00000F807C00000F807C00000F807E00000F803E00000F
803E00000F801E00000F801F00000F800F00001F800780003F8003C0006F8001E000CF80
0070018FC0003C0E0FFE0007F00FFE273C7DBB2C>100 D<0007F800003C1E0000F00780
01C003C003C001E0078000F00F0000F81F0000781E00007C3E00007C3E00007C7E00003E
7C00003E7C00003EFC00003EFC00003EFFFFFFFEFC000000FC000000FC000000FC000000
FC000000FC0000007C0000007C0000007E0000003E0000003E0000061F0000060F00000C
0F80000C0780001803C0003000E00060007000C0001E07000003FC001F257EA423>I<00
000007C0000FE01860003838207000F01E40F001E00F80F003C007806007C007C0000F80
03E0000F8003E0000F8003E0001F8003F0001F8003F0001F8003F0001F8003F0001F8003
F0001F8003F0000F8003E0000F8003E0000F8003E00007C007C00003C007800001E00F00
0002F01E00000238380000060FE00000040000000004000000000C000000000C00000000
0E000000000E000000000700000000078000000003FFFF000003FFFFF00001FFFFFC0000
FFFFFE00078000FF000E00001F801C000007C038000003C078000003C070000001E0F000
0001E0F0000001E0F0000001E0F0000001E0F0000001E078000003C038000003803C0000
07801E00000F000700001C0003C0007800007803C000000FFE000024387EA527>103
D<03E0000000FFE0000000FFE000000007E000000003E000000003E000000003E0000000
03E000000003E000000003E000000003E000000003E000000003E000000003E000000003
E000000003E000000003E000000003E000000003E000000003E000000003E000000003E0
00000003E000000003E01FE00003E0607C0003E0801E0003E3000F0003E4000F8003E400
0F8003E800078003E80007C003F00007C003F00007C003E00007C003E00007C003E00007
C003E00007C003E00007C003E00007C003E00007C003E00007C003E00007C003E00007C0
03E00007C003E00007C003E00007C003E00007C003E00007C003E00007C003E00007C003
E00007C003E00007C003E00007C003E00007C003E00007C003E00007C003E00007C007F0
000FE0FFFF81FFFFFFFF81FFFF283C7EBB2C>I<07000F801FC01FC01FC00F8007000000
00000000000000000000000000000000000000000000000007C0FFC0FFC00FC007C007C0
07C007C007C007C007C007C007C007C007C007C007C007C007C007C007C007C007C007C0
07C007C007C007C007C007C007C007C007C007C00FE0FFFEFFFE0F397DB815>I<03E01F
E0003FC000FFE0607C00C0F800FFE0801E01003C0007E3000F06001E0003E4000F88001F
0003E4000F88001F0003E8000790000F0003E80007D0000F8003F00007E0000F8003F000
07E0000F8003E00007C0000F8003E00007C0000F8003E00007C0000F8003E00007C0000F
8003E00007C0000F8003E00007C0000F8003E00007C0000F8003E00007C0000F8003E000
07C0000F8003E00007C0000F8003E00007C0000F8003E00007C0000F8003E00007C0000F
8003E00007C0000F8003E00007C0000F8003E00007C0000F8003E00007C0000F8003E000
07C0000F8003E00007C0000F8003E00007C0000F8003E00007C0000F8003E00007C0000F
8003E00007C0000F8003E00007C0000F8007F0000FE0001FC0FFFF81FFFF03FFFEFFFF81
FFFF03FFFE3F257EA443>109 D<03E01FE000FFE0607C00FFE0801E0007E3000F0003E4
000F8003E4000F8003E800078003E80007C003F00007C003F00007C003E00007C003E000
07C003E00007C003E00007C003E00007C003E00007C003E00007C003E00007C003E00007
C003E00007C003E00007C003E00007C003E00007C003E00007C003E00007C003E00007C0
03E00007C003E00007C003E00007C003E00007C003E00007C003E00007C003E00007C003
E00007C007F0000FE0FFFF81FFFFFFFF81FFFF28257EA42C>I<0007FC0000001C070000
007001C00001E000F00003C00078000780003C000F00001E001F00001F001E00000F003E
00000F803E00000F807C000007C07C000007C07C000007C0FC000007E0FC000007E0FC00
0007E0FC000007E0FC000007E0FC000007E0FC000007E0FC000007E0FC000007E07C0000
07C07C000007C07E00000FC03E00000F803E00000F801E00000F001F00001F000F00001E
000780003C0003C000780001E000F000007001C000001C0700000007FC000023257EA427
>I<03E03FC000FFE0E07800FFE3001C0007E6000F0003E800078003F80003C003F00003
E003E00001F003E00001F003E00000F803E00000F803E00000FC03E00000FC03E000007C
03E000007E03E000007E03E000007E03E000007E03E000007E03E000007E03E000007E03
E000007E03E000007E03E000007C03E00000FC03E00000FC03E00000F803E00001F803E0
0001F003E00003E003F00003E003F80007C003E8000F8003E4000E0003E3003C0003E1C0
F00003E03F800003E000000003E000000003E000000003E000000003E000000003E00000
0003E000000003E000000003E000000003E000000003E000000003E000000003E0000000
03E000000007F0000000FFFF800000FFFF80000027367EA42C>I<03E03E00FFE0C300FF
E1078007E20FC003E40FC003E80FC003E8078003E8030003F0000003F0000003F0000003
E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003
E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003E0000003
E0000003E0000003E0000003E0000003E0000007F00000FFFFC000FFFFC0001A257EA41E
>114 D<00FF02000700C6000C002E0010001E0030001E0060000E0060000E00E0000600
E0000600E0000600F0000600F8000600FC0000007F0000003FF000003FFF80000FFFE000
07FFF00001FFFC00003FFE000001FE0000003F00C0001F00C0000F80C0000780E0000380
E0000380E0000380E0000380F0000300F0000300F8000700F8000600E4000C00E2001800
C1807000807F800019257DA41F>I E end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin
%%PaperSize: A4

%%EndSetup
%%Page: 1 1
1 0 bop 519 191 a Fv(Comprehending)28 b(Monads)763 339
y Fu(Philip)16 b(W)-5 b(adler)659 414 y(Univ)n(ersit)n(y)18
b(of)h(Glasgo)n(w)840 598 y Ft(Abstract)185 681 y Fs(Category)f
(theorists)g(in)o(v)o(en)o(ted)i Fr(monads)i Fs(in)e(the)f(1960's)e(to)
h(concisely)j(express)e(certain)117 738 y(asp)q(ects)c(of)g(univ)o
(ersal)h(algebra.)k(F)l(unctional)c(programmers)e(in)o(v)o(en)o(ted)h
Fr(list)h(c)n(ompr)n(ehensions)117 794 y Fs(in)d(the)g(1970's)e(to)h
(concisely)i(express)e(certain)h(programs)e(in)o(v)o(olving)j(lists.)20
b(This)13 b(pap)q(er)g(sho)o(ws)117 851 y(ho)o(w)18 b(list)h
(comprehensions)g(ma)o(y)e(b)q(e)i(generalised)h(to)d(an)h(arbitrary)g
(monad,)g(and)g(ho)o(w)g(the)117 907 y(resulting)f(programming)f
(feature)g(can)g(concisely)i(express)f(in)g(a)f(pure)g(functional)i
(language)117 964 y(some)c(programs)e(that)i(manipulate)h(state,)e
(handle)i(exceptions,)g(parse)e(text,)h(or)f(in)o(v)o(ok)o(e)h(con-)117
1020 y(tin)o(uations.)28 b(A)17 b(new)h(solution)g(to)f(the)h(old)g
(problem)g(of)f(destructiv)o(e)i(arra)o(y)d(up)q(date)i(is)g(also)117
1076 y(presen)o(ted.)j(No)15 b(kno)o(wledge)g(of)g(category)f(theory)h
(is)h(assumed.)-5 1243 y Fq(1)81 b(In)n(tro)r(duction)-5
1352 y Fp(Is)16 b(there)g(a)h(w)o(a)o(y)f(to)g(com)o(bine)e(the)i
(indulgences)g(of)g(impurit)o(y)e(with)i(the)g(blessings)g(of)h(purit)o
(y?)68 1412 y(Impure,)12 b(strict)h(functional)g(languages)i(suc)o(h)e
(as)h(Standard)h(ML)e([Mil84)o(,)g(HMT88])g(and)i(Sc)o(heme)-5
1473 y([R)o(C86])f(supp)q(ort)h(a)g(wide)e(v)m(ariet)o(y)g(of)i
(features,)f(suc)o(h)g(as)g(assigning)h(to)g(state,)f(handling)g
(exceptions,)-5 1533 y(and)j(in)o(v)o(oking)e(con)o(tin)o(uations.)22
b(Pure,)16 b(lazy)f(functional)h(languages)i(suc)o(h)e(as)h(Hask)o(ell)
e([HPW91])h(or)-5 1593 y(Miranda)175 1575 y Fo(1)219
1593 y Fp([T)l(ur85)q(])j(esc)o(hew)f(suc)o(h)h(features,)g(b)q(ecause)
g(they)g(are)g(incompatible)e(with)i(the)g(adv)m(an-)-5
1653 y(tages)h(of)f(lazy)f(ev)m(aluation)h(and)g(equational)g
(reasoning,)h(adv)m(an)o(tages)g(that)f(ha)o(v)o(e)f(b)q(een)h(describ)
q(ed)-5 1713 y(at)e(length)f(elsewhere)f([Hug89,)h(BW88)q(].)68
1774 y(Purit)o(y)k(has)h(its)g(regrets,)g(and)g(all)f(programmers)e(in)
j(pure)f(functional)g(languages)i(will)d(recall)-5 1834
y(some)f(momen)o(t)f(when)i(an)h(impure)d(feature)i(has)h(tempted)d
(them.)29 b(F)l(or)19 b(instance,)g(if)g(a)h(coun)o(ter)e(is)-5
1894 y(required)e(to)i(generate)f(unique)f(names,)g(then)h(an)g
(assignable)h(v)m(ariable)f(seems)f(just)h(the)g(tic)o(k)o(et.)k(In)-5
1954 y(suc)o(h)c(cases)h(it)f(is)g(alw)o(a)o(ys)h(p)q(ossible)f(to)h
(mimi)o(c)c(the)k(required)e(impure)f(feature)i(b)o(y)g(straigh)o
(tforw)o(ard)-5 2014 y(though)d(tedious)f(means.)19 b(F)l(or)12
b(instance,)h(a)g(coun)o(ter)f(can)h(b)q(e)g(sim)o(ulated)d(b)o(y)i(mo)
q(difying)g(the)g(relev)m(an)o(t)-5 2075 y(functions)18
b(to)g(accept)f(an)h(additional)g(parameter)e(\(the)i(coun)o(ter's)f
(curren)o(t)g(v)m(alue\))g(and)h(return)g(an)-5 2135
y(additional)f(result)e(\(the)h(coun)o(ter's)g(up)q(dated)h(v)m
(alue\).)p -5 2181 756 2 v 47 2212 a Fn(1)70 2227 y Fm(Miranda)c(is)h
(a)g(trademark)f(of)g(Researc)o(h)i(Soft)o(w)o(are)f(Limited.)-5
2321 y(Author's)h(address:)k(Departmen)o(t)13 b(of)h(Computing)e
(Science,)i(Univ)o(ersit)o(y)g(of)g(Glasgo)o(w,)e(G12)h(8QQ,)h
(Scotland.)k(Elec-)-5 2371 y(tronic)c(mail:)i(w)o(adler@cs.glasgo)o
(w.ac.uk.)-5 2439 y(This)11 b(pap)q(er)h(app)q(eared)h(in)e
Fl(Mathematic)n(al)h(Structur)n(es)g(in)h(Computer)f(Scienc)n(e)g
Fm(v)o(olume)d(2,)i(pp.)g(461{493,)f(1992;)g(cop)o(y-)-5
2488 y(righ)o(t)k(Cam)o(bridge)f(Univ)o(ersit)o(y)h(Press.)21
b(This)14 b(v)o(ersion)g(corrects)j(a)d(few)g(small)e(errors)j(in)f
(the)h(published)g(v)o(ersion.)k(An)-5 2538 y(earlier)14
b(v)o(ersion)g(app)q(eared)h(in)f Fl(A)o(CM)g(Confer)n(enc)n(e)h(on)g
(Lisp)g(and)h(F)m(unctional)f(Pr)n(o)n(gr)n(amming)p
Fm(,)e(Nice,)h(June)h(1990.)928 2663 y Fp(1)p eop
%%Page: 2 2
2 1 bop 68 -10 a Fp(This)16 b(pap)q(er)g(describ)q(es)f(a)g(new)h
(metho)q(d)e(for)i(structuring)f(pure)g(programs)h(that)g(mim)o(ic)c
(impure)-5 50 y(features.)40 b(This)22 b(metho)q(d)g(do)q(es)h(not)g
(completely)c(eliminate)h(the)i(tension)h(b)q(et)o(w)o(een)e(purit)o(y)
g(and)-5 110 y(impurit)o(y)l(,)g(but)h(it)g(do)q(es)h(relax)e(it)h(a)g
(little)f(bit.)38 b(It)22 b(increases)g(the)f(readabilit)o(y)g(of)i
(the)f(resulting)-5 170 y(programs,)h(and)f(it)g(eliminates)d(the)i(p)q
(ossibilit)o(y)g(of)h(certain)f(silly)f(errors)i(that)g(migh)o(t)e
(otherwise)-5 230 y(arise)c(\(suc)o(h)g(as)h(acciden)o(tally)d(passing)
k(the)e(wrong)h(v)m(alue)f(for)h(the)f(coun)o(ter)f(parameter\).)68
291 y(The)20 b(inspiration)f(for)g(this)h(tec)o(hnique)d(comes)h(from)g
(the)h(w)o(ork)g(of)h(Eugenio)g(Moggi)f([Mog89a)q(,)-5
351 y(Mog89b)r(].)g(His)12 b(goal)h(w)o(as)g(to)g(pro)o(vide)f(a)h(w)o
(a)o(y)f(of)h(structuring)g(the)f(seman)o(tic)e(description)i(of)h
(features)-5 411 y(suc)o(h)f(as)i(state,)e(exceptions,)g(and)h(con)o
(tin)o(uations.)20 b(His)12 b(disco)o(v)o(ery)f(w)o(as)i(that)f(the)h
(notion)g(of)f(a)h Fk(monad)-5 471 y Fp(from)19 b(category)h(theory)g
(suits)f(this)h(purp)q(ose.)33 b(By)19 b(de\014ning)h(an)g(in)o
(terpretation)f(of)h Fj(\025)p Fp(-calculus)f(in)-5 531
y(an)g(arbitrary)g(monad)f(he)g(pro)o(vided)g(a)h(framew)o(ork)e(that)i
(could)g(describ)q(e)f(all)g(these)g(features)g(and)-5
592 y(more.)68 652 y(It)d(is)g(relativ)o(ely)d(straigh)o(tforw)o(ard)k
(to)g(adopt)g(Moggi's)f(tec)o(hnique)e(of)i(structuring)g(denotational)
-5 712 y(sp)q(eci\014cations)g(in)o(to)f(a)h(tec)o(hnique)e(for)i
(structuring)f(functional)h(programs.)21 b(This)14 b(pap)q(er)h(presen)
o(ts)g(a)-5 772 y(simpli\014ed)f(v)o(ersion)i(of)g(Moggi's)h(ideas,)e
(framed)g(in)h(a)h(w)o(a)o(y)f(b)q(etter)g(suited)f(to)i(functional)f
(program-)-5 832 y(mers)f(than)i(seman)o(ticists;)d(in)h(particular,)h
(no)h(kno)o(wledge)e(of)i(category)f(theory)h(is)f(assumed.)68
892 y(The)h(pap)q(er)g(con)o(tains)f(t)o(w)o(o)g(signi\014can)o(t)g
(new)g(con)o(tributions.)68 953 y(The)23 b(\014rst)g(con)o(tribution)f
(is)g(a)h(new)f(language)i(feature,)f(the)f Fk(monad)h(c)n(ompr)n
(ehension)p Fp(.)40 b(This)-5 1013 y(generalises)18 b(the)g(familiar)e
(notion)j(of)g(list)f(comprehension)e([W)l(ad87)q(],)i(due)h
(originally)e(to)i(Burstall)-5 1073 y(and)12 b(Darlington,)h(and)f
(found)g(in)f(KR)o(C)h([T)l(ur82],)g(Miranda,)g(Hask)o(ell)e(and)i
(other)g(languages.)20 b(Monad)-5 1133 y(comprehensions)13
b(are)i(not)f(essen)o(tial)g(to)g(the)g(structuring)h(tec)o(hnique)d
(describ)q(ed)i(here,)f(but)i(they)f(do)-5 1193 y(pro)o(vide)i(a)g
(pleasan)o(t)h(syn)o(tax)f(for)g(expressing)g(programs)h(structured)f
(in)f(this)i(w)o(a)o(y)l(.)68 1254 y(The)23 b(second)f(con)o(tribution)
f(is)h(a)h(new)f(solution)g(to)h(the)f(old)g(problem)e(of)j(destructiv)
o(e)d(arra)o(y)-5 1314 y(up)q(date.)35 b(The)21 b(solution)f(consists)h
(of)g(t)o(w)o(o)g(abstract)g(data)g(t)o(yp)q(es)g(with)f(ten)g(op)q
(erations)i(b)q(et)o(w)o(een)-5 1374 y(them.)32 b(Under)20
b(this)g(approac)o(h,)i(the)e(usual)h(t)o(yping)f(discipline)e(\(e.g.,)
j(Hindley-Milner)c(extended)-5 1434 y(with)24 b(abstract)h(data)g(t)o
(yp)q(es\))f(is)g(su\016cien)o(t)f(to)i(guaran)o(tee)f(that)h(arra)o(y)
g(up)q(date)f(ma)o(y)f(safely)h(b)q(e)-5 1494 y(implem)o(en)o(ted)17
b(b)o(y)j(o)o(v)o(erwriting.)32 b(T)l(o)20 b(m)o(y)f(kno)o(wledge,)h
(this)g(solution)h(has)g(nev)o(er)e(b)q(een)h(prop)q(osed)-5
1555 y(b)q(efore,)e(and)h(its)f(disco)o(v)o(ery)e(comes)h(as)i(a)f
(surprise)g(considering)g(the)f(plethora)i(of)f(more)f(elab)q(orate)-5
1615 y(solutions)h(that)g(ha)o(v)o(e)e(b)q(een)h(prop)q(osed:)24
b(these)17 b(include)f(syn)o(tactic)g(restrictions)g([Sc)o(h85],)h
(run-time)-5 1675 y(c)o(hec)o(ks)c([Hol83],)g(abstract)i(in)o
(terpretation)e([Hud86a,)h(Hud86b)q(,)f(Blo89],)h(and)h(exotic)e(t)o
(yp)q(e)g(systems)-5 1735 y([GH90,)i(W)l(ad90)q(,)g(W)l(ad91)q(].)20
b(That)c(monads)f(led)f(to)i(the)e(disco)o(v)o(ery)g(of)h(this)g
(solution)g(m)o(ust)f(coun)o(t)g(as)-5 1795 y(a)j(p)q(oin)o(t)f(in)g
(their)g(fa)o(v)o(our.)68 1856 y(Wh)o(y)h(has)g(this)f(solution)h(not)g
(b)q(een)f(disco)o(v)o(ered)f(b)q(efore?)22 b(One)17
b(lik)o(ely)d(reason)j(is)f(that)h(the)f(data)-5 1916
y(t)o(yp)q(es)22 b(in)o(v)o(olv)o(e)f(higher-order)h(functions)h(in)f
(an)h(essen)o(tial)e(w)o(a)o(y)l(.)40 b(The)22 b(usual)h
(axiomatisation)f(of)-5 1976 y(arra)o(ys)e(in)o(v)o(olv)o(es)e(only)h
(\014rst-order)h(functions)f(\()p Fk(index)6 b Fp(,)21
b Fk(up)n(date)t Fp(,)f(and)g Fk(newarr)n(ay)t Fp(,)f(as)h(describ)q
(ed)f(in)-5 2036 y(Section)c(4.3\),)f(and)i(so,)f(apparen)o(tly)l(,)f
(it)h(did)f(not)h(o)q(ccur)g(to)g(an)o(y)o(one)g(to)g(searc)o(h)f(for)h
(an)h(abstract)f(data)-5 2096 y(t)o(yp)q(e)e(based)h(on)g(higher-order)
g(functions.)20 b(Inciden)o(tally)l(,)11 b(the)i(higher-order)h(nature)
g(of)g(the)f(solution)-5 2156 y(means)18 b(that)h(it)f(cannot)h(b)q(e)g
(applied)f(in)g(\014rst-order)i(languages)g(suc)o(h)e(as)h(Prolog)h(or)
f(OBJ.)e(It)h(also)-5 2217 y(casts)e(doubt)g(on)g(Goguen's)h(thesis)e
(that)h(\014rst-order)g(languages)h(are)e(su\016cien)o(t)f(for)i(most)f
(purp)q(oses)-5 2277 y([Gog88)r(].)68 2337 y(Monads)h(and)f(monad)f
(comprehensions)f(help)g(to)i(clarify)e(and)i(unify)f(some)f(previous)h
(prop)q(osals)-5 2397 y(for)19 b(incorp)q(orating)h(v)m(arious)f
(features)f(in)o(to)g(functional)h(languages:)27 b(exceptions)17
b([W)l(ad85)q(,)h(Spi90)q(],)-5 2457 y(parsers)e([W)l(ad85)q(,)f(F)l
(ai87,)g(FL89)q(],)f(and)i(non-determinism)c([HO89].)20
b(In)15 b(particular,)g(Spiv)o(ey's)e(w)o(ork)-5 2518
y([Spi90])h(is)g(notable)g(for)g(p)q(oin)o(ting)g(out,)h(indep)q(enden)
o(tly)d(of)j(Moggi,)f(that)h(monads)f(pro)o(vide)f(a)h(frame-)928
2663 y(2)p eop
%%Page: 3 3
3 2 bop -5 -10 a Fp(w)o(ork)17 b(for)f(exception)f(handling.)68
50 y(There)h(is)f(a)i(translation)f(sc)o(heme)d(from)i
Fj(\025)p Fp(-calculus)h(in)o(to)f(an)i(arbitrary)e(monad.)21
b(Indeed,)15 b(there)-5 110 y(are)25 b(t)o(w)o(o)g(sc)o(hemes,)f(one)h
(yielding)f(call-b)o(y-v)m(alue)g(seman)o(tics)f(and)i(one)g(yielding)f
(call-b)o(y-name.)-5 170 y(These)15 b(can)h(b)q(e)f(used)h(to)f
(systematically)e(transform)i(languages)h(with)f(state,)g(exceptions,)g
(con)o(tin)o(u-)-5 230 y(ations,)f(or)g(other)f(features)g(in)o(to)g(a)
h(pure)f(functional)g(language.)21 b(Tw)o(o)14 b(applications)f(are)g
(giv)o(en.)19 b(One)-5 291 y(is)e(to)g(deriv)o(e)e(call-b)o(y-v)m(alue)
g(and)j(call-b)o(y-name)c(in)o(terpretations)i(for)h(a)g(simple)e
(non-deterministic)-5 351 y(language:)21 b(this)13 b(\014ts)g(the)g(w)o
(ork)g(of)g(Hughes)g(and)h(O'Donnell)e([HO89])g(in)o(to)h(the)g(more)e
(general)i(frame-)-5 411 y(w)o(ork)i(giv)o(en)g(here.)20
b(The)15 b(other)g(is)g(to)h(apply)f(the)g(call-b)o(y-v)m(alue)f(sc)o
(heme)f(in)h(the)h(monad)g(of)h(con)o(tin)o(u-)-5 471
y(ations:)22 b(the)15 b(result)f(is)h(the)g(familiar)e(con)o(tin)o
(uation-passing)j(st)o(yle)e(transformation.)21 b(It)15
b(remains)f(an)-5 531 y(op)q(en)k(question)g(whether)f(there)g(is)g(a)h
(translation)g(sc)o(heme)e(that)i(corresp)q(onds)g(to)g(call-b)o
(y-need)e(as)-5 592 y(opp)q(osed)i(to)e(call-b)o(y-name.)68
652 y(A)21 b(k)o(ey)e(feature)h(of)h(the)g(monad)f(approac)o(h)i(is)e
(the)g(use)h(of)g(t)o(yp)q(es)f(to)h(indicate)f(what)h(parts)h(of)-5
712 y(a)e(program)f(ma)o(y)f(ha)o(v)o(e)g(what)i(sorts)g(of)f
(e\013ects.)30 b(In)19 b(this,)h(it)e(is)h(similar)e(in)i(spirit)g(to)h
(Gi\013ord)f(and)-5 772 y(Lucassen's)e Fk(e\013e)n(ct)h(systems)j
Fp([GL88)q(].)68 832 y(The)14 b(examples)e(in)h(this)g(pap)q(er)h(are)g
(based)g(on)g(Hask)o(ell)e([HPW91],)h(though)i(an)o(y)e(lazy)g
(functional)-5 892 y(language)18 b(incorp)q(orating)f(the)f
(Hindley/Milner)d(t)o(yp)q(e)j(system)f(w)o(ould)h(w)o(ork)g(as)h(w)o
(ell.)68 953 y(The)d(remainder)d(of)j(this)f(pap)q(er)h(is)f(organised)
h(as)g(follo)o(ws.)20 b(Section)12 b(2)i(uses)g(list)e(comprehensions)
-5 1013 y(to)20 b(motiv)m(ate)e(the)g(concept)h(of)h(a)f(monad,)g(and)h
(in)o(tro)q(duces)f(monad)f(comprehensions.)29 b(Section)19
b(3)-5 1073 y(sho)o(ws)j(that)f(v)m(ariable)f(binding)g(\(as)h(in)f
(\\let")h(terms\))e(and)i(con)o(trol)f(of)h(ev)m(aluation)g(order)f
(can)h(b)q(e)-5 1133 y(mo)q(delled)16 b(b)o(y)h(t)o(w)o(o)g(trivial)g
(monads.)25 b(Section)17 b(4)h(explores)f(the)g(use)h(of)g(monads)f(to)
h(structure)f(pro-)-5 1193 y(grams)d(that)h(manipulate)e(state,)i(and)g
(presen)o(ts)f(the)h(new)f(solution)h(to)g(the)f(arra)o(y)h(up)q(date)g
(problem.)-5 1254 y(Tw)o(o)k(examples)d(are)j(considered:)25
b(renaming)17 b(b)q(ound)i(v)m(ariables,)g(and)g(in)o(terpreting)e(a)h
(simple)f(im-)-5 1314 y(p)q(erativ)o(e)f(language.)23
b(Section)15 b(5)i(extends)f(monad)g(comprehensions)g(to)g(include)f
(\014lters.)22 b(Section)16 b(6)-5 1374 y(in)o(tro)q(duces)f(the)f
(concept)g(of)h(monad)f(morphism)f(and)i(giv)o(es)f(a)h(simple)d(pro)q
(of)k(of)f(the)f(equiv)m(alence)f(of)-5 1434 y(t)o(w)o(o)h(programs.)20
b(Section)13 b(7)h(catalogues)g(three)f(more)f(monads:)20
b(parsers,)14 b(exceptions,)f(and)h(con)o(tin)o(u-)-5
1494 y(ations.)22 b(Section)15 b(8)h(giv)o(es)f(the)g(translation)h(sc)
o(hemes)e(for)i(in)o(terpreting)e Fj(\025)p Fp(-calculus)i(in)f(an)h
(arbitrary)-5 1555 y(monad.)k(Tw)o(o)12 b(examples)e(are)i(considered:)
18 b(giving)12 b(a)g(seman)o(tics)e(to)i(a)g(non-deterministic)e
(language,)-5 1615 y(and)17 b(deriving)e(con)o(tin)o(uation-passing)j
(st)o(yle.)-5 1777 y Fq(2)81 b(Comprehensions)26 b(and)h(monads)-5
1901 y Fi(2.1)66 b(Lists)-5 1993 y Fp(Let)19 b(us)g(write)e
Fk(M)f(x)25 b Fp(for)19 b(the)f(data)h(t)o(yp)q(e)f(of)h(lists)f(with)g
(elemen)o(ts)e(of)j(t)o(yp)q(e)f Fk(x)6 b Fp(.)28 b(\(In)18
b(Hask)o(ell,)f(this)h(is)-5 2054 y(usually)f(written)f([)p
Fk(x)6 b Fp(].\))23 b(F)l(or)17 b(example,)e([)p Fk(1)7
b Fj(;)h Fk(2)f Fj(;)h Fk(3)f Fp(])12 b(::)j Fk(M)g(Int)22
b Fp(and)c([`a')o Fj(;)8 b Fp(`b')o Fj(;)g Fp(`c')o(])14
b(::)g Fk(M)i(Char)5 b Fp(.)23 b(W)l(e)17 b(write)-5
2114 y Fk(map)i Fp(for)e(the)f(higher-order)g(function)g(that)h
(applies)f(a)g(function)g(to)h(eac)o(h)f(elmen)o(t)d(of)k(a)f(list:)589
2195 y Fk(map)h Fp(::)c(\()p Fk(x)20 b Fh(!)14 b Fk(y)t
Fp(\))f Fh(!)h Fp(\()p Fk(M)i(x)k Fh(!)14 b Fk(M)i(y)t
Fp(\))p Fj(:)-5 2276 y Fp(\(In)d(Hask)o(ell,)f(t)o(yp)q(e)h(v)m
(ariables)h(are)f(written)g(with)h(small)e(letters,)g(e.g.,)h
Fk(x)20 b Fp(and)14 b Fk(y)t Fp(,)g(and)g(t)o(yp)q(e)f(construc-)-5
2337 y(tors)j(are)g(written)e(with)h(capital)g(letters,)g(e.g.,)f
Fk(M)8 b Fp(.\))20 b(F)l(or)c(example,)c(if)j Fk(c)n(o)n(de)j
Fp(::)12 b Fk(Char)19 b Fh(!)14 b Fk(Int)20 b Fp(maps)15
b(a)-5 2397 y(c)o(haracter)h(to)h(its)f(ASCI)q(I)f(co)q(de,)h(then)g
Fk(map)11 b(c)n(o)n(de)h Fp([`a')o Fj(;)c Fp(`b')o Fj(;)g
Fp(`c')o(])13 b(=)h([)p Fk(97)7 b Fj(;)h Fk(98)f Fj(;)h
Fk(99)f Fp(].)19 b(Observ)o(e)c(that)529 2477 y(\()p
Fk(i)5 b Fp(\))194 b Fk(map)11 b(id)46 b Fp(=)c Fk(id)5
b Fj(;)529 2537 y Fp(\()p Fk(ii)g Fp(\))97 b Fk(map)11
b Fp(\()p Fk(g)16 b Fh(\001)11 b Fk(f)g Fp(\))41 b(=)h
Fk(map)11 b(g)k Fh(\001)c Fk(map)g(f)g Fj(:)928 2663
y Fp(3)p eop
%%Page: 4 4
4 3 bop -5 -10 a Fp(Here)18 b Fk(id)24 b Fp(is)18 b(the)g(iden)o(tit)o
(y)f(function,)i Fk(id)13 b(x)24 b Fp(=)18 b Fk(x)6 b
Fp(,)19 b(and)h Fk(g)d Fh(\001)c Fk(f)29 b Fp(is)18 b(function)h(comp)q
(osition,)f(\()p Fk(g)f Fh(\001)c Fk(f)d Fp(\))e Fk(x)25
b Fp(=)-5 50 y Fk(g)13 b Fp(\()p Fk(f)19 b(x)6 b Fp(\).)68
110 y(In)23 b(category)f(theory)l(,)h(the)g(notions)g(of)f
Fk(typ)n(e)k Fp(and)d Fk(function)28 b Fp(are)22 b(generalised)g(to)h
Fk(obje)n(ct)k Fp(and)-5 170 y Fk(arr)n(ow)5 b Fp(.)43
b(An)23 b(op)q(erator)i Fk(M)31 b Fp(taking)23 b(eac)o(h)g(ob)s(ject)g
Fk(x)30 b Fp(in)o(to)24 b(an)g(ob)s(ject)f Fk(M)15 b(x)6
b Fp(,)26 b(com)o(bined)21 b(with)j(an)-5 230 y(op)q(erator)e
Fk(map)i Fp(taking)d(eac)o(h)f(arro)o(w)i Fk(f)32 b Fp(::)21
b Fk(x)28 b Fh(!)21 b Fk(y)k Fp(in)o(to)c(an)g(arro)o(w)h
Fk(map)11 b(f)32 b Fp(::)21 b Fk(M)15 b(x)29 b Fh(!)21
b Fk(M)16 b(y)t Fp(,)21 b(and)-5 291 y(satisfying)c(\()p
Fk(i)5 b Fp(\))17 b(and)h(\()p Fk(ii)5 b Fp(\),)17 b(is)g(called)f(a)h
Fk(functor)p Fp(.)25 b(Categorists)18 b(prefer)e(to)i(use)f(the)g(same)
f(sym)o(b)q(ol)g(for)-5 351 y(b)q(oth)h(op)q(erators,)h(and)f(so)f(w)o
(ould)h(write)e Fk(M)h(f)27 b Fp(where)16 b(w)o(e)g(write)f
Fk(map)c(f)g Fp(.)68 411 y(The)20 b(function)e Fk(unit)25
b Fp(con)o(v)o(erts)18 b(a)h(v)m(alue)g(in)o(to)g(a)g(singleton)g
(lists,)g(and)h(the)f(function)g Fk(join)k Fp(con-)-5
471 y(catenates)17 b(a)f(list)g(of)g(lists)g(in)o(to)g(a)h(list:)687
567 y Fk(unit)i Fp(::)13 b Fk(x)21 b Fh(!)13 b Fk(M)j(x)6
b Fj(;)687 627 y Fk(join)18 b Fp(::)13 b Fk(M)j Fp(\()p
Fk(M)f(x)6 b Fp(\))15 b Fh(!)e Fk(M)j(x)6 b Fj(:)-5 737
y Fp(F)l(or)17 b(example,)c Fk(unit)h(3)20 b Fp(=)14
b([)p Fk(3)7 b Fp(])15 b(and)i Fk(join)12 b Fp([)c([)p
Fk(1)f Fj(;)h Fk(2)f Fp(])p Fj(;)h Fp([)p Fk(3)f Fp(])h(])j(=)j([)p
Fk(1)7 b Fj(;)h Fk(2)f Fj(;)h Fk(3)f Fp(])m(.)22 b(Observ)o(e)15
b(that)461 845 y(\()p Fk(iii)5 b Fp(\))97 b Fk(map)11
b(f)22 b Fh(\001)10 b Fk(unit)47 b Fp(=)42 b Fk(unit)16
b Fh(\001)11 b Fk(f)g Fj(;)461 906 y Fp(\()p Fk(iv)5
b Fp(\))108 b Fk(map)11 b(f)22 b Fh(\001)11 b Fk(join)45
b Fp(=)d Fk(join)15 b Fh(\001)c Fk(map)g Fp(\()p Fk(map)g(f)f
Fp(\))p Fj(:)-5 1015 y Fp(La)o(ws)21 b(\()p Fk(iii)5
b Fp(\))19 b(and)h(\()p Fk(iv)5 b Fp(\))20 b(ma)o(y)e(b)q(e)h(deriv)o
(ed)f(b)o(y)h(a)h(systematic)d(transformation)j(of)f(the)g(p)q
(olymorphic)-5 1075 y(t)o(yp)q(es)14 b(of)g Fk(unit)19
b Fp(and)14 b Fk(join)t Fp(.)20 b(The)14 b(idea)f(of)h(deriving)f(la)o
(ws)g(from)g(t)o(yp)q(es)g(go)q(es)i(b)o(y)e(the)g(slogan)i(\\theorems)
-5 1135 y(for)g(free")g([W)l(ad89)q(])f(and)i(is)e(a)h(consequence)f
(of)h(Reynolds')g(abstraction)g(theorem)e(for)i(p)q(olymorphic)-5
1196 y(lam)o(b)q(da)h(calculus)f([Rey83].)68 1256 y(In)d(categorical)g
(terms,)f Fk(unit)18 b Fp(and)13 b Fk(join)j Fp(are)c
Fk(natur)n(al)i(tr)n(ansformations)p Fp(.)19 b(Rather)12
b(than)g(treat)h Fk(unit)-5 1316 y Fp(as)20 b(a)f(single)f(function)g
(with)h(a)g(p)q(olymorphic)e(t)o(yp)q(e,)i(categorists)g(treat)g(it)f
(as)h(a)g(family)e(of)i(arro)o(ws,)-5 1376 y Fk(unit)79
1383 y Fo(x)116 1376 y Fp(::)13 b Fk(x)21 b Fh(!)13 b
Fk(M)j(x)6 b Fp(,)15 b(one)g(for)f(eac)o(h)g(ob)s(ject)g
Fk(x)6 b Fp(,)15 b(satisfying)g Fk(map)c(f)18 b Fh(\001)8
b Fk(unit)1307 1383 y Fo(x)1343 1376 y Fp(=)14 b Fk(unit)1479
1383 y Fo(y)1510 1376 y Fh(\001)8 b Fk(f)24 b Fp(for)15
b(an)o(y)f(ob)s(jects)-5 1436 y Fk(x)27 b Fp(and)21 b
Fk(y)j Fp(and)d(an)o(y)f(arro)o(w)h Fk(f)31 b Fp(::)19
b Fk(x)27 b Fh(!)21 b Fk(y)j Fp(b)q(et)o(w)o(een)19 b(them.)32
b(They)20 b(treat)g Fk(join)k Fp(similarly)l(.)30 b(Natural)-5
1496 y(transformation)21 b(is)g(a)g(simpler)d(concept)j(than)g(p)q
(olymorphic)e(function,)j(but)f(w)o(e)f(will)g(stic)o(k)f(with)-5
1557 y(p)q(olymorphism)14 b(since)i(it's)f(a)i(more)e(familiar)f
(concept)i(to)h(functional)f(programmers.)-5 1701 y Fi(2.2)66
b(Comprehensions)-5 1793 y Fp(Man)o(y)14 b(functional)g(languages)h
(pro)o(vide)f(a)h(form)e(of)h Fk(list)i(c)n(ompr)n(ehension)e
Fp(analogous)j(to)d(set)g(compre-)-5 1854 y(hension.)22
b(F)l(or)16 b(example,)246 1964 y([)8 b(\()p Fk(x)e Fj(;)i
Fk(y)t Fp(\))14 b Fh(j)g Fk(x)20 b Fh( )14 b Fp([)p Fk(1)7
b Fj(;)h Fk(2)f Fp(])p Fj(;)14 b Fk(y)k Fh( )c Fp([)p
Fk(3)7 b Fj(;)h Fk(4)f Fp(])h(])40 b(=)h([\()p Fk(1)7
b Fj(;)h Fk(3)f Fp(\))p Fj(;)h Fp(\()p Fk(1)f Fj(;)h
Fk(4)f Fp(\))p Fj(;)h Fp(\()p Fk(2)f Fj(;)h Fk(3)f Fp(\))p
Fj(;)g Fp(\()p Fk(2)g Fj(;)h Fk(4)f Fp(\)])o Fj(:)-5
2074 y Fp(In)13 b(general,)f(a)h(comprehension)f(has)h(the)g(form)e([)d
Fk(t)19 b Fh(j)14 b Fk(q)f Fp(],)f(where)h Fk(t)k Fp(is)c(a)g(term)e
(and)i Fk(q)18 b Fp(is)12 b(a)h(quali\014er.)19 b(W)l(e)-5
2134 y(use)c(the)f(letters)g Fk(t)5 b Fp(,)14 b Fk(u)t
Fp(,)h Fk(v)20 b Fp(to)15 b(range)h(o)o(v)o(er)d(terms,)g(and)i
Fk(p)s Fp(,)g Fk(q)t Fp(,)g Fk(r)20 b Fp(to)15 b(range)g(o)o(v)o(er)f
(quali\014ers.)20 b(A)14 b(quali\014er)-5 2194 y(is)20
b(either)f(empt)o(y)l(,)f Fk(\003)p Fp(;)i(or)h(a)f(generator,)h
Fk(x)26 b Fh( )20 b Fk(u)t Fp(,)g(where)f Fk(x)26 b Fp(is)20
b(a)g(v)m(ariable)g(and)g Fk(u)k Fp(is)19 b(a)i(list-v)m(alued)-5
2254 y(term;)15 b(or)i(a)g(comp)q(osition)f(of)h(quali\014ers,)f(\()p
Fk(p)s Fj(;)8 b Fk(q)t Fp(\).)23 b(Comprehensions)16
b(are)g(de\014ned)h(b)o(y)f(the)g(follo)o(wing)-5 2314
y(rules:)502 2361 y(\()p Fk(1)7 b Fp(\))97 b([)8 b Fk(t)19
b Fh(j)14 b Fk(\003)8 b Fp(])143 b(=)41 b Fk(unit)14
b(t)5 b Fj(;)502 2421 y Fp(\()p Fk(2)i Fp(\))97 b([)8
b Fk(t)19 b Fh(j)14 b Fk(x)20 b Fh( )14 b Fk(u)e Fp(])41
b(=)g Fk(map)11 b Fp(\()p Fj(\025)p Fk(x)21 b Fh(!)14
b Fk(t)5 b Fp(\))j Fk(u)t Fj(;)502 2481 y Fp(\()p Fk(3)f
Fp(\))97 b([)8 b Fk(t)19 b Fh(j)14 b Fp(\()p Fk(p)s Fj(;)8
b Fk(q)t Fp(\))g(])63 b(=)41 b Fk(join)12 b Fp([)c([)p
Fk(t)d Fh(j)p Fk(q)t Fp(])14 b Fh(j)f Fk(p)f Fp(])p Fj(:)928
2663 y Fp(4)p eop
%%Page: 5 5
5 4 bop -5 -10 a Fp(\(In)18 b(Hask)o(ell,)e Fj(\025)p
Fp(-terms)h(are)h(written)g(\()p Fj(\025)p Fk(x)23 b
Fh(!)17 b Fk(t)5 b Fp(\))18 b(rather)g(than)g(the)g(more)f(common)f(\()
p Fj(\025)p Fk(x)6 b Fj(:)i Fk(t)d Fp(\).\))26 b(Note)-5
50 y(the)15 b(rev)o(ersal)e(of)i(quali\014ers)f(in)h(rule)f(\(3\):)20
b(nesting)15 b Fk(q)20 b Fp(inside)14 b Fk(p)j Fp(on)e(the)g(righ)o
(t-hand)g(side)f(means)g(that,)-5 110 y(as)j(w)o(e)f(exp)q(ect,)f(v)m
(ariables)h(b)q(ound)i(in)d Fk(p)20 b Fp(ma)o(y)14 b(b)q(e)j(used)f(in)
g Fk(q)21 b Fp(but)16 b(not)h(vice-v)o(ersa.)68 170 y(F)l(or)i(those)f
(familiar)e(with)i(list)f(comprehensions,)g(the)g(empt)o(y)f
(quali\014er)h(and)i(the)e(paren)o(theses)-5 230 y(in)i(quali\014er)e
(comp)q(ositions)i(will)e(app)q(ear)j(strange.)29 b(This)19
b(is)f(b)q(ecause)h(they)g(are)f(not)h(needed.)28 b(W)l(e)-5
291 y(will)20 b(shortly)h(pro)o(v)o(e)f(that)i(quali\014er)e(comp)q
(osition)g(is)h(asso)q(ciativ)o(e)f(and)i(has)g(the)e(empt)o(y)f
(quali\014er)-5 351 y(as)i(unit.)33 b(Th)o(us)20 b(w)o(e)g(need)f(not)i
(write)e(paren)o(theses)h(in)g(quali\014er)f(comp)q(ositions,)h(since)g
(\(\()p Fk(p)s Fj(;)8 b Fk(q)t Fp(\))p Fj(;)g Fk(r)d
Fp(\))-5 411 y(and)22 b(\()p Fk(p)s Fj(;)8 b Fp(\()p
Fk(q)t Fj(;)g Fk(r)d Fp(\)\))21 b(are)g(equiv)m(alen)o(t,)f(and)i(w)o
(e)e(need)h(not)g(write)f(\()p Fk(q)t Fj(;)8 b Fk(\003)p
Fp(\))21 b(or)h(\()p Fk(\003)p Fj(;)8 b Fk(q)t Fp(\))21
b(b)q(ecause)g(b)q(oth)h(are)-5 471 y(equiv)m(alen)o(t)c(to)h(the)g
(simpler)d Fk(q)t Fp(.)31 b(The)19 b(only)f(remaining)g(use)h(of)g
Fk(\003)g Fp(is)f(to)i(write)e([)8 b Fk(t)23 b Fh(j)18
b Fk(\003)8 b Fp(],)19 b(whic)o(h)f(w)o(e)-5 531 y(abbreviate)e([)8
b Fk(t)13 b Fp(].)68 592 y(Most)18 b(languages)g(that)f(include)e(list)
i(comprehensions)e(also)j(allo)o(w)e(another)i(form)d(of)i
(quali\014er,)-5 652 y(kno)o(wn)g(as)g(a)f Fk(\014lter)p
Fp(,)h(the)f(treatmen)o(t)e(of)j(whic)o(h)e(is)h(p)q(ostp)q(oned)i(un)o
(til)e(Section)f(5.)68 712 y(As)h(a)h(simple)d(example,)g(w)o(e)i(ha)o
(v)o(e:)665 814 y([)8 b Fk(sqr)14 b(x)20 b Fh(j)14 b
Fk(x)20 b Fh( )13 b Fp([)p Fk(1)7 b Fj(;)h Fk(2)f Fj(;)h
Fk(3)f Fp(])h(])586 874 y(=)41 b Fh(f)p Fp(b)o(y)16 b(\()p
Fk(2)7 b Fp(\))p Fh(g)665 934 y Fk(map)k Fp(\()p Fj(\025)p
Fk(x)21 b Fh(!)14 b Fk(sqr)f(x)6 b Fp(\))i([)p Fk(1)f
Fj(;)h Fk(2)f Fj(;)h Fk(3)f Fp(])586 994 y(=)41 b Fh(f)p
Fp(reducing)16 b Fk(map)s Fh(g)665 1055 y Fp([)p Fk(1)7
b Fj(;)h Fk(4)f Fj(;)h Fk(9)f Fp(])p Fj(:)68 1157 y Fp(The)17
b(comprehension)e(in)g(the)h(initial)f(example)f(is)i(computed)f(as:)
462 1259 y([)8 b(\()p Fk(x)e Fj(;)i Fk(y)t Fp(\))14 b
Fh(j)g Fk(x)20 b Fh( )13 b Fp([)p Fk(1)7 b Fj(;)h Fk(2)f
Fp(])p Fj(;)15 b Fk(y)j Fh( )13 b Fp([)p Fk(3)7 b Fj(;)h
Fk(4)f Fp(])h(])383 1320 y(=)41 b Fh(f)p Fp(b)o(y)16
b(\()p Fk(3)7 b Fp(\))o Fh(g)462 1380 y Fk(join)12 b
Fp([)c([)g(\()p Fk(x)e Fj(;)i Fk(y)t Fp(\))14 b Fh(j)g
Fk(y)j Fh( )d Fp([)p Fk(3)7 b Fj(;)h Fk(4)f Fp(])h(])k
Fh(j)i Fk(x)20 b Fh( )14 b Fp([)p Fk(1)7 b Fj(;)h Fk(2)f
Fp(])h(])383 1440 y(=)41 b Fh(f)p Fp(b)o(y)16 b(\()p
Fk(2)7 b Fp(\))o Fh(g)462 1500 y Fk(join)12 b Fp([)c
Fk(map)j Fp(\()p Fj(\025)p Fk(y)18 b Fh(!)c Fp(\()p Fk(x)6
b Fj(;)i Fk(y)t Fp(\)\))g([)p Fk(3)f Fj(;)h Fk(4)f Fp(])13
b Fh(j)g Fk(x)21 b Fh( )13 b Fp([)p Fk(1)7 b Fj(;)h Fk(2)f
Fp(])h(])383 1560 y(=)41 b Fh(f)p Fp(b)o(y)16 b(\()p
Fk(2)7 b Fp(\))o Fh(g)462 1621 y Fk(join)12 b Fp(\()p
Fk(map)f Fp(\()p Fj(\025)p Fk(x)21 b Fh(!)13 b Fk(map)e
Fp(\()p Fj(\025)p Fk(y)19 b Fh(!)13 b Fp(\()p Fk(x)6
b Fj(;)i Fk(y)t Fp(\)\))g([)p Fk(3)f Fj(;)h Fk(4)f Fp(]\))h([)p
Fk(1)f Fj(;)h Fk(2)f Fp(]\))383 1681 y(=)41 b Fh(f)p
Fp(reducing)16 b Fk(map)r Fh(g)462 1741 y Fk(join)c Fp(\()p
Fk(map)f Fp(\()p Fj(\025)p Fk(x)21 b Fh(!)13 b Fp([\()p
Fk(x)6 b Fj(;)i Fk(3)f Fp(\))p Fj(;)h Fp(\()p Fk(x)e
Fj(;)i Fk(4)f Fp(\)]\))h([)p Fk(1)f Fj(;)h Fk(2)f Fp(]\))383
1801 y(=)41 b Fh(f)p Fp(reducing)16 b Fk(map)r Fh(g)462
1861 y Fk(join)c Fp([[\()p Fk(1)7 b Fj(;)h Fk(3)f Fp(\))p
Fj(;)h Fp(\()p Fk(1)f Fj(;)h Fk(4)f Fp(\)])p Fj(;)h Fp([)o(\()p
Fk(2)f Fj(;)h Fk(3)f Fp(\))p Fj(;)g Fp(\()p Fk(2)g Fj(;)h
Fk(4)f Fp(\)])o(])383 1921 y(=)41 b Fh(f)p Fp(reducing)16
b Fk(join)t Fh(g)462 1982 y Fp([\()p Fk(1)7 b Fj(;)h
Fk(3)f Fp(\))p Fj(;)h Fp(\()p Fk(1)f Fj(;)h Fk(4)f Fp(\))p
Fj(;)h Fp(\()p Fk(2)f Fj(;)h Fk(3)f Fp(\))p Fj(;)g Fp(\()p
Fk(2)g Fj(;)h Fk(4)f Fp(\)])o Fj(:)68 2087 y Fp(F)l(rom)15
b(\()p Fk(i)5 b Fp(\){\()p Fk(iv)g Fp(\))18 b(and)e(\()p
Fk(1)7 b Fp(\){\()p Fk(3)g Fp(\))16 b(w)o(e)g(ma)o(y)f(deriv)o(e)f
(further)i(la)o(ws:)430 2192 y(\()p Fk(4)7 b Fp(\))97
b([)8 b Fk(f)19 b(t)f Fh(j)c Fk(q)f Fp(])298 b(=)42 b
Fk(map)11 b(f)19 b Fp([)8 b Fk(t)18 b Fh(j)c Fk(q)f Fp(])p
Fj(;)430 2252 y Fp(\()p Fk(5)7 b Fp(\))97 b([)8 b Fk(x)20
b Fh(j)14 b Fk(x)20 b Fh( )14 b Fk(u)t Fp(])223 b(=)42
b Fk(u)t Fj(;)430 2312 y Fp(\()p Fk(6)7 b Fp(\))97 b([)8
b Fk(t)19 b Fh(j)13 b Fk(p)s Fj(;)j Fk(x)21 b Fh( )13
b Fp([)p Fk(u)t Fh(j)p Fk(q)t Fp(])p Fj(;)j Fk(r)d Fp(])41
b(=)h([)8 b Fk(t)1185 2294 y Fo(u)1180 2325 y(x)1222
2312 y Fh(j)14 b Fk(p)s Fj(;)i Fk(q)t Fj(;)h Fk(r)1391
2294 y Fo(u)1386 2325 y(x)1423 2312 y Fp(])p Fj(:)-5
2418 y Fp(In)f(\()p Fk(4)7 b Fp(\))15 b(function)h Fk(f)26
b Fp(m)o(ust)15 b(con)o(tain)h(no)g(free)f(o)q(ccurrences)h(of)g(v)m
(ariables)g(b)q(ound)h(b)o(y)e(quali\014er)g Fk(q)t Fp(,)h(and)-5
2478 y(in)h(\()p Fk(6)7 b Fp(\))17 b(the)g(term)e Fk(t)363
2460 y Fo(u)358 2490 y(x)404 2478 y Fp(stands)k(for)e(term)f
Fk(t)22 b Fp(with)17 b(term)e Fk(u)21 b Fp(substituted)d(for)f(eac)o(h)
g(free)f(o)q(ccurrence)h(of)-5 2538 y(v)m(ariable)j Fk(x)6
b Fp(,)21 b(and)g(similarly)c(for)k(the)f(quali\014er)f
Fk(r)932 2520 y Fo(u)927 2551 y(x)956 2538 y Fp(.)33
b(La)o(w)21 b(\()p Fk(4)7 b Fp(\))19 b(is)h(pro)o(v)o(ed)g(b)o(y)f
(induction)h(o)o(v)o(er)f(the)928 2663 y(5)p eop
%%Page: 6 6
6 5 bop -5 -10 a Fp(structure)13 b(of)h(quali\014ers;)g(the)f(pro)q(of)
h(uses)g(la)o(ws)g(\()p Fk(ii)5 b Fp(\){\()p Fk(iv)g
Fp(\))14 b(and)g(\()p Fk(1)7 b Fp(\){\()p Fk(3)g Fp(\).)20
b(La)o(w)14 b(\()p Fk(5)7 b Fp(\))14 b(is)f(an)h(imme)o(diate)-5
50 y(consequence)g(of)i(la)o(ws)f(\()p Fk(i)5 b Fp(\))15
b(and)h(\()p Fk(2)7 b Fp(\).)20 b(La)o(w)c(\()p Fk(6)7
b Fp(\))15 b(is)g(again)h(pro)o(v)o(ed)e(b)o(y)h(induction)f(o)o(v)o
(er)h(the)f(structure)-5 110 y(of)j(quali\014ers,)e(and)i(the)f(pro)q
(of)h(uses)g(la)o(ws)f(\()p Fk(1)7 b Fp(\){\()p Fk(4)g
Fp(\).)68 170 y(As)14 b(promised,)f(w)o(e)g(no)o(w)i(sho)o(w)f(that)h
(quali\014er)e(comp)q(osition)g(is)h(asso)q(ciativ)o(e)f(and)i(has)g
(the)e(empt)o(y)-5 230 y(quali\014er)j(as)g(a)h(unit:)482
324 y(\()p Fk(I)528 306 y Fg(0)539 324 y Fp(\))224 b([)8
b Fk(t)18 b Fh(j)c Fk(\003)p Fj(;)i Fk(q)d Fp(])41 b(=)h([)8
b Fk(t)18 b Fh(j)c Fk(q)f Fp(])p Fj(;)482 384 y Fp(\()p
Fk(II)547 366 y Fg(0)558 384 y Fp(\))205 b([)8 b Fk(t)18
b Fh(j)c Fk(q)t Fj(;)j Fk(\003)8 b Fp(])41 b(=)h([)8
b Fk(t)18 b Fh(j)c Fk(q)f Fp(])p Fj(;)482 445 y Fp(\()p
Fk(III)566 427 y Fg(0)577 445 y Fp(\))98 b([)8 b Fk(t)18
b Fh(j)c Fp(\()p Fk(p)s Fj(;)i Fk(q)t Fp(\))p Fj(;)h
Fk(r)c Fp(])41 b(=)h([)8 b Fk(t)18 b Fh(j)c Fk(p)s Fj(;)i
Fp(\()p Fk(q)t Fj(;)h Fk(r)5 b Fp(\))j(])p Fj(:)68 542
y Fp(First,)16 b(observ)o(e)f(that)i(\()p Fk(I)526 524
y Fg(0)537 542 y Fp(\){\()p Fk(III)664 524 y Fg(0)676
542 y Fp(\))f(are)g(equiv)m(alen)o(t,)e(resp)q(ectiv)o(ely)l(,)g(to)i
(the)g(follo)o(wing:)462 639 y(\()p Fk(I)8 b Fp(\))236
b Fk(join)15 b Fh(\001)c Fk(unit)47 b Fp(=)41 b Fk(id)5
b Fj(;)462 699 y Fp(\()p Fk(II)j Fp(\))116 b Fk(join)15
b Fh(\001)c Fk(map)g(unit)47 b Fp(=)41 b Fk(id)5 b Fj(;)462
759 y Fp(\()p Fk(III)j Fp(\))202 b Fk(join)15 b Fh(\001)c
Fk(join)45 b Fp(=)c Fk(join)15 b Fh(\001)c Fk(map)g(join)t
Fj(:)-5 857 y Fp(T)l(o)17 b(see)f(that)h(\()p Fk(II)317
839 y Fg(0)328 857 y Fp(\))f(and)h(\()p Fk(II)8 b Fp(\))15
b(are)i(equiv)m(alen)o(t,)d(start)j(with)f(the)g(left)f(side)h(of)g(\()
p Fk(II)1499 839 y Fg(0)1511 857 y Fp(\))g(and)h(simplify:)703
953 y([)8 b Fk(t)18 b Fh(j)c Fk(q)t Fj(;)j Fk(\003)8
b Fp(])623 1013 y(=)42 b Fh(f)p Fp(b)o(y)15 b(\()p Fk(3)7
b Fp(\))p Fh(g)703 1074 y Fk(join)12 b Fp([)c([)g Fk(t)18
b Fh(j)c Fk(\003)p Fp(])f Fh(j)h Fk(q)f Fp(])623 1134
y(=)42 b Fh(f)p Fp(b)o(y)15 b(\()p Fk(1)7 b Fp(\))p Fh(g)703
1194 y Fk(join)12 b Fp([)c Fk(unit)14 b(t)k Fh(j)c Fk(q)f
Fp(])623 1254 y(=)42 b Fh(f)p Fp(b)o(y)15 b(\()p Fk(4)7
b Fp(\))p Fh(g)703 1314 y Fk(join)12 b Fp(\()p Fk(map)f(unit)j
Fp([)8 b Fk(t)18 b Fh(j)c Fk(q)f Fp(]\))p Fj(:)-5 1412
y Fp(That)j(\()p Fk(II)8 b Fp(\))14 b(implies)e(\()p
Fk(II)443 1394 y Fg(0)454 1412 y Fp(\))j(is)f(immediate.)j(F)l(or)e
(the)g(con)o(v)o(erse,)e(tak)o(e)h([)8 b Fk(t)19 b Fh(j)14
b Fk(q)f Fp(])h(to)h(b)q(e)g([)8 b Fk(x)20 b Fh(j)14
b Fk(x)20 b Fh( )14 b Fk(u)e Fp(])i(and)-5 1472 y(apply)i(\()p
Fk(5)7 b Fp(\).)21 b(The)c(other)f(t)o(w)o(o)g(equiv)m(alences)f(are)h
(seen)g(similarly)l(.)68 1532 y(Second,)g(observ)o(e)g(that)h(la)o(ws)f
(\()p Fk(I)8 b Fp(\){\()p Fk(III)g Fp(\))15 b(do)i(indeed)f(hold.)21
b(F)l(or)16 b(example:)524 1629 y Fk(join)c Fp(\()p Fk(unit)i
Fp([)p Fk(1)7 b Fj(;)h Fk(2)f Fp(]\))12 b(=)i Fk(join)e
Fp([[)p Fk(1)7 b Fj(;)h Fk(2)f Fp(]])k(=)j([)p Fk(1)7
b Fj(;)h Fk(2)f Fp(])p Fj(;)460 1689 y Fk(join)12 b Fp(\()p
Fk(map)f(unit)j Fp([)p Fk(1)7 b Fj(;)h Fk(2)f Fp(]\))12
b(=)h Fk(join)g Fp([[)p Fk(1)7 b Fp(])p Fj(;)h Fp([)p
Fk(2)f Fp(]])j(=)k([)p Fk(1)7 b Fj(;)h Fk(2)f Fp(])p
Fj(;)350 1749 y Fk(join)13 b Fp(\()p Fk(join)f Fp([[[)p
Fk(1)7 b Fp(])p Fj(;)h Fp([)p Fk(2)f Fp(])o(])p Fj(;)g
Fp([[)p Fk(3)f Fp(]]])o(\))11 b(=)j Fk(join)e Fp([[)p
Fk(1)7 b Fp(])p Fj(;)h Fp([)p Fk(2)f Fp(])p Fj(;)g Fp([)p
Fk(3)g Fp(])o(])k(=)j([)p Fk(1)7 b Fj(;)h Fk(2)f Fj(;)h
Fk(3)f Fp(])p Fj(;)313 1809 y Fk(join)13 b Fp(\()p Fk(map)e(join)h
Fp([[[)p Fk(1)7 b Fp(])p Fj(;)h Fp([)p Fk(2)f Fp(])o(])p
Fj(;)g Fp([[)p Fk(3)f Fp(]]])o(\))11 b(=)j Fk(join)e
Fp([[)p Fk(1)7 b Fj(;)h Fk(2)f Fp(])p Fj(;)h Fp([)p Fk(3)f
Fp(])o(])k(=)j([)p Fk(1)7 b Fj(;)h Fk(2)f Fj(;)h Fk(3)f
Fp(])p Fj(:)-5 1907 y Fp(Use)16 b(induction)g(o)o(v)o(er)f(lists)h(to)h
(pro)o(v)o(e)e(\()p Fk(I)8 b Fp(\))16 b(and)h(\()p Fk(II)8
b Fp(\),)15 b(and)i(o)o(v)o(er)e(list)h(of)g(lists)g(to)h(pro)o(v)o(e)e
(\()p Fk(III)8 b Fp(\).)-5 2050 y Fi(2.3)66 b(Monads)-5
2142 y Fp(The)22 b(comprehension)e(notation)i(suits)g(data)h
(structures)e(other)h(than)g(lists.)37 b(Sets)21 b(and)h(bags)h(are)-5
2202 y(ob)o(vious)c(examples,)d(and)j(w)o(e)e(shall)i(encoun)o(ter)e
(man)o(y)g(others.)27 b(Insp)q(ection)18 b(of)h(the)f(foregoing)h(lets)
-5 2262 y(us)e(isolate)f(the)g(conditions)g(under)g(whic)o(h)g(a)h
(comprehension)d(notation)k(is)e(sensible.)68 2323 y(F)l(or)c(our)g
(purp)q(oses,)g(a)g Fk(monad)17 b Fp(is)11 b(an)g(op)q(erator)i
Fk(M)19 b Fp(on)11 b(t)o(yp)q(es)g(together)h(with)f(a)g(triple)f(of)i
(functions)562 2416 y Fk(map)44 b Fp(::)c(\()p Fk(x)21
b Fh(!)13 b Fk(y)t Fp(\))h Fh(!)g Fp(\()p Fk(M)i(x)k
Fh(!)13 b Fk(M)j(y)t Fp(\))p Fj(;)562 2477 y Fk(unit)50
b Fp(::)40 b Fk(x)21 b Fh(!)13 b Fk(M)j(x)6 b Fj(;)562
2537 y Fk(join)52 b Fp(::)40 b Fk(M)16 b Fp(\()p Fk(M)g(x)6
b Fp(\))14 b Fh(!)g Fk(M)i(x)6 b Fj(;)928 2663 y Fp(6)p
eop
%%Page: 7 7
7 6 bop -5 -10 a Fp(satisfying)17 b(la)o(ws)f(\()p Fk(i)5
b Fp(\){\()p Fk(iv)g Fp(\))17 b(and)g(\()p Fk(I)8 b Fp(\){\()p
Fk(III)g Fp(\).)68 50 y(Ev)o(ery)21 b(monad)f(giv)o(es)h(rise)f(to)i(a)
g(notion)f(of)h(comprehension)e(via)h(la)o(ws)g(\()p
Fk(1)7 b Fp(\){\()p Fk(3)g Fp(\).)35 b(The)22 b(three)-5
110 y(la)o(ws)16 b(establish)f(a)h(corresp)q(ondence)g(b)q(et)o(w)o
(een)f(the)g(three)g(comp)q(onen)o(ts)g(of)h(a)g(monad)f(and)h(the)g
(three)-5 170 y(forms)h(of)h(quali\014er:)k(\()p Fk(1)7
b Fp(\))17 b(asso)q(ciates)i Fk(unit)k Fp(with)17 b(the)g(empt)o(y)e
(quali\014er,)i(\()p Fk(2)7 b Fp(\))17 b(asso)q(ciates)h
Fk(map)i Fp(with)-5 230 y(generators,)i(and)e(\()p Fk(3)7
b Fp(\))20 b(asso)q(ciates)h Fk(join)j Fp(with)c(quali\014er)f(comp)q
(osition.)32 b(The)20 b(resulting)f(notion)i(of)-5 291
y(comprehension)e(is)h(guaran)o(teed)h(to)g(b)q(e)f(sensible)g(in)g
(that)g(it)g(necessarily)f(satis\014es)i(la)o(ws)f(\()p
Fk(4)7 b Fp(\){\()p Fk(6)g Fp(\))-5 351 y(and)17 b(\()p
Fk(I)136 333 y Fg(0)147 351 y Fp(\){\()p Fk(III)274 333
y Fg(0)286 351 y Fp(\).)68 411 y(In)d(what)g(follo)o(ws,)g(w)o(e)f
(will)g(need)g(to)h(distinguish)g(man)o(y)e(monads.)20
b(W)l(e)14 b(write)f Fk(M)21 b Fp(alone)14 b(to)g(stand)-5
471 y(for)19 b(the)g(monad,)g(lea)o(ving)f(the)g(triple)g(\()p
Fk(map)835 453 y Fo(M)874 471 y Fj(;)8 b Fk(unit)985
453 y Fo(M)1024 471 y Fj(;)g Fk(join)1132 453 y Fo(M)1171
471 y Fp(\))19 b(implicit,)d(and)j(w)o(e)g(write)f([)8
b Fk(t)23 b Fh(j)18 b Fk(q)13 b Fp(])1846 453 y Fo(M)-5
531 y Fp(to)18 b(indicate)e(in)g(whic)o(h)h(monad)f(a)i(comprehension)d
(is)i(to)h(b)q(e)f(in)o(terpreted.)22 b(The)17 b(monad)f(of)i(lists)e
(as)-5 592 y(describ)q(ed)g(ab)q(o)o(v)o(e)g(will)f(b)q(e)i(written)e
Fk(List)5 b Fp(.)68 652 y(As)18 b(an)f(example,)e(tak)o(e)i
Fk(Set)23 b Fp(to)18 b(b)q(e)f(the)h(set)f(t)o(yp)q(e)g(constructor,)g
Fk(map)1378 634 y Fo(Set)1449 652 y Fp(to)g(b)q(e)h(the)f(image)f(of)i
(a)-5 712 y(set)d(under)f(a)h(function,)f Fk(unit)537
694 y Fo(Set)606 712 y Fp(to)g(b)q(e)h(the)f(function)h(that)g(tak)o
(es)f(an)h(elemen)o(t)c(in)o(to)j(a)h(singleton)g(set,)-5
772 y(and)i Fk(join)176 754 y Fo(Set)246 772 y Fp(to)f(b)q(e)h(the)f
(union)g(of)h(a)f(set)h(of)f(sets:)627 878 y Fk(map)720
860 y Fo(Set)782 878 y Fk(f)p 816 851 29 2 v 19 w(x)48
b Fp(=)41 b Fh(f)8 b Fk(f)19 b(x)h Fh(j)14 b Fk(x)20
b Fh(2)p 1191 851 V 14 w Fk(x)15 b Fh(g)627 938 y Fk(unit)716
920 y Fo(Set)779 938 y Fk(x)85 b Fp(=)41 b Fh(f)8 b Fk(x)15
b Fh(g)627 998 y Fk(join)713 980 y Fo(Set)p 775 964 V
775 972 V 775 998 a Fk(x)89 b Fp(=)965 965 y Ff(S)p 1016
964 V 1016 972 V 1016 998 a Fk(x)7 b Fj(:)-5 1108 y Fp(The)17
b(resulting)g(comprehension)f(notation)i(is)f(the)g(familiar)e(one)i
(for)h(sets.)24 b(F)l(or)17 b(instance,)g([)8 b(\()p
Fk(x)e Fj(;)i Fk(y)t Fp(\))15 b Fh(j)-5 1168 y Fk(x)21
b Fh( )p 101 1141 V 13 w Fk(x)7 b Fj(;)16 b Fk(y)i Fh( )p
265 1141 V 13 w Fk(y)13 b Fp(])316 1150 y Fo(Set)385
1168 y Fp(sp)q(eci\014es)j(the)g(cartesian)g(pro)q(duct)h(of)f(sets)p
1198 1141 V 17 w Fk(x)22 b Fp(and)p 1337 1141 V 17 w
Fk(y)t Fp(.)68 1228 y(W)l(e)16 b(can)h(reco)o(v)o(er)d
Fk(unit)5 b Fp(,)17 b Fk(map)s Fp(,)e(and)i Fk(join)j
Fp(from)15 b(the)h(comprehension)f(notation:)496 1334
y(\()p Fk(1)547 1316 y Fg(0)558 1334 y Fp(\))98 b Fk(unit)13
b(x)85 b Fp(=)42 b([)8 b Fk(x)14 b Fp(])496 1394 y(\()p
Fk(2)547 1376 y Fg(0)558 1394 y Fp(\))98 b Fk(map)11
b(f)p 809 1368 V 18 w(x)48 b Fp(=)42 b([)8 b Fk(f)18
b(x)j Fh(j)13 b Fk(x)20 b Fh( )p 1190 1368 V 14 w Fk(x)15
b Fp(])496 1454 y(\()p Fk(3)547 1436 y Fg(0)558 1454
y Fp(\))98 b Fk(join)p 769 1419 V 769 1428 V 12 w(x)88
b Fp(=)42 b([)8 b Fk(x)20 b Fh(j)p 1050 1428 V 13 w Fk(x)h
Fh( )p 1156 1419 V 1156 1428 V 13 w Fk(x)7 b Fj(;)16
b Fk(x)k Fh( )p 1321 1428 V 14 w Fk(x)14 b Fp(])p Fj(:)-5
1564 y Fp(Here)i(w)o(e)g(adopt)i(the)e(con)o(v)o(en)o(tion)g(that)h(if)
f Fk(x)23 b Fp(has)18 b(t)o(yp)q(e)e Fk(x)6 b Fp(,)17
b(then)p 1216 1538 V 17 w Fk(x)23 b Fp(has)17 b(t)o(yp)q(e)g
Fk(M)e(x)24 b Fp(and)p 1659 1530 V 1659 1538 V 17 w Fk(x)f
Fp(has)18 b(t)o(yp)q(e)-5 1624 y Fk(M)e Fp(\()p Fk(M)g(x)6
b Fp(\).)68 1685 y(Th)o(us)22 b(not)f(only)f(can)h(w)o(e)g(deriv)o(e)e
(comprehensions)h(from)f(monads,)j(but)f(w)o(e)f(can)h(also)h(deriv)o
(e)-5 1745 y(monads)15 b(from)e(comprehensions.)20 b(De\014ne)14
b(a)h Fk(c)n(ompr)n(ehension)h(structur)n(e)j Fp(to)c(b)q(e)g(an)o(y)f
(in)o(terpretation)-5 1805 y(of)19 b(the)e(syn)o(tax)h(of)g
(comprehensions)f(that)h(satis\014es)h(la)o(ws)f(\()p
Fk(5)7 b Fp(\){\()p Fk(6)g Fp(\))17 b(and)i(\()p Fk(I)1427
1787 y Fg(0)1438 1805 y Fp(\){\()p Fk(III)1565 1787 y
Fg(0)1576 1805 y Fp(\).)26 b(An)o(y)17 b(monad)-5 1865
y(giv)o(es)h(rise)g(to)i(a)f(comprehension)e(structure,)i(via)f(la)o
(ws)h(\()p Fk(1)7 b Fp(\){\()p Fk(3)g Fp(\);)19 b(as)g(w)o(e)g(ha)o(v)o
(e)e(seen,)i(these)f(imply)-5 1925 y(\()p Fk(4)7 b Fp(\){\()p
Fk(6)g Fp(\))18 b(and)h(\()p Fk(I)320 1907 y Fg(0)331
1925 y Fp(\){\()p Fk(III)458 1907 y Fg(0)469 1925 y Fp(\).)27
b(Con)o(v)o(ersely)l(,)16 b(an)o(y)i(comprehension)f(structure)h(giv)o
(es)f(rise)h(to)g(a)g(monad)-5 1986 y(structure,)i(via)e(la)o(ws)i(\()p
Fk(1)466 1968 y Fg(0)477 1986 y Fp(\){\()p Fk(3)571 1968
y Fg(0)583 1986 y Fp(\);)g(it)f(is)g(easy)g(to)h(v)o(erify)d(that)j
(these)f(imply)e(\()p Fk(i)5 b Fp(\){\()p Fk(iv)g Fp(\))20
b(and)g(\()p Fk(1)7 b Fp(\){\()p Fk(4)g Fp(\),)-5 2046
y(and)17 b(hence)f(\()p Fk(I)8 b Fp(\){\()p Fk(III)g
Fp(\).)68 2106 y(The)13 b(concept)e(w)o(e)h(arriv)o(ed)f(at)i(b)o(y)f
(generalising)g(list)f(comprehensions,)h(mathematici)o(ans)e(arriv)o
(ed)-5 2166 y(at)22 b(b)o(y)e(a)h(rather)g(di\013eren)o(t)g(route.)35
b(It)21 b(\014rst)g(arose)h(in)e(homological)g(algebra)i(in)e(the)h
(1950's)h(with)-5 2226 y(the)17 b(undistinguished)f(name)g(\\standard)i
(construction")f(\(sort)g(of)g(a)g(mathematical)d(equiv)m(alen)o(t)h
(of)-5 2287 y(\\hey)j(y)o(ou"\).)28 b(The)18 b(next)g(name,)f
(\\triple",)h(w)o(as)g(not)h(m)o(uc)o(h)d(of)j(an)f(impro)o(v)o(em)o
(en)o(t.)24 b(Finally)17 b(it)h(w)o(as)-5 2347 y(baptised)f(a)f
(\\monad".)22 b(No)o(w)o(ada)o(ys)16 b(it)g(can)g(b)q(e)h(found)g(in)f
(an)o(y)g(standard)h(text)f(on)h(category)f(theory)-5
2407 y([Mac71,)g(BW85)q(,)f(LS86)r(].)68 2467 y(The)f(concept)f(w)o(e)g
(call)g(a)h(monad)f(is)h(sligh)o(tly)e(stronger)j(than)f(what)g(a)g
(categorist)g(means)f(b)o(y)g(that)-5 2527 y(name:)28
b(w)o(e)20 b(are)g(using)h(what)g(a)f(categorist)h(w)o(ould)f(call)f(a)
i Fk(str)n(ong)g(monad)k Fp(in)20 b(a)g Fk(c)n(artesian)i(close)n(d)928
2663 y Fp(7)p eop
%%Page: 8 8
8 7 bop -5 -10 a Fk(c)n(ate)n(gory)p Fp(.)33 b(Rougly)21
b(sp)q(eaking,)g(a)g(category)g(is)f(cartesian)g(closed)h(if)e(it)h
(has)h(enough)h(structure)e(to)-5 50 y(in)o(terpret)e
Fj(\025)p Fp(-calculus.)31 b(In)19 b(particular,)g(asso)q(ciated)i
(with)e(an)o(y)g(pair)h(of)f(ob)s(jects)g(\(t)o(yp)q(es\))g
Fk(x)26 b Fp(and)20 b Fk(y)-5 110 y Fp(there)e(is)h(an)g(ob)s(ject)f([)
p Fk(x)24 b Fh(!)18 b Fk(y)t Fp(])g(represen)o(ting)g(the)g(space)h(of)
g(all)f(arro)o(ws)i(\(functions\))f(from)e Fk(x)25 b
Fp(to)19 b Fk(y)t Fp(.)-5 170 y(Recall)d(that)h Fk(M)25
b Fp(is)17 b(a)g(functor)g(if)g(for)g(an)o(y)g(arro)o(w)h
Fk(f)25 b Fp(::)14 b Fk(x)22 b Fh(!)15 b Fk(y)21 b Fp(there)16
b(is)h(an)g(arro)o(w)h Fk(map)11 b(f)26 b Fp(::)14 b
Fk(M)i(x)21 b Fh(!)-5 230 y Fk(M)16 b(y)24 b Fp(satisfying)c(\()p
Fk(i)5 b Fp(\))20 b(and)g(\()p Fk(ii)5 b Fp(\).)32 b(This)20
b(functor)g(is)f(strong)i(if)f(it)f(is)h(itself)e(represen)o(ted)h(b)o
(y)g(a)i(single)-5 291 y(arro)o(w)c Fk(map)f Fp(::)d([)p
Fk(x)20 b Fh(!)14 b Fk(y)t Fp(])f Fh(!)h Fp([)p Fk(M)h(x)20
b Fh(!)14 b Fk(M)i(y)t Fp(].)21 b(This)16 b(is)f(all)h(second)g(nature)
g(to)g(a)h(generous)f(functional)-5 351 y(programmer,)e(but)j(a)f
(stingy)h(categorist)f(pro)o(vides)g(suc)o(h)g(structure)g(only)g(when)
g(it)g(is)g(needed.)68 411 y(It)i(is)f(needed)g(here,)g(as)i(evidenced)
d(b)o(y)h(Moggi's)h(requiremen)o(t)c(that)k(a)h(computational)d(monad)
-5 471 y(ha)o(v)o(e)h(a)h Fk(str)n(ength)p Fp(,)g(a)g(function)f
Fk(t)k Fp(::)16 b(\()p Fk(x)6 b Fj(;)i Fk(M)16 b(y)t
Fp(\))g Fh(!)g Fk(M)f Fp(\()p Fk(x)6 b Fj(;)i Fk(y)t
Fp(\))18 b(satisfying)g(certain)f(la)o(ws)g([Mog89a)r(].)24
b(In)-5 531 y(a)e(cartesian)f(closed)f(category)l(,)i(a)f(monad)g(with)
g(a)g(strength)g(is)g(equiv)m(alen)o(t)f(to)h(a)g(monad)g(with)g(a)-5
592 y(strong)16 b(functor)e(as)i(describ)q(ed)d(ab)q(o)o(v)o(e.)21
b(In)14 b(our)h(framew)o(ork,)e(the)h(strength)h(is)g(de\014ned)f(b)o
(y)g Fk(t)f Fp(\()p Fk(x)6 b Fj(;)p 1786 565 29 2 v 8
w Fk(y)t Fp(\))14 b(=)-5 652 y([)8 b(\()p Fk(x)e Fj(;)i
Fk(y)t Fp(\))23 b Fh(j)f Fk(y)27 b Fh( )p 315 625 V 22
w Fk(y)13 b Fp(].)36 b(\(F)l(ollo)o(wing)21 b(Hask)o(ell,)f(w)o(e)h
(write)g(\()p Fk(x)6 b Fj(;)i Fk(y)t Fp(\))22 b(for)f(pairs)h(and)g
(also)g(\()p Fk(x)6 b Fj(;)i Fk(y)t Fp(\))22 b(for)f(the)-5
712 y(corresp)q(onding)d(pro)q(duct)e(t)o(yp)q(e.\))68
772 y(Monads)k(w)o(ere)f(conceiv)o(ed)e(in)i(the)g(1950's,)h(list)f
(comprehensions)e(in)i(the)g(1970's.)31 b(They)19 b(ha)o(v)o(e)-5
832 y(quite)e(indep)q(enden)o(t)g(origins,)h(but)f(\014t)h(with)g(eac)o
(h)f(other)h(remark)m(ably)e(w)o(ell.)24 b(As)17 b(often)h(happ)q(ens,)
h(a)-5 892 y(common)c(truth)i(ma)o(y)f(underlie)f(apparen)o(tly)i
(disparate)g(phenomena,)f(and)i(it)e(ma)o(y)g(tak)o(e)g(a)h(decade)-5
953 y(or)g(more)e(b)q(efore)h(this)g(underlying)g(commonalit)o(y)d(is)j
(unearthed.)-5 1118 y Fq(3)81 b(Tw)n(o)28 b(trivial)d(monads)-5
1242 y Fi(3.1)66 b(The)23 b(iden)n(tit)n(y)i(monad)-5
1334 y Fp(The)17 b(iden)o(tit)o(y)d(monad)i(is)g(the)g(trivial)f(monad)
g(sp)q(eci\014ed)h(b)o(y)748 1432 y(t)o(yp)q(e)g Fk(Id)d(x)53
b Fp(=)42 b Fk(x)748 1492 y(map)841 1474 y Fo(Id)887
1492 y Fk(f)18 b(x)48 b Fp(=)42 b Fk(f)19 b(x)748 1552
y(unit)837 1534 y Fo(Id)883 1552 y Fk(x)85 b Fp(=)42
b Fk(x)748 1612 y(join)834 1594 y Fo(Id)880 1612 y Fk(x)88
b Fp(=)42 b Fk(x)6 b Fj(;)-5 1717 y Fp(so)20 b Fk(map)151
1699 y Fo(Id)188 1717 y Fp(,)f Fk(unit)310 1699 y Fo(Id)348
1717 y Fp(,)g(and)h Fk(bind)573 1699 y Fo(id)627 1717
y Fp(are)f(all)f(just)i(the)e(iden)o(tit)o(y)f(function.)30
b(A)18 b(comprehension)g(in)g(the)-5 1778 y(iden)o(tit)o(y)c(monad)i
(is)g(lik)o(e)f(a)h(\\let")h(term:)810 1875 y([)8 b Fk(t)19
b Fh(j)13 b Fk(x)20 b Fh( )14 b Fk(u)e Fp(])1052 1857
y Fo(Id)730 1935 y Fp(=)42 b(\(\()p Fj(\025)p Fk(x)21
b Fh(!)13 b Fk(t)5 b Fp(\))j Fk(u)t Fp(\))730 1995 y(=)42
b(\(let)15 b Fk(x)21 b Fp(=)13 b Fk(u)20 b Fp(in)c Fk(t)5
b Fp(\))p Fj(:)-5 2094 y Fp(Similarly)l(,)13 b(a)k(sequence)e(of)h
(quali\014ers)g(corresp)q(onds)h(to)g(a)g(sequence)e(of)h(nested)g
(\\let")h(terms:)348 2196 y([)8 b Fk(t)19 b Fh(j)13 b
Fk(x)21 b Fh( )13 b Fk(u)t Fj(;)j Fk(y)i Fh( )c Fk(v)g
Fp(])754 2175 y Fo(Id)821 2196 y Fp(=)30 b(\(let)16 b
Fk(x)k Fp(=)14 b Fk(u)20 b Fp(in)c(\(let)f Fk(y)j Fp(=)c
Fk(v)22 b Fp(in)16 b Fk(t)5 b Fp(\)\))p Fj(:)-5 2297
y Fp(Since)16 b Fk(y)k Fp(is)c(b)q(ound)h(after)f Fk(x)23
b Fp(it)15 b(app)q(ears)j(in)d(the)h(inner)g(\\let")g(term.)j(In)d(the)
g(follo)o(wing,)f(comprehen-)-5 2358 y(sions)20 b(in)e(the)h(iden)o
(tit)o(y)d(monad)j(will)f(b)q(e)h(written)f(in)g(preference)g(to)h
(\\let")g(terms,)e(as)j(the)e(t)o(w)o(o)h(are)-5 2418
y(equiv)m(alen)o(t.)68 2478 y(In)g(the)f(Hindley-Milner)d(t)o(yp)q(e)j
(system,)g Fj(\025)p Fp(-terms)f(and)i(\\let")g(terms)e(di\013er)h(in)g
(that)h(the)g(latter)-5 2538 y(ma)o(y)12 b(in)o(tro)q(duce)h(p)q
(olymorphism.)18 b(The)13 b(k)o(ey)f(factor)i(allo)o(wing)f(\\let")g
(terms)f(to)i(pla)o(y)e(this)i(role)f(is)g(that)928 2663
y(8)p eop
%%Page: 9 9
9 8 bop -5 -10 a Fp(the)14 b(syn)o(tax)g(pairs)g(eac)o(h)g(b)q(ound)h
(v)m(ariable)f(with)g(its)g(binding)g(term.)k(Since)c(monad)f
(comprehensions)-5 50 y(ha)o(v)o(e)19 b(a)h(similar)e(prop)q(ert)o(y)l
(,)i(it)f(seems)f(reasonable)i(that)g(they)l(,)f(to)q(o,)j(could)d(b)q
(e)h(used)g(to)g(in)o(tro)q(duce)-5 110 y(p)q(olymorphism.)28
b(Ho)o(w)o(ev)o(er,)18 b(the)h(follo)o(wing)g(do)q(es)h(not)g(require)e
(comprehensions)g(that)i(in)o(tro)q(duce)-5 170 y(p)q(olymorphism,)14
b(so)j(w)o(e)f(lea)o(v)o(e)e(exploration)i(of)h(this)f(issue)g(for)g
(the)g(future.)-5 313 y Fi(3.2)66 b(The)23 b(strictness)f(monad)-5
405 y Fp(Sometimes)10 b(it)i(is)h(necessary)f(to)h(con)o(trol)g(order)g
(of)g(ev)m(aluation)g(in)f(a)h(lazy)g(functional)f(program.)20
b(This)-5 465 y(is)c(usually)g(ac)o(hiev)o(ed)f(with)h(the)g
(computable)f(function)h Fk(strict)5 b Fp(,)15 b(de\014ned)h(b)o(y)523
564 y Fk(strict)d(f)19 b(x)48 b Fp(=)41 b(if)16 b Fk(x)k
Fh(6)p Fp(=)14 b Fh(?)i Fp(then)g Fk(f)j(x)k Fp(else)15
b Fh(?)p Fj(:)-5 662 y Fp(Op)q(erationally)l(,)e Fk(strict)g(f)19
b(x)g Fp(is)13 b(reduced)f(b)o(y)g(\014rst)i(reducing)e
Fk(x)19 b Fp(to)14 b(w)o(eak)e(head)h(normal)f(form)g(\(WHNF\))-5
722 y(and)22 b(then)f(reducing)f(the)h(application)f
Fk(f)f(x)6 b Fp(.)36 b(Alternativ)o(ely)l(,)19 b(it)h(is)h(safe)g(to)g
(reduce)f Fk(x)28 b Fp(and)21 b Fk(f)e(x)27 b Fp(in)-5
782 y(parallel,)15 b(but)i(not)f(allo)o(w)g(access)h(to)f(the)g(result)
g(un)o(til)f Fk(x)23 b Fp(is)16 b(in)g(WHNF.)68 843 y(W)l(e)g(can)h
(use)f(this)g(function)g(as)h(the)f(basis)h(of)f(a)h(monad:)679
927 y(t)o(yp)q(e)f Fk(Str)e(x)47 b Fp(=)42 b Fk(x)679
987 y(map)772 969 y Fo(Str)833 987 y Fk(f)18 b(x)48 b
Fp(=)42 b Fk(strict)13 b(f)19 b(x)679 1047 y(unit)768
1029 y Fo(Str)829 1047 y Fk(x)85 b Fp(=)42 b Fk(x)679
1108 y(join)765 1090 y Fo(Str)826 1108 y Fk(x)88 b Fp(=)42
b Fk(x)6 b Fj(:)-5 1209 y Fp(This)17 b(is)f(the)h(same)e(as)j(the)e
(iden)o(tit)o(y)f(monad,)g(except)h(for)h(the)f(de\014nition)g(of)h
Fk(map)1541 1191 y Fo(Str)1593 1209 y Fp(.)23 b(Monad)17
b(la)o(ws)-5 1269 y(\()p Fk(i)5 b Fp(\),)16 b(\()p Fk(iii)5
b Fp(\){\()p Fk(iv)g Fp(\),)17 b(and)f(\()p Fk(I)8 b
Fp(\){\()p Fk(III)g Fp(\))16 b(are)g(satis\014ed,)g(but)h(la)o(w)f(\()p
Fk(ii)5 b Fp(\))16 b(b)q(ecomes)f(an)h(inequalit)o(y)l(,)563
1367 y Fk(map)656 1347 y Fo(Str)716 1367 y Fk(g)g Fh(\001)11
b Fk(map)872 1347 y Fo(Str)933 1367 y Fk(f)24 b Fh(v)13
b Fk(map)1117 1347 y Fo(Str)1178 1367 y Fp(\()p Fk(g)j
Fh(\001)11 b Fk(f)f Fp(\))p Fj(:)-5 1466 y Fp(So)19 b
Fk(Str)k Fp(is)17 b(not)i(quite)d(a)j(monad;)e(categorists)i(migh)o(t)d
(call)h(it)g(a)h Fk(lax)i(monad)p Fp(.)26 b(Comprehensions)17
b(for)-5 1526 y(lax)g(monads)f(are)h(de\014ned)f(b)o(y)g(la)o(ws)h(\()p
Fk(1)7 b Fp(\){\()p Fk(3)g Fp(\),)16 b(just)h(as)g(for)g(monads.)22
b(La)o(w)c(\()p Fk(5)7 b Fp(\))16 b(remains)f(v)m(alid,)h(but)-5
1586 y(la)o(ws)h(\()p Fk(4)7 b Fp(\))15 b(and)i(\()p
Fk(6)7 b Fp(\))16 b(b)q(ecome)f(inequalities.)68 1646
y(W)l(e)g(will)g(use)g Fk(Str)5 b Fp(-comprehensions)15
b(to)h(con)o(trol)f(the)g(ev)m(aluation)g(order)h(of)f(lazy)g
(programs.)21 b(F)l(or)-5 1706 y(instance,)16 b(the)g(op)q(erational)h
(in)o(terpretation)e(of)711 1805 y([)8 b Fk(t)19 b Fh(j)13
b Fk(x)21 b Fh( )13 b Fk(u)t Fj(;)j Fk(y)i Fh( )c Fk(v)g
Fp(])1117 1784 y Fo(Str)-5 1903 y Fp(is)k(as)h(follo)o(ws:)24
b(reduce)17 b Fk(u)22 b Fp(to)c(WHNF,)f(bind)h Fk(x)24
b Fp(to)18 b(the)g(v)m(alue)g(of)g Fk(u)t Fp(,)g(reduce)f
Fk(v)23 b Fp(to)c(WHNF,)d(bind)i Fk(y)-5 1963 y Fp(to)e(v)m(alue)g(of)g
Fk(v)5 b Fp(,)16 b(then)f(reduce)g Fk(t)5 b Fp(.)21 b(Alternativ)o(ely)
l(,)12 b(it)k(is)f(safe)h(to)g(reduce)f Fk(t)5 b Fp(,)15
b Fk(u)t Fp(,)g(and)i Fk(v)k Fp(in)15 b(parallel,)g(but)-5
2023 y(not)i(to)g(allo)o(w)f(access)g(to)g(the)g(result)g(un)o(til)f(b)
q(oth)i Fk(u)k Fp(and)16 b Fk(v)22 b Fp(are)17 b(in)f(WHNF.)-5
2188 y Fq(4)81 b(Manipulating)26 b(state)-5 2297 y Fp(Pro)q(cedural)14
b(programming)e(languages)j(op)q(erate)f(b)o(y)g(assigning)g(to)g(a)g
(state;)g(this)g(is)f(also)i(p)q(ossible)e(in)-5 2358
y(impure)i(functional)i(languages)h(suc)o(h)e(as)h(Standard)h(ML.)f(In)
f(pure)h(functional)f(languages,)i(assign-)-5 2418 y(men)o(t)f(ma)o(y)h
(b)q(e)h(sim)o(ulated)d(b)o(y)j(passing)h(around)g(a)f(v)m(alue)g
(represen)o(ting)f(the)g(curren)o(t)g(state.)30 b(This)-5
2478 y(section)14 b(sho)o(ws)h(ho)o(w)f(the)g(monad)g(of)g(state)g
(transformers)g(and)h(the)e(corresp)q(onding)i(comprehension)-5
2538 y(can)i(b)q(e)f(used)g(to)h(structure)f(programs)g(written)g(in)g
(this)g(st)o(yle.)928 2663 y(9)p eop
%%Page: 10 10
10 9 bop -5 -10 a Fi(4.1)66 b(State)23 b(transformers)-5
82 y Fp(Fix)16 b(a)g(t)o(yp)q(e)g Fk(S)23 b Fp(of)16
b(states.)22 b(The)16 b(monad)g(of)h(state)f(transformers)g
Fk(ST)23 b Fp(is)16 b(de\014ned)g(b)o(y)284 188 y(t)o(yp)q(e)g
Fk(ST)f(x)48 b Fp(=)42 b Fk(S)20 b Fh(!)14 b Fp(\()p
Fk(x)6 b Fj(;)i Fk(S)e Fp(\))284 248 y Fk(map)377 230
y Fo(ST)437 248 y Fk(f)p 471 222 29 2 v 19 w(x)48 b Fp(=)42
b Fj(\025)p Fk(s)18 b Fh(!)c Fp([)8 b(\()p Fk(f)18 b(x)6
b Fj(;)i Fk(s)899 230 y Fg(0)911 248 y Fp(\))14 b Fh(j)g
Fp(\()p Fk(x)6 b Fj(;)i Fk(s)1065 230 y Fg(0)1077 248
y Fp(\))14 b Fh( )p 1173 222 V 13 w Fk(x)h(s)d Fp(])1256
230 y Fo(Id)284 308 y Fk(unit)373 290 y Fo(ST)434 308
y Fk(x)85 b Fp(=)42 b Fj(\025)p Fk(s)18 b Fh(!)c Fp(\()p
Fk(x)6 b Fj(;)i Fk(s)t Fp(\))284 368 y Fk(join)370 350
y Fo(ST)p 431 334 V 431 342 V 431 368 a Fk(x)88 b Fp(=)42
b Fj(\025)p Fk(s)18 b Fh(!)c Fp([)8 b(\()p Fk(x)e Fj(;)i
Fk(s)866 350 y Fg(00)887 368 y Fp(\))14 b Fh(j)g Fp(\()p
967 342 V Fk(x)6 b Fj(;)i Fk(s)1041 350 y Fg(0)1053 368
y Fp(\))13 b Fh( )p 1149 334 V 1149 342 V 14 w Fk(x)i(s)t
Fj(;)h Fp(\()p Fk(x)6 b Fj(;)i Fk(s)1333 350 y Fg(00)1354
368 y Fp(\))14 b Fh( )p 1451 342 V 14 w Fk(x)h(s)1512
350 y Fg(0)1531 368 y Fp(])1545 350 y Fo(Id)1582 368
y Fj(:)-5 478 y Fp(\(Recall)d(the)h(equiv)m(alence)e(of)i
Fk(Id)5 b Fp(-comprehensions)12 b(and)i(\\let")f(terms)e(as)j
(explained)e(in)h(Section)f(3.1.\))-5 538 y(A)i(state)h(transformer)f
(of)g(t)o(yp)q(e)g Fk(x)21 b Fp(tak)o(es)14 b(a)h(state)g(and)g
(returns)f(a)h(v)m(alue)f(of)h(t)o(yp)q(e)f Fk(x)21 b
Fp(and)15 b(a)g(new)f(state.)-5 598 y(The)21 b(unit)g(tak)o(es)g(the)g
(v)m(alue)g Fk(x)27 b Fp(in)o(to)21 b(the)g(state)g(transformer)f
Fj(\025)p Fk(s)27 b Fh(!)22 b Fp(\()p Fk(x)6 b Fj(;)i
Fk(s)t Fp(\))21 b(that)h(returns)f Fk(x)27 b Fp(and)-5
658 y(lea)o(v)o(es)15 b(the)h(state)h(unc)o(hanged.)k(W)l(e)16
b(ha)o(v)o(e)g(that)84 768 y([)8 b(\()p Fk(x)e Fj(;)i
Fk(y)t Fp(\))14 b Fh(j)g Fk(x)20 b Fh( )p 369 742 V 13
w Fk(x)7 b Fj(;)16 b Fk(y)i Fh( )p 534 742 V 14 w Fk(y)12
b Fp(])584 748 y Fo(ST)666 768 y Fp(=)30 b Fj(\025)p
Fk(s)19 b Fh(!)13 b Fp([)8 b(\(\()p Fk(x)e Fj(;)i Fk(y)t
Fp(\))p Fj(;)g Fk(s)1067 748 y Fg(00)1088 768 y Fp(\))14
b Fh(j)g Fp(\()p Fk(x)6 b Fj(;)i Fk(s)1242 748 y Fg(0)1254
768 y Fp(\))14 b Fh( )p 1350 742 V 13 w Fk(x)h(s)t Fj(;)h
Fp(\()p Fk(y)t Fj(;)8 b Fk(s)1534 748 y Fg(00)1555 768
y Fp(\))14 b Fh( )p 1652 742 V 14 w Fk(y)e(s)1712 748
y Fg(0)1732 768 y Fp(])1746 748 y Fo(Id)1783 768 y Fj(:)-5
878 y Fp(This)j(applies)e(the)h(state)h(transformer)p
727 852 V 13 w Fk(x)21 b Fp(to)15 b(the)f(state)g Fk(s)t
Fp(,)g(yielding)f(the)h(v)m(alue)g Fk(x)21 b Fp(and)15
b(the)f(new)g(state)-5 938 y Fk(s)19 920 y Fg(0)31 938
y Fp(;)23 b(it)d(then)h(applies)f(a)h(second)g(transformer)p
880 912 V 20 w Fk(y)k Fp(to)c(the)g(state)g Fk(s)1230
920 y Fg(0)1262 938 y Fp(yielding)f(the)g(v)m(alue)h
Fk(y)k Fp(and)c(the)-5 999 y(new)o(er)15 b(state)i Fk(s)278
981 y Fg(00)299 999 y Fp(;)e(\014nally)l(,)g(it)h(returns)g(a)g(v)m
(alue)g(consisting)g(of)g Fk(x)22 b Fp(paired)16 b(with)g
Fk(y)k Fp(and)c(the)g(\014nal)g(state)-5 1059 y Fk(s)19
1041 y Fg(00)41 1059 y Fp(.)68 1119 y(Tw)o(o)h(useful)f(op)q(erations)h
(in)f(this)g(monad)g(are)653 1225 y Fk(fetch)124 b Fp(::)46
b Fk(ST)15 b(S)653 1285 y(fetch)118 b Fp(=)42 b Fj(\025)p
Fk(s)18 b Fh(!)c Fp(\()p Fk(s)t Fj(;)8 b Fk(s)t Fp(\))653
1388 y Fk(assign)95 b Fp(::)46 b Fk(S)20 b Fh(!)14 b
Fk(ST)h Fp(\(\))653 1448 y Fk(assign)d(s)818 1430 y Fg(0)871
1448 y Fp(=)42 b Fj(\025)p Fk(s)18 b Fh(!)c Fp(\(\(\))p
Fj(;)8 b Fk(s)1184 1430 y Fg(0)1195 1448 y Fp(\))p Fj(:)-5
1555 y Fp(The)17 b(\014rst)g(of)f(these)g(fetc)o(hes)g(the)g(curren)o
(t)g(v)m(alue)g(of)h(the)f(state,)g(lea)o(ving)g(the)g(state)h(unc)o
(hanged;)f(the)-5 1615 y(second)j(discards)h(the)e(old)h(state,)h
(assigning)g(the)e(new)h(state)g(to)h(b)q(e)f(the)f(giv)o(en)g(v)m
(alue.)30 b(Here)17 b(\(\))i(is)-5 1675 y(the)d(t)o(yp)q(e)g(that)h
(con)o(tains)f(only)g(the)g(v)m(alue)g(\(\).)68 1736
y(A)g(third)g(useful)g(op)q(eration)h(is)593 1841 y Fk(init)121
b Fp(::)46 b Fk(S)20 b Fh(!)14 b Fk(ST)h(x)20 b Fh(!)14
b Fk(x)593 1901 y(init)f(s)p 712 1875 V 13 w(x)48 b Fp(=)41
b([)8 b Fk(x)20 b Fh(j)14 b Fp(\()p Fk(x)6 b Fj(;)i Fk(s)1046
1883 y Fg(0)1058 1901 y Fp(\))13 b Fh( )p 1154 1875 V
14 w Fk(x)i(s)d Fp(])1237 1883 y Fo(Id)1274 1901 y Fj(:)-5
2008 y Fp(This)g(applies)f(the)g(state)h(transformer)p
714 1982 V 11 w Fk(x)18 b Fp(to)11 b(a)h(giv)o(en)f(initial)f(state)i
Fk(s)t Fp(;)g(it)f(returns)h(the)f(v)m(alue)g(computed)-5
2068 y(b)o(y)16 b(the)g(state)h(transformer)e(while)g(discarding)i(the)
f(\014nal)g(state.)-5 2213 y Fi(4.2)66 b(Example:)31
b(Renaming)-5 2305 y Fp(Sa)o(y)15 b(w)o(e)g(wish)g(to)h(rename)e(all)g
(b)q(ound)j(v)m(ariables)e(in)g(a)g(lam)o(b)q(da)g(term.)k(A)c
(suitable)g(data)h(t)o(yp)q(e)e Fk(T)l(erm)-5 2365 y
Fp(for)k(represen)o(ting)e(lam)o(b)q(da)h(terms)f(is)h(de\014ned)g(in)g
(Figure)f(1)i(\(in)f(Standard)i(ML\))e(and)h(Figure)f(2)g(\(in)-5
2425 y(Hask)o(ell\).)j(New)c(names)f(are)h(to)h(b)q(e)f(generated)g(b)o
(y)g(coun)o(ting;)g(w)o(e)g(assume)f(there)h(is)g(a)g(function)687
2535 y Fk(mkname)i Fp(::)13 b Fk(Int)19 b Fh(!)14 b Fk(Name)916
2663 y Fp(10)p eop
%%Page: 11 11
11 10 bop -5 -10 a Fp(that)17 b(giv)o(en)e(an)i(in)o(teger)e(computes)g
(a)i(name.)j(W)l(e)c(also)h(assume)e(a)i(function)497
93 y Fk(subst)i Fp(::)13 b Fk(Name)18 b Fh(!)c Fk(Name)k
Fh(!)13 b Fk(T)l(erm)18 b Fh(!)c Fk(T)l(erm)-5 197 y
Fp(suc)o(h)i(that)h Fk(subst)d(x)357 179 y Fg(0)377 197
y Fk(x)h(t)21 b Fp(substitutes)16 b Fk(x)726 179 y Fg(0)755
197 y Fp(for)g(eac)o(h)g(free)f(o)q(ccurrence)h(of)g
Fk(x)23 b Fp(in)16 b Fk(t)5 b Fp(.)68 257 y(A)17 b(solution)h(to)f
(this)g(problem)f(in)h(the)g(impure)e(functional)i(language)i(Standard)
f(ML)f(is)g(sho)o(wn)-5 317 y(in)i(Figure)f(1.)30 b(The)19
b(impure)e(feature)i(w)o(e)f(are)h(concerned)g(with)g(here)f(is)h
(state:)27 b(the)19 b(solution)g(uses)-5 377 y(a)e(reference)e
Fk(N)24 b Fp(to)17 b(an)f(assignable)h(lo)q(cation)g(con)o(taining)f
(an)h(in)o(teger.)j(The)d(\\functions")g(and)g(their)-5
437 y(t)o(yp)q(es)f(are:)622 493 y Fk(newname)47 b Fp(::)40
b(\(\))14 b Fh(!)g Fk(Name)t Fj(;)622 554 y Fk(r)n(enamer)66
b Fp(::)40 b Fk(T)l(erm)18 b Fh(!)13 b Fk(T)l(erm)t Fj(;)622
614 y Fk(r)n(ename)87 b Fp(::)40 b Fk(T)l(erm)18 b Fh(!)13
b Fk(T)l(erm)t Fj(:)-5 695 y Fp(Note)21 b(that)h Fk(newname)k
Fp(and)c Fk(r)n(enamer)k Fp(are)21 b(not)h(true)f(functions)g(as)h
(they)e(dep)q(end)i(on)f(the)g(state.)-5 755 y(In)f(particular,)f
Fk(newname)26 b Fp(returns)19 b(a)i(di\013eren)o(t)d(name)h(eac)o(h)g
(time)f(it)h(is)g(called,)g(and)i(so)f(requires)-5 815
y(the)j(dumm)o(y)d(parameter)j(\(\))g(to)g(giv)o(e)g(it)f(the)h(form)g
(of)g(a)h(\\function".)43 b(Ho)o(w)o(ev)o(er,)23 b Fk(r)n(ename)k
Fp(is)c(a)-5 875 y(true)c(function,)g(since)f(it)h(alw)o(a)o(ys)g
(generates)g(new)g(names)f(starting)i(from)e(0.)30 b(Understanding)19
b(the)-5 936 y(program)i(requires)f(a)h(kno)o(wledge)f(of)i(whic)o(h)e
(\\functions")h(a\013ect)g(the)g(state)g(and)h(whic)o(h)e(do)h(not.)-5
996 y(This)c(is)g(not)h(alw)o(a)o(ys)e(easy)h(to)h(see)e({)i
Fk(r)n(enamer)k Fp(is)16 b(not)i(a)f(true)g(function,)f(ev)o(en)g
(though)i(it)f(do)q(es)h(not)-5 1056 y(con)o(tain)e(an)o(y)g(direct)g
(reference)e(to)j(the)f(state)g Fk(N)8 b Fp(,)16 b(b)q(ecause)g(it)g
(do)q(es)h(con)o(tain)f(an)h(indirect)e(reference)-5
1116 y(through)j Fk(newname)t Fp(;)f(but)f Fk(r)n(ename)k
Fp(is)c(a)h(true)f(function,)g(ev)o(en)f(though)i(it)f(references)f
Fk(r)n(enamer)5 b Fp(.)68 1176 y(An)24 b(equiv)m(alen)o(t)f(solution)h
(in)g(a)g(pure)g(functional)g(language)h(is)f(sho)o(wn)h(in)e(Figure)h
(2.)45 b(This)-5 1237 y(explicitly)17 b(passes)k(around)g(an)f(in)o
(teger)f(that)h(is)g(used)g(to)g(generate)f(new)h(names.)31
b(The)20 b(functions)-5 1297 y(and)d(their)f(t)o(yp)q(es)g(are:)486
1396 y Fk(newname)47 b Fp(::)41 b Fk(Int)18 b Fh(!)c
Fp(\()p Fk(Name)t Fj(;)8 b Fk(Int)d Fp(\))p Fj(;)486
1456 y Fk(r)n(enamer)66 b Fp(::)41 b Fk(T)l(erm)17 b
Fh(!)d Fk(Int)19 b Fh(!)13 b Fp(\()p Fk(T)l(erm)t Fj(;)8
b Fk(Int)d Fp(\))p Fj(;)486 1516 y Fk(r)n(ename)87 b
Fp(::)41 b Fk(T)l(erm)17 b Fh(!)d Fk(T)l(erm)t Fj(:)-5
1617 y Fp(The)e(function)g Fk(newname)18 b Fp(generates)12
b(a)h(new)f(name)f(from)g(the)h(in)o(teger)f(and)h(returns)h(an)f
(incremen)o(ted)-5 1677 y(in)o(teger;)19 b(the)f(function)h
Fk(r)n(enamer)k Fp(tak)o(es)c(a)g(term)d(and)k(an)f(in)o(teger)f(and)h
(returns)f(a)i(renamed)d(term)-5 1737 y(\(with)j(names)g(generated)g
(from)f(the)h(giv)o(en)f(in)o(teger\))h(paired)g(with)g(the)g(\014nal)g
(in)o(teger)g(generated.)-5 1797 y(The)f(function)g Fk(r)n(ename)k
Fp(tak)o(es)c(a)h(term)d(and)j(returns)f(a)h(renamed)d(term)h(\(with)h
(names)f(generated)-5 1857 y(from)c(0\).)22 b(This)15
b(program)g(is)g(straigh)o(tforw)o(ard,)h(but)g(can)f(b)q(e)h
(di\016cult)e(to)h(read)h(b)q(ecause)f(it)g(con)o(tains)-5
1917 y(a)21 b(great)f(deal)g(of)h(\\plum)o(bing")e(to)h(pass)h(around)h
(the)d(state.)34 b(It)19 b(is)h(relativ)o(ely)e(easy)i(to)h(in)o(tro)q
(duce)-5 1978 y(errors)16 b(in)o(to)g(suc)o(h)g(programs,)g(b)o(y)f
(writing)h Fk(n)k Fp(where)c Fk(n)1024 1960 y Fg(0)1051
1978 y Fp(is)g(in)o(tended)f(or)h(the)g(lik)o(e.)j(This)d(\\plum)o
(bing)-5 2038 y(problem")f(can)i(b)q(e)f(more)f(sev)o(ere)g(in)h(a)h
(program)f(of)g(greater)g(complexit)o(y)l(.)68 2098 y(Finally)l(,)g(a)h
(solution)g(of)g(this)g(problem)e(using)i(the)g(monad)f(of)h(state)g
(transformers)f(is)h(sho)o(wn)g(in)-5 2158 y(Figure)f(3.)22
b(The)16 b(state)g(is)g(tak)o(en)g(as)h Fk(S)j Fp(=)14
b Fk(Int)5 b Fp(.)21 b(The)c(functions)f(and)h(their)e(t)o(yp)q(es)h
(are)h(no)o(w:)578 2258 y Fk(newname)47 b Fp(::)41 b
Fk(ST)15 b(Name)t Fj(;)578 2318 y Fk(r)n(enamer)66 b
Fp(::)41 b Fk(T)l(erm)17 b Fh(!)d Fk(ST)h(Name)t Fj(;)578
2378 y Fk(r)n(ename)87 b Fp(::)41 b Fk(T)l(erm)17 b Fh(!)d
Fk(T)l(erm)t Fj(:)-5 2478 y Fp(The)d(monadic)f(program)h(is)f(simply)f
(a)i(di\013eren)o(t)f(w)o(a)o(y)h(of)g(writing)g(the)f(pure)h(program:)
18 b(expanding)11 b(the)-5 2538 y(monad)16 b(comprehensions)f(in)g
(Figure)h(3)g(and)h(simplifyi)o(ng)d(w)o(ould)i(yield)e(the)i(program)g
(in)g(Figure)f(2.)916 2663 y(11)p eop
%%Page: 12 12
12 11 bop -5 -10 a Fp(T)o(yp)q(es)21 b(in)g(the)f(monadic)g(program)h
(can)g(b)q(e)g(seen)f(to)h(corresp)q(ond)h(directly)d(to)j(the)e(t)o
(yp)q(es)h(in)f(the)-5 50 y(impure)13 b(program:)20 b(an)15
b(impure)d(\\function")j(of)g(t)o(yp)q(e)e Fk(U)22 b
Fh(!)14 b Fk(V)24 b Fp(that)14 b(a\013ects)h(the)f(state)h(corresp)q
(onds)-5 110 y(to)20 b(a)f(pure)g(function)f(of)h(t)o(yp)q(e)g
Fk(U)26 b Fh(!)18 b Fk(ST)d(V)10 b Fp(.)29 b(Th)o(us,)19
b Fk(r)n(enamer)24 b Fp(has)c(t)o(yp)q(e)e Fk(T)l(erm)k
Fh(!)c Fk(T)l(erm)23 b Fp(in)18 b(the)-5 170 y(impure)h(program,)j(and)
f(t)o(yp)q(e)f Fk(T)l(erm)26 b Fh(!)21 b Fk(ST)15 b(T)l(erm)25
b Fp(in)20 b(the)h(monadic)f(program;)i(and)g Fk(newname)-5
230 y Fp(has)17 b(t)o(yp)q(e)f(\(\))e Fh(!)g Fk(Name)20
b Fp(in)d(the)f(impure)e(program,)i(and)h(t)o(yp)q(e)f
Fk(ST)f(Name)t Fp(,)h(whic)o(h)g(is)g(isomorphic)f(to)-5
291 y(\(\))g Fh(!)g Fk(ST)h(Name)t Fp(,)h(in)f(the)h(pure)g(program.)23
b(Unlik)o(e)15 b(the)i(impure)e(program,)i(t)o(yp)q(es)g(in)f(the)h
(monadic)-5 351 y(program)f(mak)o(e)f(manifest)f(where)i(the)g(state)h
(is)f(a\013ected)g(\(and)h(so)g(do)g(the)f Fk(ST)7 b
Fp(-comprehensions\).)68 411 y(The)14 b(\\plum)o(bing")e(is)h(no)o(w)g
(handled)h(implici)o(tly)c(b)o(y)j(the)f(state)i(transformer)e(rather)i
(than)f(explic-)-5 471 y(itly)l(.)26 b(V)l(arious)18
b(kinds)g(of)g(errors)g(that)h(are)f(p)q(ossible)g(in)g(the)g(pure)g
(program)g(\(suc)o(h)f(as)i(acciden)o(tally)-5 531 y(writing)f
Fk(n)k Fp(in)17 b(place)g(of)h Fk(n)486 513 y Fg(0)498
531 y Fp(\))g(are)f(imp)q(ossible)g(in)g(the)g(monadic)g(program.)26
b(F)l(urther,)17 b(the)g(t)o(yp)q(e)h(sys-)-5 592 y(tem)h(ensures)h
(that)h(plum)o(bing)d(is)i(handled)g(in)g(an)h(appropriate)g(w)o(a)o(y)
l(.)32 b(F)l(or)21 b(example,)d(one)j(migh)o(t)-5 652
y(b)q(e)c(tempted)d(to)j(write,)e(sa)o(y)l(,)h Fk(App)11
b Fp(\()p Fk(r)n(enamer)i(t)5 b Fp(\))j(\()p Fk(r)n(enamer)14
b(u)t Fp(\))i(for)h(the)f(righ)o(t-hand)g(side)g(of)h(the)f(last)-5
712 y(equation)g(de\014ning)h Fk(r)n(enamer)5 b Fp(,)15
b(but)i(this)f(w)o(ould)g(b)q(e)h(detected)e(as)i(a)f(t)o(yp)q(e)g
(error.)68 772 y(Safet)o(y)22 b(can)f(b)q(e)h(further)g(ensured)f(b)o
(y)h(making)e Fk(ST)29 b Fp(in)o(to)21 b(an)h(abstract)h(data)f(t)o(yp)
q(e)g(on)g(whic)o(h)-5 832 y Fk(map)88 814 y Fo(ST)140
832 y Fp(,)c Fk(unit)261 814 y Fo(ST)313 832 y Fp(,)g
Fk(join)431 814 y Fo(ST)483 832 y Fp(,)f Fk(fetch)t Fp(,)i
Fk(assign)t Fp(,)e(and)i Fk(init)k Fp(are)18 b(the)f(only)h(op)q
(erations.)27 b(This)18 b(guaran)o(tees)-5 892 y(that)e(one)f(cannot)h
(mix)d(the)i(state)g(transformer)g(abstraction)g(with)g(other)h
(functions)f(whic)o(h)f(handle)-5 953 y(the)i(state)h(inappropriately)l
(.)j(This)d(idea)f(will)f(b)q(e)h(pursued)h(in)f(the)g(next)f(section.)
68 1013 y(Impure)k(functional)h(languages)h(\(suc)o(h)f(as)h(Standard)g
(ML\))g(are)f(restricted)f(to)h(using)h(a)g(strict)-5
1073 y(\(or)i(call-b)o(y-v)m(alue\))f(order)h(of)g(ev)m(aluation,)h(b)q
(ecause)g(otherwise)e(the)h(e\013ect)f(of)h(the)g(assignmen)o(ts)-5
1133 y(b)q(ecomes)13 b(v)o(ery)g(di\016cult)g(to)i(predict.)20
b(Programs)14 b(using)h(the)f(monad)g(of)g(state)h(transformers)e(can)i
(b)q(e)-5 1193 y(written)k(in)f(languages)i(using)f(either)f(a)i
(strict)e(\(call-b)o(y-v)m(alue\))g(or)h(lazy)f(\(call-b)o(y-name\))f
(order)i(of)-5 1254 y(ev)m(aluation.)j(The)16 b(state-transformer)g
(comprehensions)e(mak)o(e)h(clear)g(exactly)g(the)h(order)g(in)g(whic)o
(h)-5 1314 y(the)g(assignmen)o(ts)g(tak)o(e)f(e\013ect,)h(regardless)g
(of)h(the)f(order)g(of)h(ev)m(aluation)f(used.)68 1374
y(Reasoning)21 b(ab)q(out)g(programs)f(in)f(impure)f(functional)i
(languages)h(is)e(problematic)f(\(although)-5 1434 y(not)24
b(imp)q(ossible)e({)i(see)f([MT89])g(for)h(one)f(approac)o(h\).)44
b(In)23 b(con)o(trast,)i(programs)f(written)f(using)-5
1494 y(monads,)g(lik)o(e)c(all)i(pure)h(programs,)g(can)g(b)q(e)g
(reasoned)g(ab)q(out)g(in)g(the)f(usual)h(w)o(a)o(y)l(,)g(substituting)
-5 1555 y(equals)11 b(for)h(equals.)19 b(They)11 b(also)g(satisfy)h
(additional)f(la)o(ws,)h(suc)o(h)f(as)g(the)g(follo)o(wing)g(la)o(ws)h
(on)f(quali\014ers:)432 1660 y Fk(x)20 b Fh( )14 b Fk(fetch)t
Fj(;)i Fk(y)i Fh( )c Fk(fetch)35 b Fp(=)30 b Fk(x)21
b Fh( )13 b Fk(fetch)t Fj(;)k Fk(y)h Fh( )c Fp([)p Fk(x)6
b Fp(])1384 1642 y Fo(ST)1435 1660 y Fj(;)355 1721 y
Fp(\(\))13 b Fh( )h Fk(assign)f(u)t Fj(;)j Fk(y)i Fh( )13
b Fk(fetch)35 b Fp(=)c(\(\))13 b Fh( )h Fk(assign)f(u)t
Fj(;)j Fk(y)i Fh( )13 b Fp([)p Fk(u)t Fp(])1461 1702
y Fo(ST)1512 1721 y Fj(;)441 1781 y Fp(\(\))h Fh( )f
Fk(assign)g(u)t Fj(;)j Fp(\(\))e Fh( )f Fk(assign)g(v)36
b Fp(=)30 b(\(\))14 b Fh( )g Fk(assign)e(v)5 b Fj(;)-5
1887 y Fp(and)17 b(on)g(terms:)753 1934 y Fk(init)c(u)g
Fp([)8 b Fk(t)13 b Fp(])943 1916 y Fo(ST)1025 1934 y
Fp(=)30 b Fk(t)5 b Fj(;)418 1994 y Fk(init)14 b(u)e Fp([)c
Fk(t)18 b Fh(j)c Fp(\(\))g Fh( )f Fk(assign)g(v)5 b Fj(;)17
b Fk(q)c Fp(])991 1976 y Fo(ST)1073 1994 y Fp(=)30 b
Fk(init)14 b(v)g Fp([)8 b Fk(t)19 b Fh(j)13 b Fk(q)g
Fp(])1397 1976 y Fo(ST)1449 1994 y Fj(;)417 2054 y Fk(init)g(u)g
Fp([)8 b Fk(t)18 b Fh(j)c Fk(q)t Fj(;)j Fp(\(\))d Fh( )f
Fk(assign)g(v)h Fp(])990 2036 y Fo(ST)1072 2054 y Fp(=)30
b Fk(init)14 b(u)e Fp([)c Fk(t)19 b Fh(j)13 b Fk(q)g
Fp(])1398 2036 y Fo(ST)1450 2054 y Fj(:)-5 2141 y Fp(These,)19
b(together)g(with)g(the)g(comprehension)e(la)o(ws)i(\()p
Fk(5)7 b Fp(\),)19 b(\()p Fk(6)7 b Fp(\),)18 b(and)i(\()p
Fk(I)1341 2123 y Fg(0)1352 2141 y Fp(\))13 b Fh(\000)f(\000)p
Fp(\()p Fk(III)1558 2123 y Fg(0)1569 2141 y Fp(\),)19
b(allo)o(w)g(one)g(to)-5 2201 y(use)e(equational)f(reasoning)h(to)f
(pro)o(v)o(e)g(prop)q(erties)g(of)h(programs)f(that)h(manipulate)d
(state.)916 2663 y(12)p eop
%%Page: 13 13
13 12 bop -5 -10 a Fi(4.3)66 b(Arra)n(y)24 b(up)r(date)-5
82 y Fp(Let)17 b Fk(A)o(rr)22 b Fp(b)q(e)17 b(the)g(t)o(yp)q(e)g(of)g
(arra)o(ys)g(taking)h(indexes)e(of)h(t)o(yp)q(e)g Fk(Ix)23
b Fp(and)18 b(yielding)d(v)m(alues)j(of)f(t)o(yp)q(e)f
Fk(V)l(al)5 b Fp(.)-5 142 y(The)17 b(k)o(ey)e(op)q(erations)i(on)g
(this)f(t)o(yp)q(e)g(are)520 234 y Fk(newarr)n(ay)45
b Fp(::)c Fk(V)l(al)20 b Fh(!)14 b Fk(A)o(rr)5 b Fj(;)520
294 y Fk(index)129 b Fp(::)41 b Fk(Ix)20 b Fh(!)14 b
Fk(A)o(rr)k Fh(!)c Fk(V)l(al)5 b Fj(;)520 354 y Fk(up)n(date)103
b Fp(::)41 b Fk(Ix)20 b Fh(!)14 b Fk(V)l(al)20 b Fh(!)13
b Fk(A)o(rr)18 b Fh(!)c Fk(A)o(rr)5 b Fj(:)-5 447 y Fp(Here)14
b Fk(newarr)n(ay)e(v)20 b Fp(returns)15 b(an)g(arra)o(y)f(with)h(all)f
(en)o(tries)f(set)i(to)g Fk(v)5 b Fp(;)15 b(and)h Fk(index)f(i)e(a)18
b Fp(returns)d(the)f(v)m(alue)-5 507 y(at)h(index)g Fk(i)k
Fp(in)c(arra)o(y)g Fk(a)t Fp(;)f(and)i Fk(up)n(date)c(i)h(v)h(a)19
b Fp(returns)14 b(an)i(arra)o(y)f(where)f(index)g Fk(i)20
b Fp(has)c(v)m(alue)e Fk(v)21 b Fp(and)15 b(the)-5 567
y(remainder)g(is)h(iden)o(tical)e(to)j Fk(a)t Fp(.)k(In)16
b(equations,)450 659 y Fk(index)f(i)e Fp(\()p Fk(newarr)n(ay)f(v)5
b Fp(\))61 b(=)42 b Fk(v)5 b Fj(;)450 719 y Fk(index)15
b(i)e Fp(\()p Fk(up)n(date)f(i)i(v)g(a)t Fp(\))52 b(=)42
b Fk(v)5 b Fj(;)450 780 y Fk(index)15 b(i)e Fp(\()p Fk(up)n(date)f(i)
792 761 y Fg(0)812 780 y Fk(v)i(a)t Fp(\))41 b(=)h Fk(index)15
b(i)e(a)t Fj(;)41 b Fp(if)16 b Fk(i)j Fh(6)p Fp(=)13
b Fk(i)1405 761 y Fg(0)1417 780 y Fp(.)-5 872 y(The)i(e\016cien)o(t)d
(w)o(a)o(y)j(to)f(impleme)o(n)o(t)e(the)i(up)q(date)h(op)q(eration)h
(is)e(to)h(o)o(v)o(erwrite)e(the)h(sp)q(eci\014ed)g(en)o(try)g(of)-5
932 y(the)h(arra)o(y)l(,)f(but)h(in)g(a)g(pure)f(functional)h(language)
g(this)g(is)g(only)f(safe)h(if)f(there)g(are)h(no)g(other)g(p)q(oin)o
(ters)-5 993 y(to)i(the)f(arra)o(y)g(extan)o(t)g(when)g(the)g(up)q
(date)h(op)q(eration)g(is)f(p)q(erformed.)68 1053 y(No)o(w)g(consider)f
(the)g(monad)g(of)h(state)g(transformers)e(taking)i(the)f(state)h(t)o
(yp)q(e)f Fk(S)20 b Fp(=)14 b Fk(A)o(rr)5 b Fp(,)15 b(so)h(that)612
1149 y(t)o(yp)q(e)g Fk(ST)f(x)37 b Fp(=)30 b Fk(A)o(rr)18
b Fh(!)c Fp(\()p Fk(x)6 b Fj(;)i Fk(A)o(rr)d Fp(\))p
Fj(:)-5 1245 y Fp(V)l(arian)o(ts)11 b(of)h(the)e Fk(fetch)16
b Fp(and)c Fk(assign)j Fp(op)q(erations)e(can)e(b)q(e)g(de\014ned)g(to)
h(act)f(on)g(an)h(arra)o(y)f(en)o(try)g(sp)q(eci\014ed)-5
1305 y(b)o(y)17 b(a)h(giv)o(en)e(index,)h(and)h(a)f(v)m(arian)o(t)h(of)
f Fk(init)23 b Fp(can)17 b(b)q(e)h(de\014ned)f(to)h(initialise)d(all)i
(en)o(tries)f(in)h(an)h(arra)o(y)-5 1365 y(to)f(a)g(giv)o(en)e(v)m
(alue:)442 1457 y Fk(fetch)145 b Fp(::)46 b Fk(Ix)20
b Fh(!)14 b Fk(ST)h(V)l(al)442 1517 y(fetch)e(i)111 b
Fp(=)42 b Fj(\025)p Fk(a)18 b Fh(!)13 b Fp([)8 b(\()p
Fk(v)d Fj(;)j Fk(a)t Fp(\))14 b Fh(j)g Fk(v)20 b Fh( )13
b Fk(index)j(i)d(a)f Fp(])1386 1499 y Fo(Str)442 1620
y Fk(assign)116 b Fp(::)46 b Fk(Ix)20 b Fh(!)14 b Fk(V)l(al)19
b Fh(!)14 b Fk(ST)h Fp(\(\))442 1680 y Fk(assign)e(i)g(v)47
b Fp(=)42 b Fj(\025)p Fk(a)18 b Fh(!)13 b Fp(\(\(\))p
Fj(;)8 b Fk(up)n(date)k(i)h(v)i(a)t Fp(\))442 1784 y
Fk(init)172 b Fp(::)46 b Fk(V)l(al)20 b Fh(!)13 b Fk(ST)j(x)k
Fh(!)14 b Fk(x)442 1844 y(init)g(v)p 565 1817 29 2 v
14 w(x)94 b Fp(=)42 b([)8 b Fk(x)20 b Fh(j)14 b Fp(\()p
Fk(x)6 b Fj(;)i Fk(a)t Fp(\))13 b Fh( )p 1047 1817 V
14 w Fk(x)i Fp(\()p Fk(newarr)n(ay)d(v)5 b Fp(\))j(])1378
1826 y Fo(Id)1415 1844 y Fj(:)-5 1936 y Fp(A)17 b Fk(Str)5
b Fp(-comprehension)17 b(is)f(used)i(in)f Fk(fetch)k
Fp(to)d(force)f(the)f(en)o(try)h(from)f Fk(a)21 b Fp(to)c(b)q(e)g(fetc)
o(hed)f(b)q(efore)h Fk(a)k Fp(is)-5 1997 y(made)14 b(a)o(v)m(ailable)g
(for)h(further)g(access;)f(this)h(is)g(essen)o(tial)e(in)i(order)g(for)
g(it)f(to)h(b)q(e)g(safe)g(to)h(up)q(date)f Fk(a)k Fp(b)o(y)-5
2057 y(o)o(v)o(erwriting.)68 2117 y(No)o(w,)h(sa)o(y)g(w)o(e)f(mak)o(e)
f Fk(ST)26 b Fp(in)o(to)19 b(an)h(abstract)h(data)f(t)o(yp)q(e)f(suc)o
(h)g(that)h(the)g(only)f(op)q(erations)i(on)-5 2177 y(v)m(alues)14
b(of)f(t)o(yp)q(e)g Fk(ST)21 b Fp(are)13 b Fk(map)551
2159 y Fo(ST)603 2177 y Fp(,)g Fk(unit)719 2159 y Fo(ST)772
2177 y Fp(,)g Fk(join)885 2159 y Fo(ST)937 2177 y Fp(,)h
Fk(fetch)t Fp(,)g Fk(assign)t Fp(,)g(and)g Fk(init)5
b Fp(.)20 b(It)13 b(is)g(straigh)o(tforw)o(ard)-5 2237
y(to)18 b(sho)o(w)g(that)g(eac)o(h)f(of)g(these)g(op)q(erations,)h
(when)g(passed)g(the)f(sole)g(p)q(oin)o(ter)g(to)h(an)g(arra)o(y)l(,)f
(returns)-5 2297 y(as)g(its)e(second)h(comp)q(onen)o(t)f(the)g(sole)h
(p)q(oin)o(ter)f(to)i(an)f(arra)o(y)l(.)21 b(Since)15
b(these)g(are)h(the)f(only)h(op)q(erations)-5 2358 y(that)g(ma)o(y)d(b)
q(e)i(used)g(to)g(build)f(a)h(term)e(of)i(t)o(yp)q(e)g
Fk(ST)7 b Fp(,)14 b(this)h(guaran)o(tees)g(that)g(it)g(is)f(safe)h(to)g
(impleme)o(n)o(t)-5 2418 y(the)h Fk(assign)21 b Fp(op)q(eration)c(b)o
(y)f(o)o(v)o(erwriting)f(the)h(sp)q(eci\014ed)f(arra)o(y)i(en)o(try)l
(.)68 2478 y(The)d(k)o(ey)f(idea)h(here)f(is)h(the)g(use)g(of)g(the)g
(abstract)g(data)h(t)o(yp)q(e.)20 b(Monad)15 b(comprehensions)e(are)h
(not)-5 2538 y(essen)o(tial)i(for)g(this)g(to)h(w)o(ork,)f(they)f
(merely)f(pro)o(vide)h(a)i(desirable)e(syn)o(tax.)916
2663 y(13)p eop
%%Page: 14 14
14 13 bop -5 -10 a Fi(4.4)66 b(Example:)31 b(In)n(terpreter)-5
82 y Fp(Consider)24 b(building)f(an)h(in)o(terpreter)d(for)j(a)g
(simple)d(imp)q(erativ)o(e)g(language.)43 b(The)24 b(store)f(of)h(this)
-5 142 y(language)d(will)d(b)q(e)i(mo)q(delled)e(b)o(y)h(a)h(state)g
(of)f(t)o(yp)q(e)h Fk(A)o(rr)5 b Fp(,)19 b(so)h(w)o(e)f(will)g(tak)o(e)
g Fk(Ix)26 b Fp(to)20 b(b)q(e)f(the)h(t)o(yp)q(e)f(of)-5
202 y(v)m(ariable)c(names,)f(and)h Fk(V)l(al)21 b Fp(to)16
b(b)q(e)f(the)g(t)o(yp)q(e)f(of)i(v)m(alues)f(stored)g(in)g(v)m
(ariables.)20 b(The)15 b(abstract)h(syn)o(tax)-5 263
y(for)h(this)f(language)h(is)f(represen)o(ted)f(b)o(y)h(the)g(follo)o
(wing)g(data)h(t)o(yp)q(es:)274 368 y(data)g Fk(Exp)65
b Fp(=)42 b Fk(V)l(ar)13 b(Ix)20 b Fh(j)14 b Fk(Const)f(V)l(al)20
b Fh(j)14 b Fk(Plus)f(Exp)e(Exp)274 429 y Fp(data)17
b Fk(Com)45 b Fp(=)d Fk(Asgn)13 b(Ix)h(Exp)j Fh(j)d Fk(Se)n(q)f(Com)f
(Com)17 b Fh(j)d Fk(If)k(Exp)12 b(Com)g(Com)274 489 y
Fp(data)17 b Fk(Pr)n(o)n(g)48 b Fp(=)42 b Fk(Pr)n(o)n(g)11
b(Com)h(Exp)s Fj(:)-5 595 y Fp(An)17 b(expression)g(is)f(a)i(v)m
(ariable,)e(a)h(constan)o(t,)h(or)f(the)g(sum)f(of)h(t)o(w)o(o)g
(expressions;)g(a)g(command)e(is)i(an)-5 656 y(assignmen)o(t,)g(a)h
(sequence)f(of)h(t)o(w)o(o)g(commands,)e(or)i(a)g(conditional;)g(and)g
(a)h(program)e(consists)i(of)f(a)-5 716 y(command)c(follo)o(w)o(ed)i(b)
o(y)g(an)g(expression.)68 776 y(A)i(v)o(ersion)f(of)h(the)f(in)o
(terpreter)f(in)h(a)h(pure)g(functional)f(language)i(is)e(sho)o(wn)i
(in)e(Figure)g(4.)26 b(The)-5 836 y(in)o(terpreter)13
b(can)i(b)q(e)g(read)g(as)h(a)f(denotational)h(seman)o(tics)d(for)i
(the)f(language,)i(with)f(three)f(seman)o(tic)-5 896
y(functions:)622 943 y Fk(exp)64 b Fp(::)41 b Fk(Exp)17
b Fh(!)d Fk(A)o(rr)k Fh(!)c Fk(V)l(al)5 b Fj(;)622 1003
y Fk(c)n(om)48 b Fp(::)41 b Fk(Com)17 b Fh(!)d Fk(A)o(rr)k
Fh(!)c Fk(A)o(rr)5 b Fj(;)622 1063 y Fk(pr)n(o)n(g)44
b Fp(::)d Fk(Pr)n(o)n(g)17 b Fh(!)d Fk(V)l(al)5 b Fj(:)-5
1147 y Fp(The)19 b(seman)o(tics)e(of)i(an)g(expression)f(tak)o(es)h(a)g
(store)g(in)o(to)f(a)h(v)m(alue;)h(the)e(seman)o(tics)f(of)i(a)g
(command)-5 1207 y(tak)o(es)13 b(a)g(store)g(in)o(to)f(a)h(store;)h
(and)f(the)f(seman)o(tics)f(of)i(a)g(program)g(is)f(a)h(v)m(alue.)20
b(A)12 b(program)h(consists)g(of)-5 1267 y(a)k(command)d(follo)o(w)o
(ed)h(b)o(y)h(an)h(expression;)e(its)h(v)m(alue)g(is)g(determined)e(b)o
(y)i(applying)g(the)g(command)-5 1327 y(to)e(an)h(initial)d(store)i
(where)g(all)f(v)m(ariables)h(ha)o(v)o(e)f(the)h(v)m(alue)f
Fk(0)7 b Fp(,)14 b(and)g(then)g(ev)m(aluating)g(the)f(expression)-5
1388 y(in)j(the)g(con)o(text)g(of)g(the)g(resulting)g(store.)68
1448 y(The)e(in)o(terpreter)d(uses)i(the)g(arra)o(y)g(op)q(erations)h
Fk(newarr)n(ay)t Fp(,)f Fk(index)6 b Fp(,)14 b(and)g
Fk(up)n(date)t Fp(.)20 b(As)13 b(it)f(happ)q(ens,)-5
1508 y(it)18 b(is)f(safe)i(to)f(p)q(erform)f(the)h(up)q(dates)h(in)e
(place)g(for)i(this)f(program,)f(but)h(to)h(disco)o(v)o(er)d(this)i
(requires)-5 1568 y(using)f(one)f(of)h(the)f(sp)q(ecial)g(analysis)g
(tec)o(hniques)f(cited)g(in)h(the)g(in)o(tro)q(duction.)68
1628 y(The)k(same)f(in)o(terpreter)g(has)i(b)q(een)e(rewritten)h(in)f
(Figure)h(5)g(using)h(state)f(transformers.)32 b(The)-5
1688 y(seman)o(tic)14 b(functions)j(no)o(w)f(ha)o(v)o(e)g(the)g(t)o(yp)
q(es:)676 1794 y Fk(exp)64 b Fp(::)41 b Fk(Exp)17 b Fh(!)d
Fk(ST)h(V)l(al)5 b Fj(;)676 1854 y Fk(c)n(om)48 b Fp(::)41
b Fk(Com)17 b Fh(!)d Fk(ST)h Fp(\(\))p Fj(;)676 1915
y Fk(pr)n(o)n(g)44 b Fp(::)d Fk(Pr)n(o)n(g)17 b Fh(!)d
Fk(V)l(al)5 b Fj(:)-5 2021 y Fp(The)18 b(seman)o(tics)d(of)j(an)g
(expression)f(dep)q(ends)h(on)g(the)f(state)h(and)g(returns)f(a)h(v)m
(alue;)g(the)f(seman)o(tics)-5 2081 y(of)j(a)f(command)e(transforms)i
(the)g(state)g(only;)h(the)f(seman)o(tics)e(of)i(a)h(program,)f(as)h(b)
q(efore,)f(is)g(just)-5 2142 y(a)i(v)m(alue.)34 b(According)20
b(to)g(the)h(t)o(yp)q(es,)g(the)f(seman)o(tics)e(of)j(an)g(expression)f
(migh)o(t)f(alter)h(the)g(state,)-5 2202 y(although)15
b(in)f(fact)g(expressions)f(dep)q(end)h(the)g(state)g(but)g(do)h(not)f
(c)o(hange)g(it)g({)g(w)o(e)f(will)g(return)h(to)g(this)-5
2262 y(problem)h(shortly)l(.)68 2322 y(The)f(abstract)g(data)h(t)o(yp)q
(e)e(for)g Fk(ST)21 b Fp(guaran)o(tees)14 b(that)g(it)f(is)g(safe)h(to)
g(p)q(erform)f(up)q(dates)h(\(indicated)-5 2382 y(b)o(y)22
b Fk(assign)t Fp(\))h(in)f(place)f({)i(no)g(sp)q(ecial)f(analysis)g
(tec)o(hnique)f(is)h(required.)39 b(It)21 b(is)i(easy)f(to)h(see)f(ho)o
(w)-5 2443 y(the)17 b(monad)g(in)o(terpreter)f(can)i(b)q(e)f(deriv)o
(ed)f(from)h(the)g(original,)g(and)h(\(using)g(the)f(de\014nitions)g
(giv)o(en)-5 2503 y(earlier\))e(the)h(pro)q(of)i(of)e(their)g(equiv)m
(alence)e(is)i(straigh)o(tforw)o(ard.)916 2663 y(14)p
eop
%%Page: 15 15
15 14 bop 68 -10 a Fp(The)19 b(program)g(written)f(using)i(state)f
(transformers)f(has)i(a)f(simple)e(imp)q(erativ)o(e)f(reading.)29
b(F)l(or)-5 50 y(instance,)16 b(the)g(line)369 160 y
Fk(c)n(om)c Fp(\()p Fk(Se)n(q)h(c)589 167 y Fo(1)623
160 y Fk(c)645 167 y Fo(2)670 160 y Fp(\))30 b(=)g([)8
b(\(\))14 b Fh(j)g Fp(\(\))g Fh( )f Fk(c)n(om)f(c)1123
167 y Fo(1)1148 160 y Fj(;)k Fp(\(\))e Fh( )g Fk(c)n(om)d(c)1412
167 y Fo(2)1446 160 y Fp(])1460 139 y Fo(ST)-5 270 y
Fp(can)24 b(b)q(e)f(read)h(\\to)g(ev)m(aluate)f(the)g(command)e
Fk(Se)n(q)14 b(c)995 277 y Fo(1)1028 270 y Fk(c)1050
277 y Fo(2)1075 270 y Fp(,)25 b(\014rst)f(ev)m(aluate)f
Fk(c)1442 277 y Fo(1)1490 270 y Fp(and)h(then)f(ev)m(aluate)-5
330 y Fk(c)17 337 y Fo(2)42 330 y Fp(".)29 b(The)19 b(t)o(yp)q(es)g
(and)g(the)f(use)h(of)g(the)g Fk(ST)25 b Fp(comprehension)18
b(mak)o(e)e(clear)i(that)i(these)e(op)q(erations)-5 390
y(transform)g(the)h(state;)g(further,)g(that)g(the)f(v)m(alues)h
(returned)f(are)g(of)h(t)o(yp)q(e)f(\(\))h(mak)o(es)e(it)h(clear)g
(that)-5 450 y(only)e(the)g(e\013ect)g(on)h(the)f(state)g(is)g(of)h(in)
o(terest)e(here.)68 511 y(One)h(dra)o(wbac)o(k)h(of)f(this)g(program)g
(is)g(that)h(it)f(in)o(tro)q(duces)g(to)q(o)h(m)o(uc)o(h)d(sequencing.)
21 b(The)16 b(line)314 621 y Fk(exp)c Fp(\()p Fk(Plus)h(e)540
628 y Fo(1)574 621 y Fk(e)596 628 y Fo(2)621 621 y Fp(\))30
b(=)h([)8 b Fk(v)783 628 y Fo(1)819 621 y Fp(+)j Fk(v)890
628 y Fo(2)929 621 y Fh(j)i Fk(v)978 628 y Fo(1)1017
621 y Fh( )h Fk(exp)e(e)1184 628 y Fo(1)1209 621 y Fj(;)k
Fk(v)1261 628 y Fo(2)1300 621 y Fh( )e Fk(exp)e(e)1467
628 y Fo(2)1501 621 y Fp(])1515 602 y Fo(ST)-5 731 y
Fp(can)17 b(b)q(e)g(read)f(\\to)h(ev)m(aluate)g Fk(Plus)c(e)662
738 y Fo(1)695 731 y Fk(e)717 738 y Fo(2)742 731 y Fp(,)j(\014rst)h(ev)
m(aluate)f Fk(e)1086 738 y Fo(1)1128 731 y Fp(yielding)f(the)h(v)m
(alue)h Fk(v)1544 738 y Fo(1)1569 731 y Fp(,)f(then)g(ev)m(aluate)-5
791 y Fk(e)17 798 y Fo(2)58 791 y Fp(yielding)e(the)h(v)m(alue)h
Fk(v)471 798 y Fo(2)496 791 y Fp(,)f(then)h(add)g Fk(v)752
798 y Fo(1)792 791 y Fp(and)h Fk(v)909 798 y Fo(2)934
791 y Fp(".)k(This)16 b(is)f(unfortunate:)22 b(it)15
b(imp)q(oses)f(a)i(spurious)-5 851 y(ordering)h(on)h(the)e(ev)m
(aluation)h(of)g Fk(e)654 858 y Fo(1)696 851 y Fp(and)h
Fk(e)814 858 y Fo(2)855 851 y Fp(\(the)f(original)g(program)f(implies)f
(no)i(suc)o(h)f(ordering\).)-5 911 y(The)e(order)h(do)q(es)g(not)f
(matter)f(b)q(ecause)h(although)h Fk(exp)j Fp(dep)q(ends)d(on)g(the)e
(state,)i(it)f(do)q(es)g(not)h(c)o(hange)-5 971 y(it.)27
b(But,)18 b(as)h(already)f(noted,)g(there)g(is)g(no)h(w)o(a)o(y)f(to)g
(express)g(this)g(using)h(just)f(the)g(monad)g(of)h(state)-5
1032 y(transformers.)i(T)l(o)c(remedy)d(this)i(w)o(e)g(will)f(in)o(tro)
q(duce)h(a)g(second)h(monad,)e(that)i(of)f(state)h(readers.)-5
1176 y Fi(4.5)66 b(State)23 b(readers)-5 1268 y Fp(Recall)15
b(that)i(the)f(monad)g(of)g(state)h(transformers,)e(for)i(a)f(\014xed)g
(t)o(yp)q(e)g Fk(S)23 b Fp(of)16 b(states,)g(is)g(giv)o(en)g(b)o(y)649
1378 y(t)o(yp)q(e)g Fk(ST)f(x)48 b Fp(=)41 b Fk(S)21
b Fh(!)13 b Fp(\()p Fk(x)6 b Fj(;)i Fk(S)e Fp(\))p Fj(:)-5
1488 y Fp(The)17 b(monad)e(of)i(state)f(readers,)g(for)h(the)f(same)f
(t)o(yp)q(e)h Fk(S)22 b Fp(of)17 b(states,)f(is)g(giv)o(en)g(b)o(y)445
1594 y(t)o(yp)q(e)f Fk(SR)c(x)48 b Fp(=)42 b Fk(S)20
b Fh(!)14 b Fk(x)445 1654 y(map)538 1636 y Fo(SR)595
1654 y Fk(f)631 1650 y Ff(b)629 1654 y Fk(x)47 b Fp(=)42
b Fj(\025)p Fk(s)18 b Fh(!)c Fp([)8 b Fk(f)18 b(x)j Fh(j)13
b Fk(x)21 b Fh( )1142 1650 y Ff(b)1139 1654 y Fk(x)15
b(s)d Fp(])1222 1636 y Fo(Id)445 1715 y Fk(unit)534 1696
y Fo(SR)591 1715 y Fk(x)85 b Fp(=)42 b Fj(\025)p Fk(s)18
b Fh(!)c Fk(x)445 1778 y(join)531 1760 y Fo(SR)591 1763
y Ff(b)591 1774 y(b)588 1778 y Fk(x)88 b Fp(=)42 b Fj(\025)p
Fk(s)18 b Fh(!)c Fp([)8 b Fk(x)20 b Fh(j)1002 1774 y
Ff(b)1000 1778 y Fk(x)g Fh( )1108 1763 y Ff(b)1108 1774
y(b)1106 1778 y Fk(x)14 b(s)t Fj(;)i Fk(x)21 b Fh( )1305
1774 y Ff(b)1302 1778 y Fk(x)15 b(s)d Fp(])1385 1760
y Fo(Id)1422 1778 y Fj(:)-5 1885 y Fp(Here)114 1881 y
Ff(b)111 1885 y Fk(x)24 b Fp(is)17 b(a)g(v)m(ariable)g(of)h(t)o(yp)q(e)
e Fk(SR)11 b(x)6 b Fp(,)17 b(just)g(as)p 890 1858 29
2 v 18 w Fk(x)24 b Fp(is)17 b(a)g(v)m(ariable)g(of)g(t)o(yp)q(e)g
Fk(ST)e(x)6 b Fp(.)25 b(A)16 b(state)i(reader)f(of)-5
1945 y(t)o(yp)q(e)i Fk(x)25 b Fp(tak)o(es)18 b(a)h(state)g(and)h
(returns)f(a)g(v)m(alue)f(\(of)h(t)o(yp)q(e)g Fk(x)6
b Fp(\),)19 b(but)g(no)g(new)g(state.)29 b(The)19 b(unit)f(tak)o(es)-5
2005 y(the)f(v)m(alue)h Fk(x)24 b Fp(in)o(to)17 b(the)g(state)h
(transformer)e Fj(\025)p Fk(s)21 b Fh(!)15 b Fk(x)24
b Fp(that)18 b(ignores)g(the)f(state)h(and)g(returns)f
Fk(x)6 b Fp(.)25 b(W)l(e)-5 2065 y(ha)o(v)o(e)16 b(that)244
2175 y([)8 b(\()p Fk(x)e Fj(;)i Fk(y)t Fp(\))14 b Fh(j)g
Fk(x)20 b Fh( )532 2171 y Ff(b)529 2175 y Fk(x)7 b Fj(;)16
b Fk(y)i Fh( )696 2171 y Ff(b)694 2175 y Fk(y)12 b Fp(])744
2157 y Fo(SR)823 2175 y Fp(=)30 b Fj(\025)p Fk(s)19 b
Fh(!)13 b Fp([)8 b(\()p Fk(x)e Fj(;)i Fk(y)t Fp(\))14
b Fh(j)g Fk(x)20 b Fh( )1310 2171 y Ff(b)1307 2175 y
Fk(x)15 b(s)t Fj(;)h Fk(y)i Fh( )1506 2171 y Ff(b)1503
2175 y Fk(y)13 b(s)f Fp(])1586 2157 y Fo(Id)1623 2175
y Fj(:)-5 2285 y Fp(This)17 b(applies)g(the)f(state)h(readers)647
2281 y Ff(b)644 2285 y Fk(x)23 b Fp(and)787 2281 y Ff(b)785
2285 y Fk(y)d Fp(to)e(the)e(state)h Fk(s)t Fp(,)g(yielding)e(the)i(v)m
(alues)g Fk(x)23 b Fp(and)17 b Fk(y)t Fp(,)g(whic)o(h)-5
2346 y(are)g(returned)e(in)h(a)h(pair.)68 2406 y(It)f(is)g(easy)h(to)f
(see)g(that)335 2516 y([)8 b(\()p Fk(x)e Fj(;)i Fk(y)t
Fp(\))14 b Fh(j)g Fk(x)20 b Fh( )624 2512 y Ff(b)621
2516 y Fk(x)6 b Fj(;)16 b Fk(y)i Fh( )787 2512 y Ff(b)785
2516 y Fk(y)12 b Fp(])835 2497 y Fo(SR)914 2516 y Fp(=)31
b([)8 b(\()p Fk(x)e Fj(;)i Fk(y)t Fp(\))14 b Fh(j)f Fk(y)18
b Fh( )1270 2512 y Ff(b)1268 2516 y Fk(y)t Fj(;)e Fk(x)k
Fh( )1435 2512 y Ff(b)1432 2516 y Fk(x)15 b Fp(])1483
2497 y Fo(SR)1531 2516 y Fj(;)916 2663 y Fp(15)p eop
%%Page: 16 16
16 15 bop -5 -10 a Fp(so)13 b(that)g(the)g(order)f(in)h(whic)o(h)549
-14 y Ff(b)547 -10 y Fk(x)19 b Fp(and)681 -14 y Ff(b)679
-10 y Fk(y)d Fp(are)d(computed)e(is)h(irrelev)m(an)o(t.)19
b(A)12 b(monad)g(with)h(this)f(prop)q(ert)o(y)-5 50 y(is)k(called)g
Fk(c)n(ommutative)p Fp(,)g(since)g(it)f(follo)o(ws)h(that)651
160 y([)8 b Fk(t)18 b Fh(j)c Fk(p)s Fj(;)i Fk(q)d Fp(])842
139 y Fo(SR)921 160 y Fp(=)31 b([)8 b Fk(t)18 b Fh(j)c
Fk(q)t Fj(;)j Fk(p)11 b Fp(])1181 139 y Fo(SR)-5 270
y Fp(for)19 b(an)o(y)g(term)e Fk(t)5 b Fp(,)19 b(and)g(an)o(y)g
(quali\014ers)f Fk(p)k Fp(and)d Fk(q)24 b Fp(suc)o(h)18
b(that)h Fk(p)j Fp(binds)d(no)g(free)f(v)m(ariables)h(of)g
Fk(q)k Fp(and)-5 330 y(vice-v)o(ersa.)28 b(Th)o(us)20
b(state)f(readers)g(capture)g(the)g(notion)g(of)h(order)f(indep)q
(endence)f(that)h(w)o(e)g(desire)-5 390 y(for)e(expression)f(ev)m
(aluation)g(in)g(the)g(in)o(terpreter)f(example.)68 450
y(Tw)o(o)i(useful)f(op)q(erations)h(in)f(this)g(monad)g(are)555
556 y Fk(fetch)51 b Fp(::)46 b Fk(SR)11 b(S)555 616 y(fetch)46
b Fp(=)41 b Fj(\025)p Fk(s)19 b Fh(!)13 b Fk(s)555 719
y(r)n(o)107 b Fp(::)46 b Fk(SR)11 b(x)20 b Fh(!)14 b
Fk(ST)h(x)555 780 y(r)n(o)612 776 y Ff(b)609 780 y Fk(x)70
b Fp(=)41 b Fj(\025)p Fk(s)19 b Fh(!)13 b Fp([)8 b(\()p
Fk(x)e Fj(;)i Fk(s)t Fp(\))14 b Fh(j)g Fk(x)20 b Fh( )1195
776 y Ff(b)1192 780 y Fk(x)15 b(s)d Fp(])1275 762 y Fo(Id)1312
780 y Fj(:)-5 886 y Fp(The)h(\014rst)g(is)g(the)g(equiv)m(alen)o(t)e
(of)i(the)g(previous)g Fk(fetch)t Fp(,)g(but)h(no)o(w)f(expressed)f(as)
i(a)f(state)g(reader)g(rather)-5 946 y(than)i(a)g(state)f(transformer.)
20 b(The)14 b(second)g(con)o(v)o(erts)g(a)g(state)h(reader)f(in)o(to)g
(the)g(corresp)q(onding)h(state)-5 1007 y(transformer:)29
b(one)21 b(that)f(returns)h(the)f(same)f(v)m(alue)h(as)h(the)f(state)h
(reader,)g(and)g(lea)o(v)o(es)e(the)h(state)-5 1067 y(unc)o(hanged.)i
(\(The)16 b(name)f Fk(r)n(o)j Fp(abbreviates)e(\\read)h(only".\))68
1127 y(In)f(the)g(sp)q(eci\014c)g(case)g(where)g Fk(S)23
b Fp(is)16 b(the)g(arra)o(y)g(t)o(yp)q(e)g Fk(A)o(rr)5
b Fp(,)15 b(w)o(e)h(de\014ne)648 1233 y Fk(fetch)79 b
Fp(::)46 b Fk(Ix)20 b Fh(!)14 b Fk(SR)c(V)l(al)648 1293
y(fetch)i(i)47 b Fp(=)41 b Fj(\025)p Fk(a)18 b Fh(!)c
Fk(index)h(i)f(a)t Fj(:)-5 1400 y Fp(In)k(order)g(to)g(guaran)o(tee)g
(the)g(safet)o(y)f(of)h(up)q(date)h(b)o(y)e(o)o(v)o(erwriting,)g(it)g
(is)h(necessary)f(to)i(mo)q(dify)d(t)o(w)o(o)-5 1460
y(of)h(the)f(other)g(de\014nitions)g(to)h(use)f Fk(Str)5
b Fp(-comprehensions)16 b(rather)g(than)h Fk(Id)5 b Fp
(-comprehensions:)493 1566 y Fk(map)586 1548 y Fo(SR)643
1566 y Fk(f)680 1562 y Ff(b)677 1566 y Fk(x)48 b Fp(=)42
b Fj(\025)p Fk(a)18 b Fh(!)13 b Fp([)8 b Fk(f)19 b(x)h
Fh(j)14 b Fk(x)20 b Fh( )1195 1562 y Ff(b)1193 1566 y
Fk(x)14 b(a)e Fp(])1280 1548 y Fo(Str)493 1626 y Fk(r)n(o)550
1622 y Ff(b)548 1626 y Fk(x)177 b Fp(=)42 b Fj(\025)p
Fk(a)18 b Fh(!)13 b Fp([)8 b(\()p Fk(x)e Fj(;)i Fk(a)t
Fp(\))14 b Fh(j)f Fk(x)21 b Fh( )1250 1622 y Ff(b)1247
1626 y Fk(x)15 b(a)d Fp(])1335 1608 y Fo(Str)-5 1732
y Fp(These)k(corresp)q(ond)i(to)e(the)g(use)h(of)f(an)h
Fk(Str)5 b Fp(-comprehension)15 b(in)h(the)g Fk(ST)24
b Fp(v)o(ersion)15 b(of)i Fk(fetch)t Fp(.)68 1793 y(Th)o(us,)e(for)f
(arra)o(ys,)h(the)f(complete)e(collection)g(of)j(op)q(erations)g(on)g
(state)f(transformers)g(and)h(state)-5 1853 y(readers)i(consists)f(of)
616 1899 y Fk(fetch)74 b Fp(::)41 b Fk(Ix)20 b Fh(!)14
b Fk(SR)c(V)l(al)5 b Fj(;)616 1959 y Fk(assign)45 b Fp(::)c
Fk(Ix)20 b Fh(!)14 b Fk(V)l(al)19 b Fh(!)14 b Fk(ST)h
Fp(\(\))p Fj(;)616 2019 y Fk(r)n(o)130 b Fp(::)41 b Fk(SR)10
b(x)20 b Fh(!)14 b Fk(ST)h(x)6 b Fj(;)616 2080 y Fk(init)101
b Fp(::)41 b Fk(V)l(al)20 b Fh(!)13 b Fk(ST)j(x)k Fh(!)14
b Fk(x)6 b Fj(;)-5 2170 y Fp(together)19 b(with)g Fk(map)397
2152 y Fo(SR)446 2170 y Fp(,)g Fk(unit)568 2152 y Fo(SR)617
2170 y Fp(,)g Fk(join)736 2152 y Fo(SR)804 2170 y Fp(and)g
Fk(map)994 2152 y Fo(ST)1046 2170 y Fp(,)g Fk(unit)1168
2152 y Fo(ST)1220 2170 y Fp(,)g Fk(join)1339 2152 y Fo(ST)1391
2170 y Fp(.)29 b(These)18 b(ten)h(op)q(erations)-5 2230
y(should)e(b)q(e)f(de\014ned)g(together)g(and)g(constitute)g(all)f(the)
h(w)o(a)o(ys)g(of)g(manipulating)f(the)h(t)o(w)o(o)f(m)o(utually)-5
2290 y(de\014ned)24 b(abstract)g(data)h(t)o(yp)q(es)f
Fk(SR)10 b(x)30 b Fp(and)24 b Fk(ST)16 b(x)6 b Fp(.)44
b(It)23 b(is)h(straigh)o(tforw)o(ard)h(to)f(sho)o(w)g(that)h(eac)o(h)-5
2350 y(op)q(eration)18 b(of)g(t)o(yp)q(e)e Fk(SR)r Fp(,)h(when)g
(passed)h(an)g(arra)o(y)l(,)f(returns)g(a)h(v)m(alue)e(that)i(con)o
(tains)f(no)h(p)q(oin)o(ter)f(to)-5 2410 y(that)h(arra)o(y)g(once)f(it)
g(has)h(b)q(een)f(reduced)g(to)h(w)o(eak)f(head)h(normal)e(form)h
(\(WHNF\);)f(and)i(that)g(eac)o(h)-5 2471 y(op)q(erations)j(of)g(t)o
(yp)q(e)e Fk(ST)7 b Fp(,)20 b(when)g(passed)h(the)f(sole)g(p)q(oin)o
(ter)f(to)i(an)f(arra)o(y)l(,)h(returns)f(as)g(its)g(second)-5
2531 y(comp)q(onen)o(t)c(the)g(sole)g(p)q(oin)o(ter)g(to)g(an)h(arra)o
(y)l(.)k(Since)16 b(these)g(are)g(the)g(only)g(op)q(erations)i(that)e
(ma)o(y)f(b)q(e)916 2663 y(16)p eop
%%Page: 17 17
17 16 bop -5 -10 a Fp(used)16 b(to)f(build)g(v)m(alues)g(of)h(t)o(yp)q
(es)f Fk(SR)i Fp(and)f Fk(ST)7 b Fp(,)15 b(this)h(guaran)o(tees)f(that)
h(it)f(is)g(safe)h(to)f(impleme)o(n)o(t)d(the)-5 50 y
Fk(assign)18 b Fp(op)q(eration)d(b)o(y)e(o)o(v)o(erwriting)g(the)g(sp)q
(eci\014ed)g(arra)o(y)h(en)o(try)l(.)20 b(\(The)13 b(reader)h(ma)o(y)e
(c)o(hec)o(k)g(that)i(the)-5 110 y Fk(Str)5 b Fp(-comprehensions)16
b(in)g Fk(map)581 92 y Fo(SR)646 110 y Fp(and)h Fk(r)n(o)h
Fp(are)f(essen)o(tial)e(to)h(guaran)o(tee)h(this)f(prop)q(ert)o(y)l
(.\))68 170 y(Returning)g(to)f(the)h(in)o(terpreter)d(example,)g(w)o(e)
i(get)h(the)f(new)h(v)o(ersion)e(sho)o(wn)j(in)e(Figure)g(6.)21
b(The)-5 230 y(only)15 b(di\013erence)f(from)g(the)h(previous)f(v)o
(ersion)h(is)f(that)i(some)e(o)q(ccurrences)g(of)h Fk(ST)22
b Fp(ha)o(v)o(e)15 b(c)o(hanged)g(to)-5 291 y Fk(SR)j
Fp(and)f(that)g Fk(r)n(o)h Fp(has)f(b)q(een)f(inserted)g(in)g(a)h(few)f
(places.)k(The)d(new)f(t)o(yping)722 388 y Fk(exp)h Fp(::)c
Fk(Exp)18 b Fh(!)13 b Fk(SR)e(V)l(al)-5 485 y Fp(mak)o(es)k(it)i(clear)
f(that)h Fk(exp)j Fp(dep)q(ends)d(on)h(the)e(state)h(but)g(do)q(es)h
(not)f(alter)f(it.)22 b(A)17 b(pro)q(of)g(that)h(the)e(t)o(w)o(o)-5
545 y(v)o(ersions)g(are)g(equiv)m(alen)o(t)f(app)q(ears)j(in)d(Section)
h(6.)68 605 y(The)h(excessiv)o(e)d(sequencing)h(of)i(the)f(previous)g
(v)o(ersion)f(has)i(b)q(een)g(eliminated.)h(The)e(line)316
702 y Fk(exp)c Fp(\()p Fk(Plus)h(e)542 709 y Fo(1)575
702 y Fk(e)597 709 y Fo(2)622 702 y Fp(\))31 b(=)f([)8
b Fk(v)784 709 y Fo(1)820 702 y Fp(+)j Fk(v)891 709 y
Fo(2)930 702 y Fh(j)j Fk(v)980 709 y Fo(1)1019 702 y
Fh( )f Fk(exp)g(e)1186 709 y Fo(1)1211 702 y Fj(;)j Fk(v)1263
709 y Fo(2)1302 702 y Fh( )d Fk(exp)g(e)1469 709 y Fo(2)1502
702 y Fp(])1516 684 y Fo(SR)-5 800 y Fp(can)i(no)o(w)f(b)q(e)g(read)h
(\\to)g(ev)m(aluate)e Fk(Plus)g(e)749 807 y Fo(1)783
800 y Fk(e)805 807 y Fo(2)830 800 y Fp(,)h(ev)m(aluate)g
Fk(e)1069 807 y Fo(1)1108 800 y Fp(yielding)f(the)h(v)m(alue)g
Fk(v)1517 807 y Fo(1)1556 800 y Fp(and)h(ev)m(aluate)f
Fk(e)1860 807 y Fo(2)-5 860 y Fp(yielding)d(the)g(v)m(alue)h
Fk(v)397 867 y Fo(2)422 860 y Fp(,)g(then)g(add)h Fk(v)668
867 y Fo(1)705 860 y Fp(and)f Fk(v)817 867 y Fo(2)842
860 y Fp(".)20 b(The)12 b(order)g(of)g(quali\014ers)f(in)h(an)g
Fk(SR)r Fp(-comprehension)-5 920 y(is)j(irrelev)m(an)o(t,)f(and)i(so)g
(it)f(is)g(p)q(erfectly)f(p)q(ermissible)f(to)j(ev)m(aluate)f
Fk(e)1247 927 y Fo(1)1288 920 y Fp(and)g Fk(e)1403 927
y Fo(2)1444 920 y Fp(in)g(an)o(y)g(order,)g(or)h(ev)o(en)-5
980 y(concurren)o(tly)l(.)68 1040 y(The)c(in)o(terpreter)f(deriv)o(ed)f
(here)h(is)h(similar)e(in)h(structure)h(to)g(one)g(in)g([W)l(ad90)q(],)
g(whic)o(h)f(uses)h(a)h(t)o(yp)q(e)-5 1101 y(system)g(based)h(on)g
(linear)f(logic)g(to)h(guaran)o(tee)g(safe)g(destructiv)o(e)e(up)q
(date)j(of)f(arra)o(ys.)21 b(\(Related)13 b(t)o(yp)q(e)-5
1161 y(systems)j(are)i(discussed)f(in)g([GH90,)g(W)l(ad91)q(].\))24
b(Ho)o(w)o(ev)o(er,)15 b(the)i(linear)g(t)o(yp)q(e)g(system)e(uses)j(a)
g(\\let!")-5 1221 y(construct)c(that)g(su\013ers)g(from)e(some)g
(unnatural)j(restrictions:)k(it)13 b(requires)f(h)o(yp)q(erstrict)g(ev)
m(aluation,)-5 1281 y(and)24 b(it)f(prohibits)g(certain)g(t)o(yp)q(es)g
(in)o(v)o(olving)f(functions.)43 b(By)22 b(con)o(trast,)j(the)e(monad)g
(approac)o(h)-5 1341 y(requires)c(only)g(strict)g(ev)m(aluation,)h(and)
g(it)f(places)g(no)h(restriction)f(on)h(the)f(t)o(yp)q(es.)31
b(This)20 b(suggests)-5 1402 y(that)f(a)g(careful)f(study)h(of)g(the)f
(monad)g(approac)o(h)i(ma)o(y)d(lead)h(to)h(an)g(impro)o(v)o(ed)d
(understanding)k(of)-5 1462 y(linear)c(t)o(yp)q(es)g(and)h(the)f
(\\let!")21 b(construct.)-5 1626 y Fq(5)81 b(Filters)-5
1736 y Fp(So)17 b(far,)g(w)o(e)f(ha)o(v)o(e)f(ignored)i(another)g(form)
e(of)i(quali\014er)e(found)j(in)e(list)f(comprehensions,)g(the)h
Fk(\014lter)p Fp(.)-5 1796 y(F)l(or)h(list)e(comprehensions,)g(w)o(e)h
(can)g(de\014ne)g(\014lters)g(b)o(y)612 1893 y([)8 b
Fk(t)19 b Fh(j)14 b Fk(b)d Fp(])41 b(=)h(if)16 b Fk(b)j
Fp(then)d([)p Fk(t)5 b Fp(])16 b(else)f([)8 b(])p Fj(;)-5
1990 y Fp(where)16 b Fk(b)k Fp(is)c(a)h(b)q(o)q(olean-v)m(alued)g
(term.)j(F)l(or)c(example,)538 2083 y([)8 b Fk(x)20 b
Fh(j)13 b Fk(x)21 b Fh( )13 b Fp([)p Fk(1)7 b Fj(;)h
Fk(2)f Fj(;)h Fk(3)f Fp(])p Fj(;)14 b Fk(o)n(dd)f(x)i
Fp(])458 2143 y(=)42 b Fk(join)12 b Fp([)c([)g Fk(x)20
b Fh(j)13 b Fk(o)n(dd)g(x)i Fp(])e Fh(j)h Fk(x)20 b Fh( )14
b Fp([)p Fk(1)7 b Fj(;)h Fk(2)f Fj(;)h Fk(3)f Fp(])h(])458
2204 y(=)42 b Fk(join)12 b Fp([)c([)g Fk(1)20 b Fh(j)14
b Fk(o)n(dd)e(1)j Fp(])p Fj(;)8 b Fp([)g Fk(2)20 b Fh(j)14
b Fk(o)n(dd)f(2)i Fp(])p Fj(;)8 b Fp([)g Fk(3)19 b Fh(j)14
b Fk(o)n(dd)f(3)i Fp(])8 b(])458 2264 y(=)42 b Fk(join)12
b Fp([)c([)p Fk(1)f Fp(])p Fj(;)h Fp([)g(])p Fj(;)g Fp([)p
Fk(2)f Fp(])g(])458 2324 y(=)42 b([)p Fk(1)7 b Fj(;)h
Fk(3)f Fp(])p Fj(:)-5 2418 y Fp(Can)14 b(w)o(e)e(de\014ne)h(\014lters)f
(in)h(general)f(for)i(comprehensions)d(in)i(an)g(arbitrary)g(monad)g
Fk(M)8 b Fp(?)20 b(The)13 b(answ)o(er)-5 2478 y(is)i(y)o(es,)f(if)h(w)o
(e)f(can)h(de\014ne)g([)8 b(])15 b(for)g Fk(M)8 b Fp(.)20
b(Not)15 b(all)g(monads)g(admit)e(a)j(useful)e(de\014nition)h(of)g([)8
b(],)14 b(but)i(man)o(y)-5 2538 y(do.)916 2663 y(17)p
eop
%%Page: 18 18
18 17 bop 68 -10 a Fp(Recall)16 b(that)h(comprehensions)f(of)h(the)g
(form)f([)p Fk(t)5 b Fp(])16 b(are)h(de\014ned)f(in)h(terms)e(of)j(the)
e(quali\014er)g Fk(\003)p Fp(,)h(b)o(y)-5 50 y(taking)g([)8
b Fk(t)13 b Fp(])g(=)h([)8 b Fk(t)19 b Fh(j)13 b Fk(\003)8
b Fp(],)16 b(and)g(that)h Fk(\003)f Fp(is)g(a)h(unit)f(for)g
(quali\014er)g(comp)q(osition,)571 154 y([)8 b Fk(t)19
b Fh(j)14 b Fk(\003)p Fj(;)h Fk(q)f Fp(])30 b(=)g([)8
b Fk(t)19 b Fh(j)13 b Fk(q)g Fp(])30 b(=)h([)8 b Fk(t)18
b Fh(j)c Fk(q)t Fj(;)j Fk(\003)8 b Fp(])p Fj(:)-5 259
y Fp(Similarly)l(,)14 b(w)o(e)j(will)f(de\014ne)h(comprehensions)f(of)h
(the)g(form)f([)8 b(])16 b(in)h(terms)f(of)h(a)h(new)f(quali\014er,)f
Fh(;)p Fp(,)h(b)o(y)-5 319 y(taking)g([)8 b(])13 b(=)h([)8
b Fk(t)18 b Fh(j)c(;)8 b Fp(],)16 b(and)g(w)o(e)g(will)f(require)g
(that)i Fh(;)f Fp(is)g(a)h(zero)f(for)g(quali\014er)g(comp)q(osition,)
581 423 y([)8 b Fk(t)19 b Fh(j)13 b(;)p Fj(;)j Fk(q)d
Fp(])30 b(=)h([)8 b Fk(t)18 b Fh(j)c(;)8 b Fp(])30 b(=)h([)8
b Fk(t)18 b Fh(j)c Fk(q)t Fj(;)j Fh(;)8 b Fp(])p Fj(:)-5
528 y Fp(Unlik)o(e)14 b(with)i([)p Fk(t)5 b Fh(j)p Fk(\003)p
Fp(],)15 b(the)h(v)m(alue)g(of)g([)p Fk(t)5 b Fh(j;)p
Fp(])15 b(is)h(indep)q(enden)o(t)g(of)g Fk(t)5 b Fp(!)68
588 y(Recall)15 b(that)i(for)g Fk(\003)f Fp(w)o(e)f(in)o(tro)q(duced)h
(a)h(function)f Fk(unit)j Fp(::)13 b Fk(x)20 b Fh(!)14
b Fk(M)i(x)23 b Fp(satisfying)16 b(the)g(la)o(ws)549
688 y(\()p Fk(iii)5 b Fp(\))157 b Fk(map)11 b(f)22 b
Fh(\001)11 b Fk(unit)47 b Fp(=)41 b Fk(unit)17 b Fh(\001)11
b Fk(f)f Fj(;)549 748 y Fp(\()p Fk(I)e Fp(\))221 b Fk(join)15
b Fh(\001)c Fk(unit)47 b Fp(=)41 b Fk(id)5 b Fj(;)549
808 y Fp(\()p Fk(II)j Fp(\))101 b Fk(join)15 b Fh(\001)c
Fk(map)g(unit)47 b Fp(=)41 b Fk(id)5 b Fj(;)-5 912 y
Fp(and)17 b(then)f(de\014ned)g([)8 b Fk(t)19 b Fh(j)14
b Fk(\003)8 b Fp(])13 b(=)h Fk(unit)f(t)5 b Fp(.)68 972
y(Similarly)l(,)13 b(for)k Fh(;)f Fp(w)o(e)g(in)o(tro)q(duce)f(a)i
(function)765 1077 y Fk(zer)n(o)f Fp(::)d Fk(y)18 b Fh(!)c
Fk(M)h(x)6 b Fj(;)-5 1181 y Fp(satisfying)17 b(the)f(la)o(ws)542
1237 y(\()p Fk(v)5 b Fp(\))195 b Fk(map)11 b(f)22 b Fh(\001)10
b Fk(zer)n(o)44 b Fp(=)e Fk(zer)n(o)13 b Fh(\001)e Fk(g)t
Fj(;)542 1297 y Fp(\()p Fk(IV)e Fp(\))199 b Fk(join)15
b Fh(\001)10 b Fk(zer)n(o)44 b Fp(=)e Fk(zer)n(o)s Fj(;)542
1357 y Fp(\()p Fk(V)9 b Fp(\))117 b Fk(join)14 b Fh(\001)d
Fk(map)g(zer)n(o)44 b Fp(=)e Fk(zer)n(o)s Fj(:)-5 1439
y Fp(and)17 b(de\014ne)665 1499 y(\()p Fk(7)7 b Fp(\))97
b([)8 b Fk(t)19 b Fh(j)13 b(;)8 b Fp(])42 b(=)f Fk(zer)n(o)11
b(t)5 b Fj(:)-5 1584 y Fp(La)o(w)14 b(\()p Fk(v)5 b Fp(\))13
b(sp)q(eci\014es)f(that)h(the)g(result)f(of)h Fk(zer)n(o)i
Fp(is)d(indep)q(enden)o(t)g(of)h(its)f(argumen)o(t,)g(and)h(can)g(b)q
(e)g(deriv)o(ed)-5 1644 y(from)h(the)h(t)o(yp)q(e)g(of)h
Fk(zer)n(o)h Fp(\(again,)f(see)f([Rey83,)f(W)l(ad89)r(]\).)20
b(In)15 b(the)g(case)g(of)h(lists,)e(setting)h Fk(zer)n(o)c(y)18
b Fp(=)c([)8 b(])-5 1704 y(mak)o(es)15 b(la)o(ws)i(\()p
Fk(IV)9 b Fp(\))16 b(and)i(\()p Fk(V)9 b Fp(\))16 b(hold,)h(since)f
Fk(join)c Fp([)c(])14 b(=)g([)8 b(])16 b(and)h Fk(join)12
b Fp([)c([)g(])p Fj(;)g(:)g(:)g(:)f(;)h Fp([)g(])g(])13
b(=)i([)8 b(].)21 b(\(This)c(ignores)-5 1764 y(what)g(happ)q(ens)h
(when)e Fk(zer)n(o)i Fp(is)f(applied)e(to)i Fh(?)p Fp(,)e(whic)o(h)h
(will)f(b)q(e)h(considered)g(b)q(elo)o(w.\))68 1825 y(No)o(w,)h(for)f
(a)i(monad)e(with)g(zero)h(w)o(e)f(can)h(extend)f(comprehensions)f(to)i
(con)o(tain)g(a)g(new)f(form)g(of)-5 1885 y(quali\014er,)f(the)h
(\014lter,)f(de\014ned)h(b)o(y)529 1989 y(\()p Fk(8)7
b Fp(\))97 b([)8 b Fk(t)18 b Fh(j)c Fk(b)e Fp(])41 b(=)g(if)16
b Fk(b)k Fp(then)c([)p Fk(t)5 b Fp(])15 b(else)h([)8
b(])p Fj(;)-5 2094 y Fp(where)j Fk(b)k Fp(is)c(an)o(y)h(b)q(o)q
(olean-v)m(alued)g(term.)18 b(Recall)10 b(that)i(la)o(ws)g(\()p
Fk(4)7 b Fp(\))j(and)i(\()p Fk(6)7 b Fp(\))k(w)o(ere)g(pro)o(v)o(ed)g
(b)o(y)g(induction)-5 2154 y(on)16 b(the)f(form)f(of)i(quali\014ers;)e
(w)o(e)h(can)g(sho)o(w)h(that)g(for)f(the)g(new)g(forms)g(of)g
(quali\014ers,)g(de\014ned)g(b)o(y)f(\()p Fk(7)7 b Fp(\))-5
2214 y(and)17 b(\()p Fk(8)7 b Fp(\),)16 b(they)f(still)g(hold.)22
b(W)l(e)16 b(also)h(ha)o(v)o(e)e(new)h(la)o(ws)558 2317
y(\()p Fk(9)7 b Fp(\))123 b([)8 b Fk(t)19 b Fh(j)13 b
Fk(b)s Fj(;)k Fk(c)12 b Fp(])41 b(=)g([)8 b Fk(t)19 b
Fh(j)13 b Fp(\()p Fk(b)i Fh(^)c Fk(c)s Fp(\))d(])p Fj(;)558
2377 y Fp(\()p Fk(10)f Fp(\))97 b([)8 b Fk(t)18 b Fh(j)c
Fk(q)t Fj(;)j Fk(b)12 b Fp(])41 b(=)g([)8 b Fk(t)19 b
Fh(j)13 b Fk(b)s Fj(;)k Fk(q)c Fp(])p Fj(;)-5 2478 y
Fp(where)g Fk(b)j Fp(and)d Fk(c)j Fp(are)d(b)q(o)q(olean-v)m(alued)h
(terms,)e(and)h(where)g Fk(q)k Fp(is)c(an)o(y)f(quali\014er)g(not)i
(binding)e(v)m(ariables)-5 2538 y(free)k(in)g Fk(b)s
Fp(.)916 2663 y(18)p eop
%%Page: 19 19
19 18 bop 68 -10 a Fp(When)15 b(dealing)g(with)g Fh(?)f
Fp(as)i(a)f(p)q(oten)o(tial)g(v)m(alue,)f(more)g(care)g(is)h(required.)
k(In)c(a)g(strict)g(language,)-5 50 y(where)d(all)h(functions)f
(\(including)g Fk(zer)n(o)s Fp(\))g(are)g(strict,)g(there)g(is)h(no)g
(problem.)18 b(But)12 b(in)h(a)g(lazy)f(language,)-5
110 y(in)i(the)g(case)g(of)g(lists,)g(la)o(ws)g(\()p
Fk(v)5 b Fp(\))15 b(and)g(\()p Fk(IV)9 b Fp(\))14 b(hold,)g(but)g(la)o
(w)g(\()p Fk(V)9 b Fp(\))15 b(is)e(an)i(inequalit)o(y)l(,)d
Fk(join)f Fh(\001)c Fk(map)j(zer)n(o)16 b Fh(v)-5 170
y Fk(zer)n(o)s Fp(,)k(since)g Fk(join)12 b Fp(\()p Fk(map)f(zer)n(o)s
Fp(\))d Fh(?)20 b Fp(=)h Fh(?)f Fp(but)g Fk(zer)n(o)11
b Fh(?)20 b Fp(=)h([)8 b(].)33 b(In)20 b(this)g(case,)h(la)o(ws)f(\()p
Fk(1)7 b Fp(\){\()p Fk(9)g Fp(\))20 b(are)g(still)-5
230 y(v)m(alid,)g(but)h(la)o(w)f(\()p Fk(10)7 b Fp(\))19
b(holds)i(only)e(if)h([)8 b Fk(t)25 b Fh(j)20 b Fk(q)13
b Fp(])20 b Fh(6)p Fp(=)g Fh(?)p Fp(.)33 b(In)20 b(the)f(case)h(that)h
([)8 b Fk(t)25 b Fh(j)20 b Fk(q)13 b Fp(])20 b(=)g Fh(?)p
Fp(,)h(la)o(w)f(\()p Fk(10)7 b Fp(\))-5 291 y(b)q(ecomes)15
b(an)i(inequalit)o(y)l(,)d([)8 b Fk(t)18 b Fh(j)c Fk(q)t
Fj(;)j Fk(b)12 b Fp(])h Fh(v)h Fp([)8 b Fk(t)18 b Fh(j)c
Fk(b)s Fj(;)j Fk(q)c Fp(].)68 351 y(As)g(a)g(second)f(example)f(of)i(a)
f(monad)h(with)f(a)h(zero,)f(consider)h(the)f(strictness)g(monad)g
Fk(Str)18 b Fp(de\014ned)-5 411 y(in)13 b(Section)g(3.2.)20
b(F)l(or)14 b(this)f(monad,)g(a)g(zero)g(ma)o(y)f(b)q(e)h(de\014ned)g
(b)o(y)g Fk(zer)n(o)1283 393 y Fo(Str)1343 411 y Fk(y)18
b Fp(=)13 b Fh(?)p Fp(.)20 b(It)13 b(is)g(easy)g(to)h(v)o(erify)-5
471 y(that)f(the)f(required)f(la)o(ws)i(hold;)g(unlik)o(e)e(with)h
(lists,)g(the)h(la)o(ws)f(hold)h(ev)o(en)e(when)h Fk(zer)n(o)j
Fp(is)d(applied)g(to)h Fh(?)p Fp(.)-5 531 y(F)l(or)i(example,)d([)c
Fk(x)15 b Fh(\000)8 b Fk(1)20 b Fh(j)13 b Fk(x)21 b Fh(\025)13
b Fk(1)i Fp(])611 513 y Fo(Str)678 531 y Fp(returns)g(one)g(less)f
(than)h Fk(x)21 b Fp(if)14 b Fk(x)22 b Fp(is)14 b(p)q(ositiv)o(e,)g
(and)h Fh(?)g Fp(otherwise.)-5 696 y Fq(6)81 b(Monad)27
b(morphisms)-5 806 y Fp(If)15 b Fk(M)23 b Fp(and)16 b
Fk(N)23 b Fp(are)16 b(t)o(w)o(o)f(monads,)g(then)g Fk(h)i
Fp(::)c Fk(M)j(x)k Fh(!)14 b Fk(N)i(x)22 b Fp(is)15 b(a)h
Fk(monad)h(morphism)g Fp(from)e Fk(M)23 b Fp(to)15 b
Fk(N)24 b Fp(if)-5 866 y(it)16 b(preserv)o(es)f(the)h(monad)g(op)q
(erations:)645 962 y Fk(h)f Fh(\001)c Fk(map)803 944
y Fo(M)850 962 y Fk(f)52 b Fp(=)42 b Fk(map)1090 944
y Fo(N)1131 962 y Fk(f)22 b Fh(\001)11 b Fk(h)t Fj(;)683
1022 y Fk(h)j Fh(\001)d Fk(unit)836 1004 y Fo(M)917 1022
y Fp(=)42 b Fk(unit)1086 1004 y Fo(N)1120 1022 y Fj(;)686
1082 y Fk(h)15 b Fh(\001)c Fk(join)837 1064 y Fo(M)917
1082 y Fp(=)42 b Fk(join)1083 1064 y Fo(N)1127 1082 y
Fh(\001)11 b Fk(h)1181 1064 y Fo(2)1205 1082 y Fj(;)-5
1185 y Fp(where)j Fk(h)163 1167 y Fo(2)201 1185 y Fp(=)g
Fk(h)d Fh(\001)c Fk(map)403 1167 y Fo(M)450 1185 y Fk(h)18
b Fp(=)13 b Fk(map)637 1167 y Fo(N)679 1185 y Fk(h)e
Fh(\001)c Fk(h)18 b Fp(\(the)c(t)o(w)o(o)g(comp)q(osites)g(are)g(equal)
g(b)o(y)g(the)g(\014rst)h(equation\).)68 1245 y(De\014ne)h(the)g
(e\013ect)g(of)h(a)f(monad)g(morphism)e(on)j(quali\014ers)e(as)i(follo)
o(ws:)650 1340 y Fk(h)12 b Fp(\()p Fk(\003)p Fp(\))143
b(=)42 b Fk(\003)p Fj(;)650 1401 y Fk(h)12 b Fp(\()p
Fk(x)20 b Fh( )14 b Fk(u)t Fp(\))41 b(=)h Fk(x)20 b Fh( )14
b Fp(\()p Fk(h)e(u)t Fp(\))p Fj(;)650 1461 y Fk(h)g Fp(\()p
Fk(p)s Fj(;)k Fk(q)t Fp(\))93 b(=)42 b(\()p Fk(h)12 b(p)s
Fp(\))p Fj(;)k Fp(\()p Fk(h)c(q)t Fp(\))p Fj(:)-5 1557
y Fp(It)k(follo)o(ws)g(that)h(if)f Fk(h)k Fp(is)c(a)g(monad)g(morphism)
e(from)h Fk(M)24 b Fp(to)17 b Fk(N)24 b Fp(then)545 1657
y(\()p Fk(11)7 b Fp(\))146 b Fk(h)12 b Fp([)c Fk(t)19
b Fh(j)13 b Fk(q)g Fp(])956 1639 y Fo(M)1025 1657 y Fp(=)31
b([)8 b Fk(t)18 b Fh(j)c Fp(\()p Fk(h)e(q)t Fp(\))c(])1301
1639 y Fo(N)-5 1757 y Fp(for)17 b(all)e(terms)g Fk(t)21
b Fp(and)16 b(quali\014ers)g Fk(q)t Fp(.)22 b(The)16
b(pro)q(of)h(is)f(a)g(simple)e(induction)i(on)g(the)g(form)f(of)h
(quali\014ers.)68 1817 y(As)h(an)f(example,)e(it)i(is)g(easy)g(to)h(c)o
(hec)o(k)d(that)j Fk(unit)1004 1799 y Fo(M)1057 1817
y Fp(::)c Fk(x)20 b Fh(!)14 b Fk(M)i(x)23 b Fp(is)16
b(a)g(monad)g(morphism)e(from)-5 1877 y Fk(Id)21 b Fp(to)c
Fk(M)8 b Fp(.)21 b(It)16 b(follo)o(ws)g(that)521 1977
y([)8 b([)g Fk(t)19 b Fh(j)13 b Fk(x)20 b Fh( )14 b Fk(u)e
Fp(])785 1957 y Fo(Id)830 1977 y Fp(])844 1957 y Fo(M)913
1977 y Fp(=)31 b([)8 b Fk(t)18 b Fh(j)c Fk(x)20 b Fh( )14
b Fp([)8 b Fk(u)k Fp(])1246 1957 y Fo(M)1293 1977 y Fp(])1307
1957 y Fo(M)1346 1977 y Fj(:)-5 2077 y Fp(This)17 b(explains)f(a)h
(tric)o(k)e(o)q(ccasionally)i(used)g(b)o(y)f(functional)g(programmers,)
f(where)h(one)h(writes)f(the)-5 2137 y(quali\014er)c
Fk(x)20 b Fh( )13 b Fp([)8 b Fk(u)k Fp(])g(inside)g(a)g(list)g
(comprehension)f(to)h(bind)g Fk(x)19 b Fp(to)12 b(the)g(v)m(alue)g(of)h
Fk(u)t Fp(,)f(that)h(is,)f(to)h(ac)o(hiev)o(e)-5 2198
y(the)j(same)f(e\013ect)h(as)h(the)f(quali\014er)f Fk(x)21
b Fh( )13 b Fk(u)20 b Fp(in)c(an)h Fk(Id)k Fp(comprehension.)68
2258 y(As)15 b(a)h(second)f(example,)e(the)i(function)f
Fk(r)n(o)j Fp(from)d(Section)h(4.5)g(is)g(a)h(monad)e(morphism)f(from)h
Fk(SR)-5 2318 y Fp(to)21 b Fk(ST)7 b Fp(.)32 b(This)20
b(can)g(b)q(e)g(used)g(to)h(pro)o(v)o(e)e(the)h(equiv)m(alence)e(of)i
(the)g(t)o(w)o(o)g(in)o(terpreters)e(in)i(Figures)g(5)-5
2378 y(and)e(6.)25 b(W)l(rite)16 b Fk(exp)362 2360 y
Fo(ST)431 2378 y Fp(::)e Fk(Exp)19 b Fh(!)d Fk(ST)f(V)l(al)23
b Fp(and)18 b Fk(exp)975 2360 y Fo(SR)1040 2378 y Fp(::)d
Fk(Exp)k Fh(!)c Fk(SR)c(V)l(al)23 b Fp(for)18 b(the)f(v)o(ersions)f(in)
h(the)-5 2438 y(t)o(w)o(o)f(\014gures.)22 b(The)16 b(equiv)m(alence)f
(of)h(the)g(t)o(w)o(o)g(v)o(ersions)g(is)g(clear)g(if)g(w)o(e)f(can)i
(sho)o(w)g(that)720 2538 y Fk(r)n(o)c Fh(\001)e Fk(exp)874
2518 y Fo(SR)954 2538 y Fp(=)30 b Fk(exp)1094 2518 y
Fo(ST)1147 2538 y Fj(:)916 2663 y Fp(19)p eop
%%Page: 20 20
20 19 bop -5 -10 a Fp(The)16 b(pro)q(of)h(is)e(a)h(simple)e(induction)h
(on)h(the)g(structure)f(of)h(expressions.)21 b(If)15
b(the)h(expression)f(has)h(the)-5 50 y(form)f(\()p Fk(Plus)e(e)255
57 y Fo(1)289 50 y Fk(e)311 57 y Fo(2)336 50 y Fp(\),)j(w)o(e)g(ha)o(v)
o(e)f(that)414 149 y Fk(r)n(o)c Fp(\()p Fk(exp)560 131
y Fo(SR)618 149 y Fp(\()p Fk(Plus)i(e)763 156 y Fo(1)796
149 y Fk(e)818 156 y Fo(2)843 149 y Fp(\)\))335 210 y(=)41
b Fh(f)p Fp(unfolding)17 b Fk(exp)727 192 y Fo(SR)777
210 y Fh(g)414 270 y Fk(r)n(o)11 b Fp([)d Fk(v)513 277
y Fo(1)549 270 y Fp(+)j Fk(v)620 277 y Fo(2)659 270 y
Fh(j)i Fk(v)708 277 y Fo(1)747 270 y Fh( )h Fk(exp)883
252 y Fo(SR)941 270 y Fk(e)963 277 y Fo(1)988 270 y Fj(;)j
Fk(v)1041 277 y Fo(2)1080 270 y Fh( )c Fk(exp)1215 252
y Fo(SR)1274 270 y Fk(e)1296 277 y Fo(2)1329 270 y Fp(])1343
252 y Fo(SR)335 330 y Fp(=)41 b Fh(f)p Fp(b)o(y)16 b(\()p
Fk(11)7 b Fp(\))p Fh(g)414 390 y Fp([)h Fk(v)458 397
y Fo(1)494 390 y Fp(+)j Fk(v)565 397 y Fo(2)604 390 y
Fh(j)j Fk(v)654 397 y Fo(1)693 390 y Fh( )g Fk(r)n(o)c
Fp(\()p Fk(exp)902 372 y Fo(SR)960 390 y Fk(e)982 397
y Fo(1)1007 390 y Fp(\))p Fj(;)17 b Fk(v)1079 397 y Fo(2)1118
390 y Fh( )c Fk(r)n(o)e Fp(\()p Fk(exp)1327 372 y Fo(SR)1385
390 y Fk(e)1407 397 y Fo(2)1432 390 y Fp(\))d(])1473
372 y Fo(ST)335 450 y Fp(=)41 b Fh(f)p Fp(h)o(yp)q(othesis)p
Fh(g)414 511 y Fp([)8 b Fk(v)458 518 y Fo(1)494 511 y
Fp(+)j Fk(v)565 518 y Fo(2)604 511 y Fh(j)j Fk(v)654
518 y Fo(1)693 511 y Fh( )g Fk(exp)829 493 y Fo(ST)890
511 y Fk(e)912 518 y Fo(1)937 511 y Fj(;)i Fk(v)989 518
y Fo(2)1028 511 y Fh( )e Fk(exp)1164 493 y Fo(ST)1225
511 y Fk(e)1247 518 y Fo(2)1280 511 y Fp(])1294 493 y
Fo(ST)335 571 y Fp(=)41 b Fh(f)p Fp(folding)17 b Fk(exp)673
553 y Fo(ST)725 571 y Fh(g)414 631 y Fk(exp)486 613 y
Fo(ST)547 631 y Fp(\()p Fk(Plus)c(e)692 638 y Fo(1)726
631 y Fk(e)748 638 y Fo(2)773 631 y Fp(\))p Fj(:)-5 729
y Fp(The)k(other)f(t)o(w)o(o)g(cases)h(are)f(equally)f(simple.)68
789 y(All)f(of)h(this)f(extends)g(straigh)o(tforw)o(ardly)h(to)g
(monads)f(with)g(zero.)21 b(In)14 b(this)h(case)f(w)o(e)g(also)h
(require)-5 849 y(that)f Fk(h)9 b Fh(\001)c Fk(zer)n(o)240
831 y Fo(M)293 849 y Fp(=)14 b Fk(zer)n(o)434 831 y Fo(N)467
849 y Fp(,)f(de\014ne)g(the)h(action)f(of)h(a)g(morphism)d(on)j(a)g
(\014lter)e(b)o(y)h Fk(h)f(b)18 b Fp(=)13 b Fk(b)s Fp(,)i(and)f(observ)
o(e)-5 909 y(that)j(\()p Fk(11)7 b Fp(\))16 b(holds)g(ev)o(en)f(when)i
Fk(q)k Fp(con)o(tains)16 b(\014lters.)-5 1074 y Fq(7)81
b(More)27 b(monads)-5 1184 y Fp(This)16 b(section)f(describ)q(es)g
(four)h(more)e(monads:)21 b(parsers,)15 b(expressions,)g(input-output,)
h(and)g(con)o(tin-)-5 1244 y(uations.)21 b(The)13 b(basic)h(tec)o
(hniques)d(are)j(not)f(new)h(\(parsers)g(are)f(discussed)g(in)g([W)l
(ad85)q(,)g(F)l(ai87,)g(FL89)q(],)-5 1304 y(and)i(exceptions)f(are)h
(discussed)f(in)g([W)l(ad85)q(,)g(Spi90)q(]\),)g(but)g(monads)h(and)g
(monad)f(comprehensions)-5 1364 y(pro)o(vide)i(a)g(con)o(v)o(enien)o(t)
f(framew)o(ork)f(for)j(their)e(expression.)-5 1507 y
Fi(7.1)66 b(P)n(arsers)-5 1600 y Fp(The)17 b(monad)e(of)i(parsers)g(is)
f(giv)o(en)f(b)o(y)255 1697 y(t)o(yp)q(e)h Fk(Parse)c(x)48
b Fp(=)41 b Fk(String)19 b Fh(!)14 b Fk(List)f Fp(\()p
Fk(x)6 b Fj(;)i Fk(String)t Fp(\))255 1757 y Fk(map)348
1739 y Fo(Parse)449 1757 y Fk(f)p 483 1730 29 2 v 19
w(x)63 b Fp(=)41 b Fj(\025)p Fk(i)19 b Fh(!)14 b Fp([)8
b(\()p Fk(f)19 b(x)6 b Fj(;)i Fk(i)918 1739 y Fg(0)929
1757 y Fp(\))14 b Fh(j)g Fp(\()p Fk(x)6 b Fj(;)i Fk(i)1079
1739 y Fg(0)1091 1757 y Fp(\))14 b Fh( )p 1187 1730 V
13 w Fk(x)h(i)e Fp(])1266 1739 y Fo(List)255 1817 y Fk(unit)344
1799 y Fo(Parse)446 1817 y Fk(x)100 b Fp(=)41 b Fj(\025)p
Fk(i)19 b Fh(!)14 b Fp([)8 b(\()p Fk(x)e Fj(;)i Fk(i)d
Fp(\))j(])925 1799 y Fo(List)255 1877 y Fk(join)341 1859
y Fo(Parse)p 442 1843 V 442 1851 V 442 1877 a Fk(x)104
b Fp(=)41 b Fj(\025)p Fk(i)19 b Fh(!)14 b Fp([)8 b(\()p
Fk(x)e Fj(;)i Fk(i)884 1859 y Fg(00)905 1877 y Fp(\))14
b Fh(j)g Fp(\()p 985 1851 V Fk(x)6 b Fj(;)i Fk(i)1055
1859 y Fg(0)1067 1877 y Fp(\))13 b Fh( )p 1163 1843 V
1163 1851 V 14 w Fk(x)i(i)5 b Fj(;)16 b Fp(\()p Fk(x)6
b Fj(;)i Fk(i)1339 1859 y Fg(00)1360 1877 y Fp(\))14
b Fh( )p 1457 1851 V 14 w Fk(x)g(i)1513 1859 y Fg(0)1533
1877 y Fp(])1547 1859 y Fo(List)1612 1877 y Fj(:)-5 1975
y Fp(Here)e Fk(String)18 b Fp(is)13 b(the)g(t)o(yp)q(e)f(of)h(lists)g
(of)g Fk(Char)5 b Fp(.)20 b(Th)o(us,)13 b(a)g(parser)h(accepts)e(an)i
(input)e(string)i(and)f(returns)-5 2035 y(a)j(list)f(of)h(pairs.)21
b(The)16 b(list)e(con)o(tains)i(one)g(pair)f(for)h(eac)o(h)f
(successful)g(parse,)g(consisting)h(of)g(the)f(v)m(alue)-5
2095 y(parsed)k(and)h(the)e(remaining)f(unparsed)i(input.)28
b(An)19 b(empt)o(y)d(list)i(denotes)h(a)g(failure)e(to)i(parse)g(the)-5
2156 y(input.)i(W)l(e)16 b(ha)o(v)o(e)g(that)62 2257
y([)8 b(\()p Fk(x)e Fj(;)i Fk(y)t Fp(\))14 b Fh(j)g Fk(x)20
b Fh( )p 348 2230 V 348 2256 a Fk(x)376 2257 y Fj(;)c
Fk(y)i Fh( )p 512 2230 V 512 2256 a Fk(y)548 2257 y Fp(])562
2238 y Fo(Parse)685 2257 y Fp(=)30 b Fj(\025)p Fk(i)19
b Fh(!)14 b Fp([)8 b(\(\()p Fk(x)e Fj(;)i Fk(y)t Fp(\))p
Fj(;)g Fk(i)1078 2238 y Fg(00)1099 2257 y Fp(\))14 b
Fh(j)g Fp(\()p Fk(x)6 b Fj(;)i Fk(i)1249 2238 y Fg(0)1260
2257 y Fp(\))14 b Fh( )p 1357 2230 V 1357 2256 a Fk(x)1394
2257 y(i)5 b Fj(;)16 b Fp(\()p Fk(y)t Fj(;)8 b Fk(i)1533
2238 y Fg(00)1554 2257 y Fp(\))13 b Fh( )p 1650 2230
V 1650 2256 a Fk(y)1686 2257 y(i)1706 2238 y Fg(0)1726
2257 y Fp(])1740 2238 y Fo(List)1805 2257 y Fj(:)-5 2358
y Fp(This)19 b(applies)g(the)f(\014rst)h(parser)h(to)f(the)f(input,)h
(binds)g Fk(x)25 b Fp(to)20 b(the)e(v)m(alue)h(parsed,)g(then)g
(applies)f(the)-5 2418 y(second)f(parser)h(to)f(the)g(remaining)e
(input,)i(binds)g Fk(y)k Fp(to)c(the)g(v)m(alue)f(parsed,)i(then)e
(returns)h(the)g(pair)-5 2478 y(\()p Fk(x)6 b Fj(;)i
Fk(y)t Fp(\))17 b(as)f(the)g(v)m(alue)g(together)g(with)g(input)g(y)o
(et)f(to)h(b)q(e)h(parsed.)k(If)16 b(either)p 1397 2452
V 15 w Fk(x)22 b Fp(or)p 1501 2452 V 17 w Fk(y)e Fp(fails)15
b(to)i(parse)f(its)-5 2538 y(input)g(\(returning)g(an)h(empt)o(y)d
(list\))i(then)g(the)g(com)o(bined)e(parser)j(will)e(fail)g(as)i(w)o
(ell.)916 2663 y(20)p eop
%%Page: 21 21
21 20 bop 68 -10 a Fp(There)16 b(is)g(also)h(a)g(suitable)f(zero)g(for)
g(this)g(monad,)g(giv)o(en)f(b)o(y)651 88 y Fk(zer)n(o)740
69 y Fo(Parse)841 88 y Fk(y)45 b Fp(=)d Fj(\025)p Fk(i)19
b Fh(!)13 b Fp([)8 b(])1151 69 y Fo(List)1216 88 y Fj(:)-5
185 y Fp(Th)o(us,)15 b([)8 b(])167 167 y Fo(Parse)275
185 y Fp(is)15 b(the)f(parser)i(that)f(alw)o(a)o(ys)g(fails)g(to)g
(parse)h(the)e(input.)21 b(It)15 b(follo)o(ws)g(that)g(w)o(e)g(ma)o(y)e
(use)-5 246 y(\014lters)j(in)g Fk(Parse)t Fp(-comprehensions)f(as)i(w)o
(ell)e(as)i(in)e Fk(List)5 b Fp(-comprehensions.)68 306
y(The)17 b(alternation)f(op)q(erator)h(com)o(bines)e(t)o(w)o(o)h
(parsers:)512 400 y(\([)-8 b(])n(\))88 b(::)46 b Fk(Parse)12
b(x)20 b Fh(!)14 b Fk(Parse)e(x)20 b Fh(!)13 b Fk(Parse)f(x)p
512 433 29 2 v 512 460 a(x)17 b Fp([)-8 b(])p 581 433
V 10 w Fk(y)45 b Fp(=)d Fj(\025)p Fk(i)19 b Fh(!)14 b
Fp(\()p 875 433 V Fk(x)g(i)5 b Fp(\))11 b(+)-25 b(+)11
b(\()p 1042 433 V Fk(y)i(i)5 b Fp(\))p Fj(:)-5 557 y
Fp(\(Here)17 b(+)-25 b(+)18 b(is)f(the)h(op)q(erator)h(that)f
(concatenates)g(t)o(w)o(o)g(lists.\))26 b(It)17 b(returns)h(all)f
(parses)i(found)f(b)o(y)f(the)-5 617 y(\014rst)g(argumen)o(t)e(follo)o
(w)o(ed)g(b)o(y)h(all)g(parses)h(found)f(b)o(y)g(the)g(second.)68
677 y(The)h(simplest)d(parser)j(is)f(one)g(that)h(parses)g(a)f(single)g
(c)o(haracter:)427 771 y Fk(next)53 b Fp(::)46 b Fk(Parse)12
b(Char)427 831 y(next)47 b Fp(=)42 b Fj(\025)p Fk(i)19
b Fh(!)14 b Fp([)8 b(\()p Fk(he)n(ad)k(i)5 b Fj(;)j Fk(tail)14
b(i)5 b Fp(\))14 b Fh(j)g Fk(not)f Fp(\()p Fk(nul)r(l)j(i)5
b Fp(\))j(])1376 813 y Fo(List)1440 831 y Fj(:)-5 926
y Fp(Here)19 b(w)o(e)g(ha)o(v)o(e)g(a)i Fk(List)5 b Fp(-comprehension)
18 b(with)i(a)g(\014lter.)31 b(The)20 b(parser)g Fk(next)26
b Fp(succeeds)19 b(only)h(if)f(the)-5 986 y(input)14
b(is)g(non-empt)o(y)l(,)e(in)i(whic)o(h)f(case)h(it)f(returns)h(the)g
(next)f(c)o(haracter.)20 b(Using)14 b(this,)g(w)o(e)f(ma)o(y)f
(de\014ne)-5 1046 y(a)17 b(parser)g(to)f(recognise)g(a)h(literal:)535
1140 y Fk(lit)85 b Fp(::)46 b Fk(Char)19 b Fh(!)14 b
Fk(Parse)d Fp(\(\))535 1200 y Fk(lit)i(c)45 b Fp(=)c([)8
b(\(\))14 b Fh(j)g Fk(c)864 1182 y Fg(0)890 1200 y Fh( )f
Fk(next)5 b Fj(;)18 b Fk(c)f Fp(=)-25 b(=)13 b Fk(c)1205
1182 y Fg(0)1226 1200 y Fp(])1240 1182 y Fo(Parse)1332
1200 y Fj(:)-5 1295 y Fp(No)o(w)19 b(w)o(e)f(ha)o(v)o(e)f(a)i
Fk(Parse)t Fp(-comprehension)e(with)h(a)h(\014lter.)27
b(The)18 b(parser)h Fk(lit)14 b(c)21 b Fp(succeeds)d(only)g(if)g(the)-5
1355 y(next)e(c)o(haracter)g(in)g(the)g(input)g(is)g
Fk(c)s Fp(.)68 1415 y(As)i(an)h(example,)c(a)k(parser)f(for)g(fully)f
(paren)o(thesised)g(lam)o(b)q(da)g(terms,)g(yielding)f(v)m(alues)i(of)g
(the)-5 1475 y(t)o(yp)q(e)e Fk(T)l(erm)k Fp(describ)q(ed)c(previously)l
(,)e(can)j(b)q(e)f(written)g(as)h(follo)o(ws:)156 1569
y Fk(term)67 b Fp(::)46 b Fk(Parse)11 b(T)l(erm)156 1629
y(term)61 b Fp(=)77 b([)8 b Fk(V)l(ar)13 b(x)20 b Fh(j)14
b Fk(x)20 b Fh( )14 b Fk(name)e Fp(])860 1611 y Fo(Parse)396
1689 y Fp([)-8 b(])15 b([)8 b Fk(L)n(am)i(x)15 b(t)k
Fh(j)13 b Fp(\(\))h Fh( )g Fk(lit)g Fp(`\(')o Fj(;)i
Fp(\(\))e Fh( )f Fk(lit)h Fp(`)p Fj(\025)p Fp(')o Fj(;)j
Fk(x)j Fh( )13 b Fk(name)t Fj(;)k Fp(\(\))d Fh( )f Fk(lit)h
Fp(`)p Fh(!)p Fp(')o Fj(;)656 1750 y Fk(t)19 b Fh( )14
b Fk(term)t Fj(;)i Fp(\(\))e Fh( )f Fk(lit)h Fp(`\)')7
b(])1128 1732 y Fo(Parse)396 1810 y Fp([)-8 b(])15 b([)8
b Fk(App)j(t)i(u)18 b Fh(j)13 b Fp(\(\))h Fh( )g Fk(lit)g
Fp(`\(')o Fj(;)i Fk(t)j Fh( )13 b Fk(term)t Fj(;)j Fk(u)i
Fh( )13 b Fk(term)t Fj(;)j Fp(\(\))e Fh( )g Fk(lit)f
Fp(`\)')8 b(])1611 1792 y Fo(Parse)156 1930 y Fk(name)52
b Fp(::)46 b Fk(Parse)11 b(Name)156 1990 y(name)46 b
Fp(=)c([)8 b Fk(c)17 b Fh(j)c Fk(c)k Fh( )d Fk(next)5
b Fj(;)17 b Fp(`a')d Fh(\024)f Fk(c)s Fj(;)k Fk(c)g Fh(\024)c
Fp(`z')7 b(])1046 1972 y Fo(Parse)1139 1990 y Fj(:)-5
2085 y Fp(Here,)15 b(for)i(simplicit)n(y)l(,)c(it)j(has)h(b)q(een)g
(assumed)e(that)i(names)f(consist)g(of)h(a)g(single)f(lo)o(w)o(er-case)
g(letter,)-5 2145 y(so)h Fk(Name)h Fp(=)c Fk(Char)5 b
Fp(;)15 b(and)i(that)g Fj(\025)g Fp(and)f Fh(!)g Fp(are)h(b)q(oth)g(c)o
(haracters.)-5 2288 y Fi(7.2)66 b(Exceptions)-5 2380
y Fp(The)18 b(t)o(yp)q(e)g Fk(Mayb)n(e)12 b(x)24 b Fp(consists)18
b(of)h(either)e(a)h(v)m(alue)g(of)g(t)o(yp)q(e)g Fk(x)6
b Fp(,)18 b(written)g Fk(Just)13 b(x)6 b Fp(,)18 b(or)h(an)f
(exceptional)-5 2440 y(v)m(alue,)e(written)g Fk(Nothing)t
Fp(:)570 2538 y(data)h Fk(Mayb)n(e)12 b(x)36 b Fp(=)31
b Fk(Just)13 b(x)20 b Fh(j)14 b Fk(Nothing)t Fj(:)916
2663 y Fp(21)p eop
%%Page: 22 22
22 21 bop -5 -10 a Fp(\(The)17 b(names)e(are)h(due)g(to)h(Spiv)o(ey)e
([Spi90].\))20 b(The)d(follo)o(wing)f(op)q(erations)h(yield)e(a)i
(monad:)526 90 y Fk(map)619 72 y Fo(Mayb)n(e)730 90 y
Fk(f)h Fp(\()p Fk(Just)13 b(x)6 b Fp(\))144 b(=)42 b
Fk(Just)13 b Fp(\()p Fk(f)18 b(x)6 b Fp(\))526 150 y
Fk(map)619 132 y Fo(Mayb)n(e)730 150 y Fk(f)18 b(Nothing)145
b Fp(=)42 b Fk(Nothing)526 253 y(unit)615 235 y Fo(Mayb)n(e)726
253 y Fk(x)326 b Fp(=)42 b Fk(Just)13 b(x)526 356 y(join)612
338 y Fo(Mayb)n(e)723 356 y Fp(\()p Fk(Just)g Fp(\()p
Fk(Just)f(x)6 b Fp(\)\))46 b(=)c Fk(Just)13 b(x)526 417
y(join)612 398 y Fo(Mayb)n(e)723 417 y Fp(\()p Fk(Just)g(Nothing)t
Fp(\))42 b(=)g Fk(Nothing)526 477 y(join)612 459 y Fo(Mayb)n(e)723
477 y Fk(Nothing)185 b Fp(=)42 b Fk(Nothing)t Fj(:)-5
575 y Fp(W)l(e)16 b(ha)o(v)o(e)g(that)639 635 y([)8 b(\()p
Fk(x)e Fj(;)i Fk(y)t Fp(\))14 b Fh(j)g Fk(x)20 b Fh( )p
924 609 29 2 v 13 w Fk(x)7 b Fj(;)16 b Fk(y)i Fh( )p
1088 609 V 13 w Fk(y)13 b Fp(])1139 615 y Fo(Mayb)n(e)-5
719 y Fp(returns)k Fk(Just)12 b Fp(\()p Fk(x)6 b Fj(;)i
Fk(y)t Fp(\))17 b(if)p 442 693 V 16 w Fk(x)22 b Fp(is)16
b Fk(Just)d(x)23 b Fp(and)p 776 693 V 17 w Fk(y)d Fp(is)c
Fk(Just)d(y)t Fp(,)j(and)h(otherwise)f(returns)g Fk(Nothing)t
Fp(.)68 779 y(There)g(is)g(also)h(a)g(suitable)f(zero)g(for)g(this)g
(monad,)g(giv)o(en)f(b)o(y)673 881 y Fk(zer)n(o)762 862
y Fo(Mayb)n(e)873 881 y Fk(y)46 b Fp(=)41 b Fk(Nothing)t
Fj(:)-5 983 y Fp(Hence)21 b([)8 b(])182 965 y Fo(Mayb)n(e)307
983 y Fp(=)23 b Fk(Nothing)k Fp(and)22 b([)8 b Fk(x)15
b Fp(])734 965 y Fo(Mayb)n(e)859 983 y Fp(=)23 b Fk(Just)13
b(x)6 b Fp(.)38 b(F)l(or)22 b(example,)e([)8 b Fk(x)21
b Fh(\000)15 b Fk(1)29 b Fh(j)23 b Fk(x)30 b Fh(\025)23
b Fk(1)15 b Fp(])1783 965 y Fo(Mayb)n(e)-5 1043 y Fp(returns)i(one)f
(less)g(than)h Fk(x)22 b Fp(if)16 b Fk(x)23 b Fp(is)16
b(p)q(ositiv)o(e,)f(and)i Fk(Nothing)k Fp(otherwise.)68
1103 y(Tw)o(o)h(useful)e(op)q(erations)h(test)g(whether)f(an)h(argumen)
o(t)f(corresp)q(onds)i(to)f(a)g(v)m(alue)f(and,)i(if)e(so,)-5
1163 y(return)c(that)h(v)m(alue:)554 1210 y Fk(exists)232
b Fp(::)46 b Fk(Mayb)n(e)11 b(x)20 b Fh(!)14 b Fk(Bo)n(ol)554
1270 y(exists)f Fp(\()p Fk(Just)g(x)6 b Fp(\))46 b(=)c
Fk(T)l(rue)554 1330 y(exists)13 b(Nothing)47 b Fp(=)42
b Fk(F)l(alse)554 1433 y(the)284 b Fp(::)46 b Fk(Mayb)n(e)11
b(x)20 b Fh(!)14 b Fk(x)554 1493 y(the)f Fp(\()p Fk(Just)f(x)6
b Fp(\))99 b(=)42 b Fk(x)6 b Fj(:)-5 1574 y Fp(Observ)o(e)16
b(that)652 1634 y([)8 b Fk(the)p 750 1607 V 13 w(x)20
b Fh(j)13 b Fk(exists)p 948 1607 V 14 w(x)h Fp(])998
1613 y Fo(Mayb)n(e)1131 1634 y Fp(=)p 1200 1607 V 31
w Fk(x)-5 1717 y Fp(for)j(all)p 138 1691 V 16 w Fk(x)k
Fp(::)13 b Fk(Mayb)n(e)f(x)6 b Fp(.)23 b(If)16 b(w)o(e)g(assume)g(that)
h(\()p Fk(the)12 b(Nothing)t Fp(\))k(=)e Fh(?)p Fp(,)i(it)g(is)h
(easily)e(c)o(hec)o(k)o(ed)f(that)j Fk(the)k Fp(is)-5
1778 y(a)c(monad)f(morphism)e(from)h Fk(Mayb)n(e)k Fp(to)e
Fk(Str)5 b Fp(.)22 b(W)l(e)16 b(ha)o(v)o(e)f(that)443
1879 y Fk(the)d Fp([)c Fk(x)17 b Fh(\000)11 b Fk(1)21
b Fh(j)13 b Fk(x)21 b Fh(\025)13 b Fk(1)i Fp(])851 1859
y Fo(Mayb)n(e)984 1879 y Fp(=)31 b([)8 b Fk(x)17 b Fh(\000)11
b Fk(1)20 b Fh(j)14 b Fk(x)20 b Fh(\025)14 b Fk(1)h Fp(])1386
1859 y Fo(Str)-5 1981 y Fp(as)k(an)f(imme)o(diate)d(consequence)i(of)h
(the)f(monad)h(morphism)d(la)o(w.)26 b(This)18 b(mapping)f(em)o(b)q(o)q
(dies)f(the)-5 2041 y(common)e(simpli\014cation)g(of)j(considering)f
(error)g(v)m(alues)g(and)h Fh(?)f Fp(to)h(b)q(e)f(iden)o(tical.)68
2102 y(The)f(biased-c)o(hoice)e(op)q(erator)i(c)o(ho)q(oses)g(the)f
(\014rst)g(of)g(t)o(w)o(o)g(p)q(ossible)h(v)m(alues)f(that)g(is)g(w)o
(ell)f(de\014ned:)489 2199 y(\(?\))87 b(::)46 b Fk(Mayb)n(e)12
b(x)20 b Fh(!)14 b Fk(Mayb)n(e)e(x)20 b Fh(!)13 b Fk(Mayb)n(e)f(x)p
489 2233 V 489 2259 a(x)17 b Fp(?)p 562 2233 V 11 w Fk(y)46
b Fp(=)41 b(if)16 b Fk(exists)p 884 2233 V 13 w(x)23
b Fp(then)p 1040 2233 V 16 w Fk(x)g Fp(else)p 1177 2233
V 15 w Fk(y)t Fj(:)-5 2358 y Fp(The)c(?)f(op)q(eration)i(is)e(asso)q
(ciativ)o(e)h(and)g(has)g Fk(Nothing)24 b Fp(as)19 b(a)g(unit.)28
b(It)18 b(app)q(eared)h(in)g(early)e(v)o(ersions)-5 2418
y(of)g(ML)g([GMW79)q(],)f(and)h(similar)e(op)q(erators)j(app)q(ear)g
(in)e(other)h(languages.)24 b(As)16 b(an)i(example)c(of)j(its)-5
2478 y(use,)f(the)g(term)558 2538 y Fk(the)d Fp(\([)8
b Fk(x)17 b Fh(\000)11 b Fk(1)20 b Fh(j)14 b Fk(x)20
b Fh(\025)14 b Fk(1)7 b Fp(])978 2518 y Fo(Mayb)n(e)1091
2538 y Fp(?)k([)d Fk(0)15 b Fp(])1201 2518 y Fo(Mayb)n(e)1303
2538 y Fp(\))916 2663 y(22)p eop
%%Page: 23 23
23 22 bop -5 -10 a Fp(returns)17 b(the)f(predecessor)g(of)g
Fk(x)23 b Fp(if)15 b(it)h(is)g(non-negativ)o(e,)g(and)h(zero)f
(otherwise.)68 50 y(In)f([W)l(ad85)q(])g(it)f(w)o(as)i(prop)q(osed)g
(to)g(use)f(lists)g(to)g(represen)o(t)f(exceptions,)g(enco)q(ding)i(a)f
(v)m(alue)g Fk(x)22 b Fp(b)o(y)-5 110 y(the)16 b(unit)g(list,)f(and)i
(an)g(exception)e(b)o(y)h(the)g(empt)o(y)e(list.)20 b(This)d(corresp)q
(onds)g(to)g(the)f(mapping)568 199 y Fk(list)232 b Fp(::)46
b Fk(Mayb)n(e)11 b(x)21 b Fh(!)13 b Fk(List)g(x)568 260
y(list)h Fp(\()p Fk(Just)e(x)6 b Fp(\))46 b(=)c([)8 b
Fk(x)14 b Fp(])1009 242 y Fo(List)568 320 y Fk(list)g(Nothing)46
b Fp(=)c([)8 b(])973 302 y Fo(List)-5 410 y Fp(whic)o(h)16
b(is)g(a)h(monad)e(morphism)f(from)h Fk(Mayb)n(e)20 b
Fp(to)d Fk(List)5 b Fp(.)20 b(W)l(e)c(ha)o(v)o(e)g(that)596
504 y Fk(list)e Fp(\()p 692 477 29 2 v Fk(x)j Fp(?)p
765 477 V 11 w Fk(y)t Fp(\))31 b Fh(\022)f Fp(\()p Fk(list)p
1008 477 V 14 w(x)6 b Fp(\))11 b(+)-25 b(+)11 b(\()p
Fk(list)p 1224 477 V 14 w(y)t Fp(\))p Fj(;)-5 598 y Fp(where)h
Fh(\022)h Fp(is)f(the)g(sublist)h(relation.)19 b(Th)o(us,)13
b(exception)f(comprehensions)f(can)i(b)q(e)f(represen)o(ted)g(b)o(y)g
(list)-5 658 y(comprehensions,)18 b(and)h(biased)g(c)o(hoice)e(can)i(b)
q(e)f(represen)o(ted)g(b)o(y)g(list)g(concatenation.)28
b(The)19 b(argu-)-5 718 y(men)o(t)12 b(in)i([W)l(ad85)q(])g(that)g
(list)f(comprehensions)g(pro)o(vide)h(a)g(con)o(v)o(enien)o(t)e
(notation)j(for)f(manipulating)-5 778 y(exceptions)k(can)h(b)q(e)g
(mapp)q(ed,)f(via)g(this)h(morphism,)d(in)o(to)j(an)g(argumen)o(t)e(in)
i(fa)o(v)o(our)f(of)h(exception)-5 838 y(comprehensions!)-5
980 y Fi(7.3)66 b(Input)24 b(and)f(output)-5 1073 y Fp(Fix)e(the)g
(input)h(and)g(output)g(of)g(a)g(program)f(to)h(b)q(e)g(strings)g
(\(e.g.,)f(the)h(input)f(is)g(a)h(sequence)f(of)-5 1133
y(c)o(haracters)e(from)f(a)i(k)o(eyb)q(oard,)g(and)g(the)f(output)h(is)
f(a)g(sequence)f(of)i(c)o(haracters)f(to)h(app)q(ear)g(on)g(a)-5
1193 y(screen\).)h(The)16 b(input)g(and)h(output)g(monads)f(are)g(giv)o
(en)g(b)o(y:)541 1285 y(t)o(yp)q(e)g Fk(In)c(x)83 b Fp(=)41
b Fk(String)19 b Fh(!)14 b Fp(\()p Fk(x)6 b Fj(;)i Fk(String)t
Fp(\))541 1346 y(t)o(yp)q(e)16 b Fk(Out)e(x)48 b Fp(=)41
b(\()p Fk(x)6 b Fj(;)i Fk(String)20 b Fh(!)13 b Fk(String)t
Fp(\))p Fj(:)-5 1439 y Fp(The)j(input)h(monad)e(is)h(a)h(function)f
(from)f(a)i(string)f(\(the)g(input)g(to)h(the)f(program\))g(and)g(to)h
(a)g(pair)f(of)-5 1499 y(a)h(v)m(alue)g(and)g(a)h(string)f(\(the)f
(input)h(to)g(the)g(rest)f(of)h(the)g(program\).)23 b(The)16
b(output)i(monad)e(is)h(a)g(pair)-5 1559 y(of)e(a)h(v)m(alue)e(and)i(a)
f(function)g(from)e(a)j(string)f(\(the)f(output)i(of)f(the)f(rest)h(of)
g(the)g(program\))f(to)i(a)f(string)-5 1619 y(\(the)h(output)h(of)g
(the)f(program\).)68 1679 y(The)i(input)g(monad)g(is)f(iden)o(tical)g
(to)h(the)g(monad)f(of)h(state)h(transformers,)e(\014xing)h(the)f
(state)i(to)-5 1740 y(b)q(e)h(a)f(string;)i(and)e(the)g(op)q(erations)i
Fk(map)s Fp(,)e Fk(unit)5 b Fp(,)20 b(and)g Fk(join)j
Fp(are)c(iden)o(tical)f(to)h(those)h(in)f(the)g(state-)-5
1800 y(transformer)d(monad.)21 b(Tw)o(o)16 b(useful)g(op)q(erations)i
(in)d(the)h(input)g(monad)g(are)619 1889 y Fk(e)n(of)80
b Fp(::)46 b Fk(In)12 b(Bo)n(ol)619 1949 y(e)n(of)74
b Fp(=)42 b Fj(\025)p Fk(i)19 b Fh(!)13 b Fp(\()p Fk(nul)r(l)j(i)5
b Fj(;)j Fk(i)d Fp(\))619 2053 y Fk(r)n(e)n(ad)51 b Fp(::)46
b Fk(In)12 b(Char)619 2113 y(r)n(e)n(ad)45 b Fp(=)d Fj(\025)p
Fk(i)19 b Fh(!)13 b Fp(\()p Fk(he)n(ad)g(i)5 b Fj(;)j
Fk(tail)14 b(i)5 b Fp(\))p Fj(:)-5 2203 y Fp(The)18 b(\014rst)g
(returns)f(true)h(if)f(there)g(is)g(more)f(input)i(to)g(b)q(e)f(read,)h
(the)f(second)h(reads)g(the)f(next)g(input)-5 2263 y(c)o(haracter.)68
2323 y(The)g(output)g(monad)e(is)h(giv)o(en)g(b)o(y)324
2413 y Fk(map)417 2395 y Fo(Out)488 2413 y Fk(f)525 2409
y Ff(b)522 2413 y Fk(x)48 b Fp(=)41 b([)8 b(\()p Fk(f)19
b(x)6 b Fj(;)i Fk(ot)d Fp(\))14 b Fh(j)g Fp(\()p Fk(x)6
b Fj(;)i Fk(ot)d Fp(\))13 b Fh( )1117 2409 y Ff(b)1114
2413 y Fk(x)i Fp(])1165 2395 y Fo(Id)324 2473 y Fk(unit)413
2455 y Fo(Out)485 2473 y Fk(x)85 b Fp(=)41 b(\()p Fk(x)6
b Fj(;)i(\025)p Fk(o)18 b Fh(!)c Fk(o)s Fp(\))324 2537
y Fk(join)410 2519 y Fo(Out)484 2521 y Ff(b)484 2533
y(b)481 2537 y Fk(x)89 b Fp(=)41 b([)8 b(\()p Fk(x)e
Fj(;)i Fk(ot)16 b Fh(\001)11 b Fk(ot)890 2519 y Fg(0)902
2537 y Fp(\))j Fh(j)f Fp(\()984 2533 y Ff(b)981 2537
y Fk(x)7 b Fj(;)h Fk(ot)d Fp(\))13 b Fh( )1176 2521 y
Ff(b)1176 2533 y(b)1174 2537 y Fk(x)6 b Fj(;)16 b Fp(\()p
Fk(x)6 b Fj(;)i Fk(ot)1347 2519 y Fg(0)1359 2537 y Fp(\))14
b Fh( )1458 2533 y Ff(b)1455 2537 y Fk(x)h Fp(])1506
2519 y Fo(Id)1543 2537 y Fj(:)916 2663 y Fp(23)p eop
%%Page: 24 24
24 23 bop -5 -10 a Fp(The)19 b(second)g(comp)q(onen)o(t)f(of)i(the)e
(pair)h(is)g(an)g(output)h(transformer,)e(whic)o(h)g(giv)o(en)h(the)f
(output)i(of)-5 50 y(the)15 b(rest)f(of)h(the)g(program)g(pro)q(duces)g
(the)f(output)i(of)f(this)f(part.)22 b(The)14 b(unit)h(pro)q(duces)g
(no)g(output)h(of)-5 110 y(its)h(o)o(wn,)h(so)g(its)f(output)h
(transformer)f(is)g(the)g(iden)o(tit)o(y)e(function.)24
b(The)18 b(join)f(op)q(eration)h(comp)q(oses)-5 170 y(t)o(w)o(o)e
(output)h(transformers.)k(A)16 b(useful)g(op)q(eration)h(in)f(the)g
(output)h(monad)e(is)638 264 y Fk(write)85 b Fp(::)46
b Fk(Char)18 b Fh(!)c Fk(Out)g Fp(\(\))638 324 y Fk(write)e(c)45
b Fp(=)d(\(\(\))p Fj(;)8 b(\025)p Fk(o)17 b Fh(!)c Fk(c)k
Fp(:)d Fk(o)s Fp(\))p Fj(:)-5 418 y Fp(This)j(adds)g(the)f(c)o
(haracter)f(to)i(b)q(e)f(written)g(on)o(to)h(the)f(head)g(of)h(the)f
(output)h(list.)68 478 y(Alternativ)o(e)e(de\014nitions)i(of)h(the)f
(output)g(monad)g(are)g(p)q(ossible,)h(but)f(these)g(do)g(not)h(b)q
(eha)o(v)o(e)e(as)-5 539 y(w)o(ell)d(as)i(the)e(form)o(ulation)g(giv)o
(en)g(ab)q(o)o(v)o(e.)21 b(One)13 b(alternativ)o(e)g(treats)h(output)h
(as)g(a)f(state)g(transformer,)547 636 y(t)o(yp)q(e)h
Fk(Out)740 616 y Fg(0)761 636 y Fk(x)37 b Fp(=)30 b Fk(String)19
b Fh(!)14 b Fp(\()p Fk(x)6 b Fj(;)i Fk(String)t Fp(\))p
Fj(;)-5 734 y Fp(taking)20 b Fk(map)s Fp(,)h Fk(unit)5
b Fp(,)20 b(and)h Fk(join)j Fp(as)c(in)g(the)g(state)g(transformer)f
(monad.)32 b(The)20 b(write)f(op)q(eration)i(is)-5 794
y(no)o(w)638 840 y Fk(write)85 b Fp(::)46 b Fk(Char)18
b Fh(!)c Fk(Out)1175 822 y Fg(0)1195 840 y Fp(\(\))638
901 y Fk(write)e(c)45 b Fp(=)d Fj(\025)p Fk(o)17 b Fh(!)d
Fp(\(\(\))p Fj(;)8 b Fk(c)16 b Fp(:)e Fk(o)s Fp(\))p
Fj(:)-5 979 y Fp(This)i(form)o(ulation)f(is)g(not)i(so)f(go)q(o)q(d,)i
(b)q(ecause)e(it)f(is)h(to)q(o)h(strict:)j(output)d(will)d(not)j(app)q
(ear)g(un)o(til)d(the)-5 1039 y(program)i(terminates.)k(Another)c
(alternativ)o(e)f(is)335 1133 y(t)o(yp)q(e)h Fk(Out)529
1115 y Fg(00)559 1133 y Fk(x)48 b Fp(=)41 b(\()p Fk(x)6
b Fj(;)i Fk(String)t Fp(\))335 1194 y Fk(map)428 1176
y Fo(Out)489 1165 y Fe(00)520 1194 y Fk(f)556 1190 y
Ff(b)554 1194 y Fk(x)53 b Fp(=)41 b([)8 b(\()p Fk(f)19
b(x)6 b Fj(;)i Fk(o)s Fp(\))14 b Fh(j)f Fp(\()p Fk(x)6
b Fj(;)i Fk(o)s Fp(\))14 b Fh( )1118 1190 y Ff(b)1115
1194 y Fk(x)h Fp(])1166 1176 y Fo(Id)335 1256 y Fk(unit)424
1238 y Fo(Out)485 1226 y Fe(00)517 1256 y Fk(x)90 b Fp(=)41
b(\()p Fk(x)6 b Fj(;)i Fp([)g(]\))335 1320 y Fk(join)421
1302 y Fo(Out)482 1290 y Fe(00)516 1304 y Ff(b)516 1316
y(b)513 1320 y Fk(x)94 b Fp(=)41 b([)8 b(\()p Fk(x)e
Fj(;)i Fk(o)14 b Fp(+)-25 b(+)11 b Fk(o)928 1302 y Fg(0)940
1320 y Fp(\))j Fh(j)f Fp(\()1022 1316 y Ff(b)1019 1320
y Fk(x)7 b Fj(;)h Fk(o)s Fp(\))13 b Fh( )1197 1304 y
Ff(b)1197 1316 y(b)1194 1320 y Fk(x)6 b Fj(;)16 b Fp(\()p
Fk(x)6 b Fj(;)i Fk(o)1349 1302 y Fg(0)1361 1320 y Fp(\))14
b Fh( )1460 1316 y Ff(b)1458 1320 y Fk(x)g Fp(])1508
1302 y Fo(Id)335 1380 y Fk(write)f(c)153 b Fp(=)41 b(\(\(\))p
Fj(;)8 b Fp([)p Fk(c)s Fp(]\))p Fj(:)-5 1477 y Fp(This)16
b(form)o(ulation)d(is)i(also)h(not)g(so)g(go)q(o)q(d,)h(b)q(ecause)e
(the)g(time)e(to)i(p)q(erform)g(the)g(concatenation)g(\(+)-25
b(+\))-5 1537 y(op)q(erations)18 b(is)e(quadratic)g(in)g(the)g(size)f
(of)i(the)f(output)h(in)e(the)h(w)o(orst)h(case.)68 1597
y(Finally)l(,)e(the)h(output)h(and)g(input)f(monads)g(can)g(b)q(e)h
(com)o(bined)d(in)o(to)i(a)g(single)g(monad:)346 1695
y(t)o(yp)q(e)g Fk(InOut)e(x)37 b Fp(=)30 b Fk(String)19
b Fh(!)14 b Fp(\()p Fk(x)6 b Fj(;)i Fk(String)t Fj(;)g
Fk(String)20 b Fh(!)14 b Fk(String)t Fp(\))p Fj(:)-5
1793 y Fp(Suitable)19 b(de\014nitions)g(of)h Fk(map)s
Fp(,)g Fk(unit)5 b Fp(,)20 b(and)g Fk(join)k Fp(are)19
b(left)g(to)g(the)h(reader.)30 b(Useful)19 b(op)q(erations)i(on)-5
1853 y(this)16 b(monad)g(are:)422 1937 y Fk(in)114 b
Fp(::)46 b Fk(In)12 b(x)21 b Fh(!)13 b Fk(InOut)h(x)422
1997 y(in)p 477 1971 29 2 v 13 w(x)74 b Fp(=)41 b Fj(\025)p
Fk(i)19 b Fh(!)14 b Fp([)8 b(\()p Fk(x)e Fj(;)i Fk(i)889
1979 y Fg(0)901 1997 y Fj(;)g(\025)p Fk(o)17 b Fh(!)d
Fk(o)s Fp(\))f Fh(j)h Fp(\()p Fk(x)6 b Fj(;)i Fk(i)1234
1979 y Fg(0)1246 1997 y Fp(\))14 b Fh( )p 1342 1971 V
13 w Fk(x)h(i)e Fp(])1421 1979 y Fo(Id)422 2100 y Fk(out)89
b Fp(::)46 b Fk(Out)14 b(x)20 b Fh(!)14 b Fk(InOut)g(x)422
2160 y(out)505 2156 y Ff(b)503 2160 y Fk(x)48 b Fp(=)41
b Fj(\025)p Fk(i)19 b Fh(!)14 b Fp([)8 b(\()p Fk(x)e
Fj(;)i Fk(i)d Fj(;)j Fk(ot)d Fp(\))14 b Fh(j)f Fp(\()p
Fk(x)6 b Fj(;)i Fk(ot)d Fp(\))14 b Fh( )1231 2156 y Ff(b)1229
2160 y Fk(x)g Fp(])1279 2142 y Fo(Id)422 2263 y Fk(fun)88
b Fp(::)46 b Fk(InOut)14 b Fp(\(\))g Fh(!)g Fp(\()p Fk(String)19
b Fh(!)13 b Fk(String)t Fp(\))422 2324 y Fk(fun)f(~)-24
b(x)48 b Fp(=)41 b Fj(\025)p Fk(i)19 b Fh(!)14 b Fp([)8
b Fk(ot)13 b Fp([)8 b(])13 b Fh(j)h Fp(\(\(\))p Fj(;)8
b Fk(i)1030 2305 y Fg(0)1041 2324 y Fj(;)g Fk(ot)d Fp(\))14
b Fh( )e Fk(~)-24 b(x)15 b(i)e Fp(])1284 2305 y Fo(Id)1321
2324 y Fj(:)-5 2418 y Fp(The)22 b(\014rst)f(t)o(w)o(o)h(are)f(monad)g
(morphisms)f(from)g Fk(In)25 b Fp(and)d Fk(Out)27 b Fp(to)22
b Fk(InOut)5 b Fp(;)24 b(they)d(tak)o(e)g(input-only)-5
2478 y(and)16 b(output-only)g(op)q(erations)g(in)o(to)f(the)g
(input-output)h(monad.)21 b(The)15 b(last)h(tak)o(es)f(a)g(v)m(alue)g
(in)o(to)g(the)-5 2538 y(input-output)i(monad)f(in)o(to)g(a)h(function)
f(from)f(the)h(input)g(to)h(the)f(output.)916 2663 y(24)p
eop
%%Page: 25 25
25 24 bop -5 -10 a Fi(7.4)66 b(Con)n(tin)n(uations)-5
82 y Fp(Fix)16 b(a)g(t)o(yp)q(e)g Fk(R)i Fp(of)e(results.)21
b(The)c(monad)f(of)g(con)o(tin)o(uations)g(is)g(giv)o(en)g(b)o(y)438
188 y(t)o(yp)q(e)f Fk(Cont)f(x)48 b Fp(=)41 b(\()p Fk(x)20
b Fh(!)14 b Fk(R)r Fp(\))f Fh(!)h Fk(R)438 248 y(map)531
230 y Fo(Cont)619 248 y Fk(f)p 653 222 29 2 v 19 w(x)59
b Fp(=)41 b Fj(\025)p Fk(k)20 b Fh(!)p 947 222 V 14 w
Fk(x)14 b Fp(\()p Fj(\025)p Fk(x)21 b Fh(!)14 b Fk(k)g
Fp(\()p Fk(f)19 b(x)6 b Fp(\)\))438 308 y Fk(unit)527
290 y Fo(Cont)616 308 y Fk(x)96 b Fp(=)41 b Fj(\025)p
Fk(k)20 b Fh(!)14 b Fk(k)g(x)438 368 y(join)524 350 y
Fo(Cont)p 613 334 V 613 342 V 613 368 a Fk(x)99 b Fp(=)41
b Fj(\025)p Fk(k)20 b Fh(!)p 947 334 V 947 342 V 14 w
Fk(x)14 b Fp(\()p Fj(\025)p 1030 342 V Fk(x)21 b Fh(!)p
1137 342 V 14 w Fk(x)14 b Fp(\()p Fj(\025)p Fk(x)21 b
Fh(!)14 b Fk(k)g(x)6 b Fp(\)\))p Fj(:)-5 475 y Fp(A)18
b(con)o(tin)o(uation)g(of)g(t)o(yp)q(e)g Fk(x)25 b Fp(tak)o(es)17
b(a)i(con)o(tin)o(uation)f(function)g Fk(k)23 b Fp(::)16
b Fk(x)24 b Fh(!)17 b Fk(R)r Fp(,)g(whic)o(h)h(sp)q(eci\014es)g(ho)o(w)
-5 535 y(to)e(tak)o(e)e(a)i(v)m(alue)e(of)i(t)o(yp)q(e)e
Fk(x)22 b Fp(in)o(to)14 b(a)i(result)e(of)i(t)o(yp)q(e)e
Fk(R)r Fp(,)g(and)i(returns)f(a)h(result)e(of)h(t)o(yp)q(e)g
Fk(R)r Fp(.)20 b(The)15 b(unit)-5 595 y(tak)o(es)i(a)g(v)m(alue)f
Fk(x)23 b Fp(in)o(to)16 b(the)g(con)o(tin)o(uation)h
Fj(\025)p Fk(k)j Fh(!)15 b Fk(k)f(x)23 b Fp(that)17 b(applies)f(the)g
(con)o(tin)o(uation)g(function)h(to)-5 656 y(the)f(giv)o(en)g(v)m
(alue.)21 b(W)l(e)16 b(ha)o(v)o(e)f(that)242 766 y([)8
b(\()p Fk(x)e Fj(;)i Fk(y)t Fp(\))14 b Fh(j)g Fk(x)20
b Fh( )p 528 739 V 14 w Fk(x)6 b Fj(;)16 b Fk(y)i Fh( )p
692 739 V 14 w Fk(y)12 b Fp(])742 745 y Fo(Cont)853 766
y Fp(=)30 b Fj(\025)p Fk(k)20 b Fh(!)p 1055 739 V 14
w Fk(x)15 b Fp(\()p Fj(\025)p Fk(x)20 b Fh(!)p 1245 739
V 14 w Fk(y)12 b Fp(\()p Fj(\025)p Fk(y)19 b Fh(!)13
b Fk(k)h Fp(\()p Fk(x)6 b Fj(;)i Fk(y)t Fp(\)\)\))p Fj(:)-5
876 y Fp(This)18 b(can)f(b)q(e)g(read)h(as)f(follo)o(ws:)23
b(ev)m(aluate)p 808 849 V 17 w Fk(x)7 b Fp(,)17 b(bind)g
Fk(x)23 b Fp(to)18 b(the)f(result,)f(then)h(ev)m(aluate)p
1625 849 V 17 w Fk(y)t Fp(,)g(bind)g Fk(y)22 b Fp(to)-5
936 y(the)16 b(result,)g(then)g(return)g(the)g(pair)g(\()p
Fk(x)6 b Fj(;)i Fk(y)t Fp(\).)68 996 y(A)16 b(useful)g(op)q(eration)h
(in)f(this)g(monad)g(is)418 1102 y Fk(c)n(al)r(lc)n(c)86
b Fp(::)47 b(\(\()p Fk(x)20 b Fh(!)13 b Fk(Cont)h(y)t
Fp(\))g Fh(!)f Fk(Cont)h(x)6 b Fp(\))14 b Fh(!)f Fk(Cont)h(x)418
1162 y(c)n(al)r(lc)n(c)f(g)46 b Fp(=)c Fj(\025)p Fk(k)20
b Fh(!)13 b Fk(g)g Fp(\()p Fj(\025)p Fk(x)21 b Fh(!)14
b Fj(\025)p Fk(k)1069 1144 y Fg(0)1095 1162 y Fh(!)g
Fk(k)g(x)6 b Fp(\))i Fk(k)d Fj(:)-5 1271 y Fp(This)23
b(mimi)o(cs)d(the)i(\\call)h(with)f(curren)o(t)g(con)o(tin)o(uation")g
(\(or)h Fk(c)n(al)r(l)5 b Fp(/)r Fk(c)n(c)s Fp(\))23
b(op)q(eration)h(p)q(opular)f(from)-5 1331 y(Sc)o(heme)14
b([R)o(C86].)21 b(F)l(or)16 b(example,)e(the)i(Sc)o(heme)e(program)365
1441 y(\()p Fk(c)n(al)r(l)5 b Fp(/)r Fk(c)n(c)19 b Fp(\()p
Fk(lamb)n(da)h Fp(\()p Fk(esc)s Fp(\)\()p Fj(=)d Fk(x)23
b Fp(\()p Fk(if)k Fp(\(=)j Fk(y)20 b(0)7 b Fp(\))16 b(\()p
Fk(esc)k(42)7 b Fp(\))15 b Fk(y)t Fp(\)\)\)\))-5 1551
y(translates)i(to)g(the)f(equiv)m(alen)o(t)e(program)239
1661 y Fk(c)n(al)r(lc)n(c)e Fp(\()p Fj(\025)p Fk(esc)18
b Fh(!)c Fp([)8 b Fk(x)e Fj(=)p Fk(z)20 b Fh(j)14 b Fk(z)20
b Fh( )13 b Fp(if)j Fk(y)i Fp(=)-25 b(=)14 b Fk(0)23
b Fp(then)16 b Fk(esc)c(42)23 b Fp(else)15 b([)8 b Fk(y)k
Fp(])1426 1641 y Fo(Cont)1515 1661 y Fp(])1529 1641 y
Fo(Cont)1609 1661 y Fp(\))p Fj(:)-5 1771 y Fp(Both)18
b(of)g(these)f(programs)g(bind)h Fk(esc)j Fp(to)d(an)g(escap)q(e)g
(function)f(that)h(returns)f(its)h(argumen)o(t)e(as)i(the)-5
1832 y(v)m(alue)i(of)g(the)f(en)o(tire)f Fk(c)n(al)r(lc)n(c)24
b Fp(expression.)32 b(They)19 b(then)h(return)f(the)g(v)m(alue)h(of)g
Fk(x)26 b Fp(divided)18 b(b)o(y)i Fk(y)t Fp(,)g(or)-5
1892 y(return)c(42)h(if)f Fk(y)k Fp(is)c(zero.)-5 2058
y Fq(8)81 b(T)-7 b(ranslation)-5 2168 y Fp(In)19 b(Section)f(4,)h(w)o
(e)g(sa)o(w)g(that)g(a)g(function)g(of)g(t)o(yp)q(e)f
Fk(U)26 b Fh(!)18 b Fk(V)28 b Fp(in)19 b(an)g(impure)e(functional)h
(language)-5 2228 y(that)e(manipulates)e(state)h(corresp)q(onds)h(to)g
(a)f(function)g(of)g(t)o(yp)q(e)g Fk(U)22 b Fh(!)13 b
Fk(ST)j(V)24 b Fp(in)15 b(a)g(pure)g(functional)-5 2288
y(language.)38 b(The)22 b(corresp)q(ondence)g(w)o(as)g(dra)o(wn)g(in)f
(an)h(informal)e(w)o(a)o(y)l(,)i(so)g(w)o(e)g(migh)o(t)e(ask,)i(what)-5
2348 y(assurance)d(is)g(there)e(that)i Fk(every)k Fp(program)c(can)f(b)
q(e)h(translated)f(in)g(a)h(similar)d(w)o(a)o(y?)28 b(This)18
b(section)-5 2409 y(pro)o(vides)12 b(that)g(assurance,)i(in)d(the)h
(form)f(of)i(a)f(translation)h(of)f Fj(\025)p Fp(-calculus)g(in)o(to)g
(an)h(arbitrary)f(monad.)-5 2469 y(This)18 b(allo)o(ws)g(us)g(to)g
(translate)g(not)h(only)e(programs)h(that)g(manipulate)f(state,)h(but)g
(also)g(programs)-5 2529 y(that)h(raise)g(exceptions,)f(call)g(con)o
(tin)o(uations,)h(and)g(so)g(on.)29 b(Indeed,)19 b(w)o(e)f(shall)g(see)
h(that)g(there)f(are)916 2663 y(25)p eop
%%Page: 26 26
26 25 bop -5 -10 a Fp(t)o(w)o(o)20 b(translations,)i(one)f(call-b)o
(y-v)m(alue)e(and)i(one)f(call-b)o(y-name.)31 b(The)21
b(target)f(language)i(of)e(b)q(oth)-5 50 y(translations)d(is)f(a)h
(pure,)f(non-strict)g Fj(\025)p Fp(-calculus,)g(augmen)o(ted)f(with)h
Fk(M)8 b Fp(-comprehensions.)68 110 y(W)l(e)17 b(will)f(p)q(erform)g
(our)i(translations)g(on)g(a)f(simple)e(t)o(yp)q(ed)i(lam)o(b)q(da)f
(calculus.)23 b(W)l(e)17 b(will)f(use)h Fk(T)7 b Fp(,)-5
170 y Fk(U)h Fp(,)16 b Fk(V)26 b Fp(to)16 b(range)h(o)o(v)o(er)e(t)o
(yp)q(es,)h(and)h Fk(K)24 b Fp(to)16 b(range)h(o)o(v)o(er)e(base)i(t)o
(yp)q(es.)k(A)16 b(t)o(yp)q(e)g(is)g(either)f(a)h(base)h(t)o(yp)q(e,)-5
230 y(function)f(t)o(yp)q(e,)g(or)g(pro)q(duct)h(t)o(yp)q(e:)542
330 y Fk(T)7 b Fj(;)h Fk(U)g Fj(;)g Fk(V)39 b Fp(::=)30
b Fk(K)21 b Fh(j)14 b Fp(\()p Fk(U)22 b Fh(!)14 b Fk(V)9
b Fp(\))14 b Fh(j)f Fp(\()p Fk(U)8 b Fj(;)g Fk(V)i Fp(\))p
Fj(:)-5 430 y Fp(W)l(e)16 b(will)e(use)i Fk(t)5 b Fp(,)15
b Fk(u)t Fp(,)h Fk(v)21 b Fp(to)16 b(range)h(o)o(v)o(er)e(terms,)e(and)
k Fk(x)22 b Fp(to)16 b(range)g(o)o(v)o(er)f(v)m(ariables.)21
b(A)15 b(term)f(is)i(either)f(a)-5 490 y(v)m(ariable,)h(an)g
(abstraction,)h(an)g(application,)e(a)i(pair,)f(or)g(a)h(selection:)350
590 y Fk(t)5 b Fj(;)j Fk(u)t Fj(;)g Fk(v)36 b Fp(::=)29
b Fk(x)21 b Fh(j)13 b Fp(\()p Fj(\025)p Fk(x)21 b Fh(!)14
b Fk(v)5 b Fp(\))14 b Fh(j)g Fp(\()p Fk(t)f(u)t Fp(\))h
Fh(j)g Fp(\()p Fk(u)t Fj(;)8 b Fk(v)d Fp(\))14 b Fh(j)f
Fp(\()p Fk(fst)h(t)5 b Fp(\))13 b Fh(j)h Fp(\()p Fk(snd)g(t)5
b Fp(\))p Fj(:)-5 690 y Fp(In)13 b(the)g(follo)o(wing,)g(w)o(e)g
(usually)f(giv)o(e)h(the)f(case)i(for)f(\()p Fk(fst)g(t)5
b Fp(\))13 b(but)g(omit)f(that)i(for)f(\()p Fk(snd)h(t)5
b Fp(\),)13 b(since)f(the)h(t)o(w)o(o)-5 750 y(are)j(nearly)f(iden)o
(tical.)k(W)l(e)c(will)g(use)g Fk(A)h Fp(to)g(range)g(o)o(v)o(er)f
(assumptions,)g(whic)o(h)g(are)h(lists)f(asso)q(ciating)-5
810 y(v)m(ariables)h(with)h(t)o(yp)q(es:)636 871 y Fk(A)31
b Fp(::=)e Fk(x)820 878 y Fo(1)859 871 y Fp(::)13 b Fk(T)935
878 y Fo(1)960 871 y Fj(;)8 b(:)g(:)g(:)f(;)h Fk(x)1091
878 y Fo(n)1130 871 y Fp(::)13 b Fk(T)1206 878 y Fo(n)1231
871 y Fj(:)-5 953 y Fp(W)l(e)j(write)g(the)g(t)o(yping)g
Fk(A)e Fh(`)g Fk(t)19 b Fp(::)13 b Fk(T)23 b Fp(to)17
b(indicate)e(that)i(under)f(assumption)g Fk(A)h Fp(the)f(term)e
Fk(t)22 b Fp(has)17 b(t)o(yp)q(e)-5 1014 y Fk(T)7 b Fp(.)25
b(The)17 b(inference)f(rules)h(for)h(w)o(ell-t)o(ypings)e(in)h(this)h
(calculus)f(are)g(w)o(ell)f(kno)o(wn,)i(and)g(can)g(b)q(e)f(seen)-5
1074 y(on)g(the)f(left)f(hand)i(sides)f(of)h(Figures)f(8)h(and)f(10.)68
1134 y(The)g(call-b)o(y-v)m(alue)e(translation)i(of)f
Fk(lamb)n(da)t Fp(-calculus)g(in)o(to)g(a)g(monad)g Fk(M)23
b Fp(is)15 b(giv)o(en)f(in)h(Figure)g(7.)-5 1194 y(The)i(translation)h
(of)g(the)f(t)o(yp)q(e)f Fk(T)24 b Fp(is)17 b(written)g
Fk(T)919 1176 y Fg(\003)955 1194 y Fp(and)h(the)f(translation)h(of)f
(the)g(term)e Fk(t)23 b Fp(is)17 b(written)-5 1254 y
Fk(t)16 1236 y Fg(\003)36 1254 y Fp(.)k(The)16 b(rule)g(for)g
(translating)h(function)f(t)o(yp)q(es,)639 1354 y(\()p
Fk(U)21 b Fh(!)14 b Fk(V)9 b Fp(\))843 1334 y Fg(\003)894
1354 y Fp(=)30 b Fk(U)1006 1334 y Fg(\003)1040 1354 y
Fh(!)13 b Fk(M)j(V)1208 1334 y Fg(\003)1228 1354 y Fj(;)-5
1454 y Fp(can)f(b)q(e)g(read)g(\\a)g(call-b)o(y-v)m(alue)f(function)g
(tak)o(es)g(as)h(its)g(argumen)o(t)e(a)i Fk(value)20
b Fp(of)15 b(t)o(yp)q(e)f Fk(U)23 b Fp(and)15 b(returns)-5
1514 y(a)22 b Fk(c)n(omputation)j Fp(of)d(t)o(yp)q(e)f
Fk(V)9 b Fp(.")37 b(This)21 b(corresp)q(onds)i(to)e(the)h(translation)f
(in)g(Section)g(4,)i(where)e(a)-5 1574 y(function)e(of)g(t)o(yp)q(e)f
Fk(U)26 b Fh(!)18 b Fk(V)28 b Fp(in)19 b(the)f(\(impure\))f(source)i
(language)g(is)g(translated)g(to)g(a)g(function)g(of)-5
1635 y(t)o(yp)q(e)14 b Fk(U)22 b Fh(!)14 b Fk(M)i(V)23
b Fp(in)14 b(the)h(\(pure\))f(target)h(language.)21 b(Eac)o(h)15
b(of)f(the)h(rules)f(for)g(translating)h(terms)e(has)-5
1695 y(a)k(straigh)o(tforw)o(ard)g(computational)e(reading.)22
b(F)l(or)16 b(example,)e(the)i(rule)f(for)i(applications,)467
1795 y(\()p Fk(t)c(u)t Fp(\))564 1774 y Fg(\003)614 1795
y Fp(=)30 b([)8 b Fk(y)18 b Fh(j)c Fk(f)24 b Fh( )14
b Fk(t)898 1774 y Fg(\003)917 1795 y Fj(;)j Fk(x)j Fh( )14
b Fk(u)1084 1774 y Fg(\003)1103 1795 y Fj(;)i Fk(y)i
Fh( )c Fp(\()p Fk(f)19 b(x)6 b Fp(\))i(])1361 1774 y
Fo(M)1400 1795 y Fj(;)-5 1895 y Fp(can)21 b(b)q(e)g(read)f(\\to)i
(apply)e Fk(t)26 b Fp(to)20 b Fk(u)t Fp(,)i(\014rst)e(ev)m(aluate)h
Fk(t)k Fp(\(call)20 b(the)g(result)g Fk(f)11 b Fp(\),)21
b(then)f(ev)m(aluate)g Fk(u)25 b Fp(\(call)-5 1955 y(the)d(result)g
Fk(x)6 b Fp(\),)24 b(then)e(apply)g Fk(f)33 b Fp(to)23
b Fk(x)29 b Fp(\(call)21 b(the)h(result)g Fk(y)t Fp(\))g(and)h(return)f
Fk(y)t Fp(.")40 b(This)23 b(is)f(what)h(one)-5 2015 y(w)o(ould)16
b(exp)q(ect)f(in)h(a)g(call-b)o(y-v)m(alue)e(language)j({)f(the)g
(argumen)o(t)f(is)g(ev)m(aluated)h(b)q(efore)g(the)f(function)-5
2075 y(is)h(applied.)21 b(If)636 2135 y Fk(x)658 2142
y Fo(1)697 2135 y Fp(::)13 b Fk(T)773 2142 y Fo(1)798
2135 y Fj(;)8 b(:)g(:)g(:)f(;)h Fk(x)929 2142 y Fo(n)968
2135 y Fp(::)13 b Fk(T)1044 2142 y Fo(n)1083 2135 y Fh(`)h
Fk(t)19 b Fp(::)13 b Fk(T)-5 2218 y Fp(is)j(a)h(w)o(ell-t)o(yping)e(in)
h(the)g(source)g(language,)h(then)f(its)g(translation)585
2318 y Fk(x)607 2325 y Fo(1)646 2318 y Fp(::)d Fk(T)729
2297 y Fg(\003)722 2330 y Fo(1)748 2318 y Fj(;)8 b(:)g(:)g(:)g(;)g
Fk(x)880 2325 y Fo(n)919 2318 y Fp(::)k Fk(T)1001 2297
y Fg(\003)994 2330 y Fo(n)1035 2318 y Fh(`)i Fk(t)1100
2297 y Fg(\003)1133 2318 y Fp(::)f Fk(M)j(T)1276 2297
y Fg(\003)-5 2418 y Fp(is)d(a)g(w)o(ell-t)o(yping)e(in)i(the)f(target)h
(language.)21 b(Lik)o(e)12 b(the)h(argumen)o(ts)f(of)h(a)g(function,)g
(the)f(free)g(v)m(ariables)-5 2478 y(corresp)q(ond)18
b(to)e Fk(values)p Fp(,)i(while,)d(lik)o(e)f(the)j(result)f(of)g(a)h
(function,)f(the)g(term)f(corresp)q(onds)i(to)g(a)g Fk(c)n(om-)-5
2538 y(putation)p Fp(.)22 b(Figure)14 b(8)i(demonstrates)e(that)i(the)e
(call-b)o(y-v)m(alue)g(translation)i(preserv)o(es)e(w)o(ell-t)o
(ypings:)916 2663 y(26)p eop
%%Page: 27 27
27 26 bop -5 -10 a Fp(a)20 b(term)e(that)h(is)g(w)o(ell-t)o(yp)q(ed)f
(in)h(the)g(source)h(language)g(translates)g(to)f(one)h(that)f(is)h(w)o
(ell-t)o(yp)q(ed)d(in)-5 50 y(the)f(target)h(language.)68
110 y(The)f(call-b)o(y-name)d(translation)j(of)g Fj(\025)p
Fp(-calculus)f(in)o(to)g(a)h(monad)f Fk(M)23 b Fp(is)15
b(giv)o(en)g(in)g(Figure)g(9.)21 b(No)o(w)-5 170 y(the)d(translation)h
(of)g(the)f(t)o(yp)q(e)f Fk(T)25 b Fp(is)18 b(written)g
Fk(T)911 152 y Fg(y)947 170 y Fp(and)g(the)g(translation)h(of)g(the)f
(term)e Fk(t)24 b Fp(is)18 b(written)-5 230 y Fk(t)16
212 y Fg(y)34 230 y Fp(.)j(The)16 b(rule)g(for)h(translating)f
(function)g(t)o(yp)q(es,)612 339 y(\()p Fk(U)22 b Fh(!)13
b Fk(V)d Fp(\))817 318 y Fg(y)865 339 y Fp(=)30 b Fk(M)16
b(U)1037 318 y Fg(y)1069 339 y Fh(!)d Fk(M)j(V)1237 318
y Fg(y)1255 339 y Fj(;)-5 447 y Fp(can)g(b)q(e)f(read)h(\\a)g(call-b)o
(y-name)d(function)i(tak)o(es)g(as)h(its)f(argumen)o(t)g(a)g
Fk(c)n(omputation)20 b Fp(of)15 b(t)o(yp)q(e)g Fk(U)23
b Fp(and)-5 507 y(returns)17 b(a)f Fk(c)n(omputation)k
Fp(of)d(t)o(yp)q(e)f Fk(V)9 b Fp(.")22 b(The)16 b(rule)g(for)g
(applications,)552 616 y(\()p Fk(t)d(u)t Fp(\))649 595
y Fg(y)697 616 y Fp(=)31 b([)8 b Fk(y)17 b Fh(j)d Fk(f)24
b Fh( )14 b Fk(t)981 595 y Fg(y)999 616 y Fj(;)i Fk(y)i
Fh( )13 b Fp(\()p Fk(f)19 b(u)1217 595 y Fg(y)1235 616
y Fp(\))8 b(])1276 595 y Fo(M)1315 616 y Fj(;)-5 724
y Fp(can)16 b(b)q(e)g(read)g(\\to)g(apply)g Fk(t)k Fp(to)c
Fk(u)t Fp(,)g(\014rst)g(ev)m(aluate)f Fk(t)21 b Fp(\(call)15
b(the)g(result)g Fk(f)c Fp(\),)k(then)h(apply)f Fk(f)26
b Fp(to)16 b(the)g(term)-5 785 y Fk(u)25 b Fp(\(call)20
b(the)h(result)f Fk(y)t Fp(\))h(and)h(return)e Fk(y)t
Fp(.")36 b(This)21 b(is)g(what)g(one)g(w)o(ould)g(exp)q(ect)f(in)h(a)g
(call-b)o(y-name)-5 845 y(language)e({)f(the)f(argumen)o(t)f
Fk(u)21 b Fp(is)d(passed)g(unev)m(aluated,)f(and)h(is)g(ev)m(aluated)f
(eac)o(h)g(time)e(it)i(is)g(used.)-5 905 y(The)g(w)o(ell-t)o(yping)d
(in)i(the)g(source)g(language)i(giv)o(en)d(previously)g(no)o(w)i
(translates)g(to)522 1013 y Fk(x)544 1020 y Fo(1)583
1013 y Fp(::)c Fk(M)j(T)726 990 y Fg(y)719 1024 y Fo(1)743
1013 y Fj(;)8 b(:)g(:)g(:)g(;)g Fk(x)875 1020 y Fo(n)914
1013 y Fp(::)13 b Fk(M)i(T)1056 993 y Fg(y)1049 1026
y Fo(n)1088 1013 y Fh(`)f Fk(t)1153 993 y Fg(y)1185 1013
y Fp(::)f Fk(M)j(T)1328 993 y Fg(y)1345 1013 y Fj(;)-5
1122 y Fp(whic)o(h)e(is)h(again)g(a)g(w)o(ell-t)o(yping)e(in)i(the)f
(target)h(language.)22 b(This)15 b(time)d(b)q(oth)k(the)e(free)g(v)m
(ariables)g(and)-5 1182 y(the)j(term)e(corresp)q(ond)i(to)g
Fk(c)n(omputations)p Fp(,)g(re\015ecting)f(that)h(in)f(a)h(call-b)o
(y-name)e(language)i(the)g(free)-5 1242 y(v)m(ariables)d(corresp)q(ond)
h(to)f(computations)f(\(or)i(closures\))e(that)h(m)o(ust)f(b)q(e)h(ev)m
(aluated)g(eac)o(h)f(time)f(they)-5 1302 y(are)g(used.)20
b(Figure)12 b(10)h(demonstrates)e(that)h(the)g(call-b)o(y-name)e
(translation)j(preserv)o(es)e(w)o(ell-t)o(ypings.)68
1363 y(In)h(particular,)g(the)g(call-b)o(y-v)m(alue)f(in)o
(trepretation)g(in)g(the)h(strictness)g(monad)f Fk(Str)18
b Fp(of)12 b(Section)g(3.2)-5 1423 y(yields)i(the)h(usual)g(strict)g
(seman)o(tics)e(of)i Fj(\025)p Fp(-calculus,)g(whereas)h(the)e(call-b)o
(y-name)f(in)o(terpretation)h(in)-5 1483 y(the)i(same)f(monad)h(yields)
f(the)h(usual)h(lazy)f(seman)o(tics.)68 1543 y(If)h(w)o(e)h(use)f(the)g
(monad)g(of,)h(sa)o(y)l(,)f(state)h(transformers,)f(then)g(the)h
(call-b)o(y-v)m(alue)e(in)o(terpretation)-5 1603 y(yields)f(the)h
(usual)h(seman)o(tics)d(of)j(a)f Fj(\025)p Fp(-calculus)g(with)g
(assignmen)o(t.)k(The)d(call-b)o(y-name)d(in)o(terpreta-)-5
1663 y(tion)h(yields)f(a)h(seman)o(tics)e(where)i(the)g(state)g
(transformation)g(sp)q(eci\014ed)f(b)o(y)h(a)g(v)m(ariable)g(o)q(ccurs)
g Fk(e)n(ach)-5 1724 y Fp(time)h(the)h(v)m(ariable)h(is)g(accessed.)25
b(This)18 b(explains)f(wh)o(y)h(the)f(second)h(translation)h(is)e
(titled)g(call-b)o(y-)-5 1784 y(name)f(rather)i(than)f(call-b)o
(y-need.)23 b(Of)17 b(course,)g(since)f(the)h(target)h(of)f(b)q(oth)h
(the)f(call-b)o(y-v)m(alue)f(and)-5 1844 y(call-b)o(y-name)h
(translations)i(is)g(a)g(pure,)f(non-strict)h Fj(\025)p
Fp(-calculus,)g(there)f(is)g(no)h(problem)e(with)i(exe-)-5
1904 y(cuting)14 b(programs)g(translated)h(b)o(y)f(either)f(sc)o(heme)e
(in)j(a)h(lazy)e(\(i.e.,)g(call-b)o(y-need\))g(implem)o(e)o(n)o
(tation.)-5 2048 y Fi(8.1)66 b(Example:)31 b(Non-determinism)-5
2141 y Fp(As)23 b(a)g(more)f(detailed)g(example)e(of)k(the)e
(application)h(of)g(the)g(translation)g(sc)o(hemes,)f(consider)h(a)-5
2201 y(small)12 b(non-deterministic)e(language.)21 b(This)13
b(consists)h(of)f(the)g Fj(\025)p Fp(-calculus)g(as)h(de\014ned)e(ab)q
(o)o(v)o(e)h(with)g(its)-5 2261 y(syn)o(tax)g(extended)f(to)h(include)e
(a)i(non-deterministic)e(c)o(hoice)g(op)q(erator)j(\()p
Fh(t)p Fp(\))f(and)g(simple)e(arithmetic:)549 2370 y
Fk(t)5 b Fj(;)j Fk(u)t Fj(;)g Fk(v)36 b Fp(::=)29 b Fh(\001)8
b(\001)g(\001)14 b(j)g Fp(\()p Fk(u)h Fh(t)c Fk(v)5 b
Fp(\))15 b Fh(j)e Fk(n)18 b Fh(j)c Fp(\()p Fk(u)h Fp(+)c
Fk(v)5 b Fp(\))p Fj(;)-5 2478 y Fp(where)13 b Fk(n)18
b Fp(ranges)c(o)o(v)o(er)f(in)o(teger)f(constan)o(ts.)21
b(This)14 b(language)g(is)f(t)o(yp)q(ed)g(just)h(as)g(for)g(lam)o(b)q
(da)e(calculus.)-5 2538 y(W)l(e)17 b(assume)f(a)h(base)g(t)o(yp)q(e)f
Fk(Int)5 b Fp(,)16 b(and)i(that)f(the)f(additional)h(constructs)g(t)o
(yp)q(ed)f(as)h(follo)o(ws:)22 b(for)17 b(an)o(y)916
2663 y(27)p eop
%%Page: 28 28
28 27 bop -5 -10 a Fp(t)o(yp)q(e)18 b Fk(T)7 b Fp(,)18
b(if)f Fk(u)k Fp(::)16 b Fk(T)25 b Fp(and)18 b Fk(v)23
b Fp(::)16 b Fk(T)25 b Fp(then)18 b(\()p Fk(u)e Fh(t)d
Fk(v)5 b Fp(\))17 b(::)f Fk(T)7 b Fp(;)18 b(and)h Fk(n)i
Fp(::)16 b Fk(Int)5 b Fp(;)19 b(and)g(if)e Fk(u)k Fp(::)16
b Fk(Int)23 b Fp(and)c Fk(v)k Fp(::)16 b Fk(Int)-5 50
y Fp(then)g(\()p Fk(u)f Fp(+)c Fk(v)5 b Fp(\))15 b(::)e
Fk(Int)5 b Fp(.)21 b(F)l(or)c(example,)c(the)j(term)694
160 y(\(\()p Fj(\025)p Fk(a)i Fh(!)13 b Fk(a)i Fp(+)c
Fk(a)t Fp(\))d(\()p Fk(1)18 b Fh(t)11 b Fk(2)c Fp(\)\))-5
270 y(has)22 b(the)e(t)o(yp)q(e)h Fk(Int)5 b Fp(.)35
b(Under)20 b(a)h(call-b)o(y-v)m(alue)f(in)o(terpretation)g(w)o(e)g(w)o
(ould)h(exp)q(ect)f(this)h(to)g(return)-5 330 y(either)13
b Fk(2)21 b Fp(or)15 b Fk(4)21 b Fp(\(i.e.,)12 b Fk(1)i
Fp(+)7 b Fk(1)20 b Fp(or)15 b Fk(2)e Fp(+)7 b Fk(2)g
Fp(\),)14 b(whereas)g(under)g(a)h(call-b)o(y-name)d(in)o(terpretation)h
(w)o(e)h(w)o(ould)-5 390 y(exp)q(ect)i(this)g(to)g(return)g
Fk(2)23 b Fp(or)17 b Fk(3)23 b Fp(or)17 b Fk(4)23 b Fp(\(i.e.,)14
b Fk(1)j Fp(+)11 b Fk(1)23 b Fp(or)17 b Fk(1)h Fp(+)11
b Fk(2)23 b Fp(or)16 b Fk(2)i Fp(+)11 b Fk(1)23 b Fp(or)17
b Fk(2)g Fp(+)11 b Fk(2)c Fp(\).)68 450 y(W)l(e)19 b(will)e(giv)o(e)h
(the)g(seman)o(tics)f(of)i(this)f(language)i(b)o(y)e(in)o(terpreting)f
(the)h Fj(\025)p Fp(-calculus)h(in)f(the)g(set)-5 511
y(monad,)e(as)g(sp)q(eci\014ed)g(in)g(Section)g(2.3.)21
b(In)16 b(what)h(follo)o(ws)f(w)o(e)g(will)f(write)g
Fh(f)8 b Fk(t)19 b Fh(j)14 b Fk(q)f Fh(g)j Fp(in)g(preference)f(to)-5
571 y(the)h(more)f(cum)o(b)q(ersome)f([)8 b Fk(t)18 b
Fh(j)c Fk(q)f Fp(])614 553 y Fo(Set)667 571 y Fp(.)68
631 y(The)i(call-b)o(y-v)m(alue)f(in)o(terpretation)g(for)i(this)e
(language)i(is)f(pro)o(vided)f(b)o(y)h(the)f(rules)h(in)g(Figure)f(7,)
-5 691 y(c)o(ho)q(osing)j Fk(M)24 b Fp(to)17 b(b)q(e)f(the)g(monad)g
Fk(Set)5 b Fp(,)17 b(together)f(with)g(the)g(rules:)504
797 y(\()p Fk(u)f Fh(t)c Fk(v)5 b Fp(\))654 779 y Fg(\003)721
797 y Fp(=)41 b Fk(u)830 779 y Fg(\003)861 797 y Fh([)11
b Fk(v)932 779 y Fg(\003)504 857 y Fk(n)535 839 y Fg(\003)721
857 y Fp(=)41 b Fh(f)p Fk(n)t Fh(g)504 917 y Fp(\()p
Fk(u)15 b Fp(+)c Fk(v)5 b Fp(\))659 899 y Fg(\003)721
917 y Fp(=)41 b Fh(f)8 b Fk(x)18 b Fp(+)11 b Fk(y)18
b Fh(j)13 b Fk(x)20 b Fh( )14 b Fk(u)1127 899 y Fg(\003)1147
917 y Fj(;)i Fk(y)i Fh( )13 b Fk(v)1309 899 y Fg(\003)1338
917 y Fh(g)p Fj(:)-5 1024 y Fp(These)22 b(rules)f(translate)h(a)g(term)
e(of)i(t)o(yp)q(e)f Fk(T)29 b Fp(in)21 b(the)g(non-deterministic)f
(language)i(in)o(to)g(a)g(term)-5 1084 y(of)g(t)o(yp)q(e)f
Fk(Set)14 b(T)28 b Fp(in)21 b(a)g(pure)h(functional)f(language)h
(augmen)o(ted)e(with)h(set)h(comprehensions.)35 b(F)l(or)-5
1144 y(example,)14 b(the)i(term)e(ab)q(o)o(v)o(e)j(translates)f(to)376
1254 y Fh(f)8 b Fk(y)18 b Fh(j)c Fk(f)24 b Fh( )14 b(f)8
b Fp(\()p Fj(\025)p Fk(a)18 b Fh(!)c(f)8 b Fk(x)830 1236
y Fg(0)853 1254 y Fp(+)j Fk(y)930 1236 y Fg(0)956 1254
y Fh(j)i Fk(x)1011 1236 y Fg(0)1037 1254 y Fh( )h(f)p
Fk(a)t Fh(g)p Fj(;)h Fk(y)1237 1236 y Fg(0)1263 1254
y Fh( )f(f)p Fk(a)t Fh(g)8 b(g)p Fp(\))g Fh(g)p Fj(;)479
1315 y Fk(x)20 b Fh( )14 b(f)p Fk(1)7 b Fh(g)k([)g(f)p
Fk(2)c Fh(g)p Fj(;)479 1375 y Fk(y)18 b Fh( )c Fp(\()p
Fk(f)k(x)6 b Fp(\))i Fh(g)-5 1484 y Fp(whic)o(h)16 b(has)h(the)f(v)m
(alue)g Fh(f)p Fk(2)7 b Fj(;)h Fk(4)f Fh(g)p Fp(,)15
b(as)i(exp)q(ected.)68 1544 y(The)c(call-b)o(y-name)e(translation)i(of)
g(the)g(same)e(language)j(is)f(pro)o(vided)f(b)o(y)g(the)g(rules)g(in)h
(Figure)f(9.)-5 1604 y(The)20 b(rules)e(for)i(\()p Fk(u)d
Fh(t)c Fk(v)5 b Fp(\),)20 b Fk(n)t Fp(,)g(and)g(\()p
Fk(u)d Fp(+)c Fk(v)5 b Fp(\))20 b(are)f(the)g(same)f(as)i(the)f(call-b)
o(y-v)m(alue)g(rules,)g(replacing)-5 1665 y(\()p Fh(\000)p
Fp(\))72 1647 y Fg(\003)108 1665 y Fp(with)d(\()p Fh(\000)p
Fp(\))296 1647 y Fg(y)313 1665 y Fp(.)22 b(No)o(w)16
b(the)g(same)f(term)g(translates)h(to)426 1775 y Fh(f)8
b Fk(y)18 b Fh(j)c Fk(f)24 b Fh( )14 b(f)8 b Fp(\()p
Fj(\025)p Fk(a)18 b Fh(!)c(f)8 b Fk(x)880 1757 y Fg(0)903
1775 y Fp(+)j Fk(y)980 1757 y Fg(0)1005 1775 y Fh(j)j
Fk(x)1061 1757 y Fg(0)1087 1775 y Fh( )g Fk(a)t Fj(;)h
Fk(y)1237 1757 y Fg(0)1263 1775 y Fh( )f Fk(a)e Fh(g)p
Fp(\))c Fh(g)p Fj(;)529 1835 y Fk(y)18 b Fh( )13 b Fk(f)19
b Fp(\()p Fh(f)p Fk(1)7 b Fh(g)k([)g(f)p Fk(2)c Fh(g)p
Fp(\))h Fh(g)-5 1944 y Fp(whic)o(h)16 b(has)h(the)f(v)m(alue)g
Fh(f)p Fk(2)7 b Fj(;)h Fk(3)f Fj(;)h Fk(4)f Fh(g)p Fp(,)14
b(as)j(exp)q(ected.)68 2004 y(A)22 b(similar)e(approac)o(h)j(to)g
(non-deteminism)c(is)j(tak)o(en)g(b)o(y)g(Hughes)g(and)h(O'Donnell)e
([HO89].)-5 2065 y(They)i(suggest)g(adding)h(a)f(set)f(t)o(yp)q(e)g(to)
h(a)g(lazy)f(functional)h(language)g(where)g(a)g(set)f(is)h(actually)-5
2125 y(represen)o(ted)14 b(b)o(y)g(a)h(non-deterministic)d(c)o(hoice)h
(of)i(one)g(of)g(the)f(elemen)o(ts)e(of)j(the)f(set.)21
b(The)15 b(primitiv)n(e)-5 2185 y(op)q(erations)20 b(they)e(pro)o(vide)
f(on)i(sets)g(are)g(just)f Fk(map)s Fp(,)h Fk(unit)5
b Fp(,)19 b(and)g Fk(join)j Fp(of)d(the)f(set)g(monad,)h(plus)f(set)-5
2245 y(union)f(\()p Fh([)p Fp(\))f(to)g(represen)o(t)f
(non-deterministic)f(c)o(hoice.)20 b(They)c(address)h(the)e(issue)h(of)
h(ho)o(w)f(suc)o(h)g(sets)-5 2305 y(should)e(b)q(eha)o(v)o(e)e(with)h
(resp)q(ect)f(to)h Fh(?)p Fp(,)g(and)h(presen)o(t)e(an)i(elegan)o(t)e
(deriv)m(ation)g(of)i(a)f(non-deterministic,)-5 2366
y(parallel,)j(tree)g(searc)o(h)h(algorithm.)22 b(Ho)o(w)o(ev)o(er,)14
b(they)j(pro)o(vide)f(no)h(argumen)o(t)f(that)h(all)f(programs)h(in)-5
2426 y(a)22 b(traditional,)g(non-deterministic)c(functional)j(language)
h(can)f(b)q(e)g(enco)q(ded)h(in)e(their)h(approac)o(h.)-5
2486 y(Suc)o(h)16 b(an)h(argumen)o(t)e(is)h(pro)o(vided)g(b)o(y)f(the)h
(translation)h(sc)o(heme)d(ab)q(o)o(v)o(e.)916 2663 y(28)p
eop
%%Page: 29 29
29 28 bop -5 -10 a Fi(8.2)66 b(Example:)31 b(Con)n(tin)n(uations)-5
82 y Fp(As)17 b(a)h(\014nal)f(example,)e(consider)i(the)g(call-b)o(y-v)
m(alue)f(in)o(terpretation)g(under)h(the)g(monad)g(of)g(con)o(tin-)-5
142 y(uations,)g Fk(Cont)5 b Fp(,)16 b(giv)o(en)g(in)g(Section)f(7.4.)
22 b(Applying)16 b(straigh)o(tforw)o(ard)h(calculation)f(to)h(simplify)
c(the)-5 202 y Fk(Cont)5 b Fp(-comprehensions)19 b(yields)f(the)h
(translation)h(sc)o(heme)d(giv)o(en)i(in)g(Figure)g(11,)h(whic)o(h)f
(is)g(simply)-5 263 y(the)j(con)o(tin)o(uation-passing)i(st)o(yle)d
(transformation)h(b)q(elo)o(v)o(ed)f(b)o(y)h(man)o(y)f(theorists)i(and)
f(compiler)-5 323 y(writers)16 b([Plo75)q(,)f(AJ89)q(].)68
383 y(Eac)o(h)21 b(of)g(the)g(rules)f(retains)h(its)f(straigh)o(tforw)o
(ard)i(op)q(erational)f(reading.)35 b(F)l(or)21 b(example,)e(the)-5
443 y(rule)d(for)g(applications,)485 553 y(\()p Fk(t)e(u)t
Fp(\))583 533 y Fg(\003)633 553 y Fp(=)30 b Fj(\025)p
Fk(k)20 b Fh(!)14 b Fk(t)856 533 y Fg(\003)884 553 y
Fp(\()p Fj(\025)p Fk(f)24 b Fh(!)14 b Fk(u)1064 533 y
Fg(\003)1092 553 y Fp(\()p Fj(\025)p Fk(x)21 b Fh(!)13
b Fk(f)19 b(x)c(k)5 b Fp(\)\))p Fj(;)-5 663 y Fp(can)16
b(still)e(b)q(e)i(read)f(\\to)h(apply)g Fk(t)k Fp(to)c
Fk(u)t Fp(,)f(\014rst)g(ev)m(aluate)h Fk(t)k Fp(\(call)15
b(the)g(result)g Fk(f)10 b Fp(\),)15 b(then)g(ev)m(aluate)h
Fk(u)j Fp(\(call)-5 723 y(the)d(result)g Fk(x)6 b Fp(\),)16
b(then)g(apply)g Fk(f)27 b Fp(to)17 b Fk(x)22 b Fp(\(call)16
b(the)g(result)g Fk(y)t Fp(\))g(and)h(return)f Fk(y)t
Fp(.")68 784 y(A)g(similar)d(calculation)j(on)g(the)f(other)h
(translation)h(sc)o(heme)c(yields)i(a)h(call-b)o(y-name)e(v)o(ersion)h
(of)-5 844 y(con)o(tin)o(uation-passing)i(st)o(yle.)j(This)d(is)f(less)
g(w)o(ell)f(kno)o(wn,)h(but)g(can)h(b)q(e)f(found)h(in)f([Rey74)o(,)g
(Plo75)q(].)-5 1010 y Fq(Ac)n(kno)n(wledgemen)n(ts)-5
1120 y Fp(I)h(thank)h(Eugenio)g(Moggi)g(for)g(his)f(ideas,)h(and)g(for)
f(the)h(time)d(he)i(to)q(ok)i(to)f(explain)e(them)g(to)i(me.)23
b(I)-5 1180 y(thank)c(John)h(Launc)o(h)o(bury)e(for)h(his)g(en)o(th)o
(usiasm)e(and)i(suggestions.)30 b(And)18 b(for)h(helpful)f(commen)o(ts)
-5 1240 y(I)e(thank)g(Arvind,)f(Stephen)g(Bev)m(an,)h(Olivier)e(Dan)o
(vy)l(,)h(Kevin)g(Hammond,)f(John)i(Hughes,)g(Karsten)-5
1300 y(Kehler)f(Holst,)g(Mic)o(hael)f(Johnson,)i(Austin)f(Melton,)g
(Nikhil,)e(Simon)i(P)o(eyton)g(Jones,)h(Andy)f(Pitts,)-5
1360 y(Andre)20 b(Scedro)o(v,)g(Carolyn)h(T)l(alcott,)g(Phil)f(T)l
(rinder,)g(attenders)h(of)f(the)h(1989)g(Glasgo)o(w)h(Summer)-5
1421 y(Sc)o(ho)q(ol)17 b(on)f(Category)h(Theory)g(and)g(Constructiv)o
(e)e(Logic,)h(and)h(an)g(anon)o(ymous)f(referee.)-5 1587
y Fq(References)-5 1696 y Fp([AJ89])85 b(A.)13 b(App)q(el)g(and)h(T.)f
(Jim,)f(Con)o(tiuation-passing,)j(closure-passing)g(st)o(yle.)d(In)h
Fk(16'th)i(A)o(CM)218 1757 y(Symp)n(osium)j(on)g(Principles)i(of)e(Pr)n
(o)n(gr)n(amming)e(L)n(anguages)p Fp(,)i(Austin,)e(T)l(exas,)i(Jan)o
(uary)218 1817 y(1989.)-5 1919 y([Blo89])74 b(A.)14 b(Bloss,)g(Up)q
(date)h(analysis)f(and)h(the)f(e\016cien)o(t)e(implem)o(en)o(tation)f
(of)k(functional)f(aggre-)218 1979 y(gates.)e(In)f Fk(4'th)i(Symp)n
(osium)f(on)h(F)l(unctional)i(Pr)n(o)n(gr)n(amming)c(L)n(anguages)j
(and)f(Computer)218 2039 y(A)o(r)n(chite)n(ctur)n(e)p
Fp(,)j(A)o(CM,)f(London,)i(Septem)o(b)q(er)d(1989.)-5
2141 y([BW85])62 b(M.)16 b(Barr)g(and)h(C.)f(W)l(ells,)f
Fk(T)l(op)n(oses,)i(T)l(riples,)h(and)f(The)n(ories)p
Fp(.)e(Springer)i(V)l(erlag,)e(1985.)-5 2242 y([BW88])62
b(R.)13 b(Bird)f(and)i(P)l(.)f(W)l(adler,)g Fk(Intr)n(o)n(duction)i(to)
f(F)l(unctional)j(Pr)n(o)n(gr)n(amming)p Fp(.)11 b(Pren)o(tice)g(Hall,)
218 2303 y(1988.)-5 2404 y([F)l(ai87])81 b(J.)31 b(F)l(airbairn,)i(F)l
(orm)c(follo)o(ws)i(function.)e Fk(Softwar)n(e)i({)f(Pr)n(actic)n(e)h
(and)g(Exp)n(erienc)n(e)p Fp(,)218 2464 y Fd(17)q Fp(\(6\):379{386,)18
b(June)e(1987.)916 2663 y(29)p eop
%%Page: 30 30
30 29 bop -5 -10 a Fp([FL89])85 b(R.)20 b(F)l(rost)g(and)g(J.)f(Launc)o
(h)o(bury)l(,)i(Constructing)f(natural)g(language)h(in)o(terpreters)d
(in)i(a)218 50 y(lazy)c(functional)g(language.)h Fk(The)g(Computer)h
(Journal)p Fp(,)d Fd(32)q Fp(\(2\):108{121,)j(April)d(1989.)-5
152 y([Gog88])61 b(J.)23 b(A.)e(Goguen,)k(Higher)d(order)g(functions)h
(considered)f(unnecessary)g(for)h(higher)f(or-)218 212
y(der)17 b(programming.)e(T)l(ec)o(hnical)g(rep)q(ort)j(SRI-CSL-88-1,)g
(SRI)f(In)o(ternational,)f(Jan)o(uary)218 272 y(1988.)-5
374 y([GL88])79 b(D.)18 b(K.)f(Gi\013ord)h(and)g(J.)g(M.)e(Lucassen,)j
(In)o(tegrating)e(functional)g(and)h(imp)q(erativ)o(e)d(pro-)218
434 y(gramming.)f(In)h Fk(A)o(CM)h(Confer)n(enc)n(e)i(on)f(Lisp)f(and)h
(F)l(unctional)i(Pr)n(o)n(gr)n(amming)p Fp(,)14 b(pp.)h(28{)218
494 y(39,)i(Cam)o(bridge,)e(Massac)o(h)o(usetts,)h(August)g(1986.)-5
596 y([GH90])72 b(J.)21 b(Guzm\023)-24 b(an)21 b(and)h(P)l(.)f(Hudak,)h
(Single-threaded)f(p)q(olymorphic)f(lam)o(b)q(da)g(calculus.)g(In)218
656 y Fk(IEEE)e(Symp)n(osium)e(on)i(L)n(o)n(gic)f(in)h(Computer)f
(Scienc)n(e)p Fp(,)h(Philadelphia,)d(June)h(1990.)-5
758 y([GMW79])25 b(M.)10 b(Gordon,)j(R.)e(Milner,)f(and)i(C.)f(W)l
(adsw)o(orth,)i Fk(Edinbur)n(gh)g(LCF)p Fp(.)d(LNCS)h(78,)i(Springer-)
218 818 y(V)l(erlag,)j(1979.)-5 919 y([Hol83])72 b(S.)20
b(Holmstr\177)-24 b(om,)18 b(A)i(simple)e(and)j(e\016cien)o(t)d(w)o(a)o
(y)i(to)g(handle)g(large)g(data)h(structures)f(in)218
980 y(applicativ)o(e)12 b(languges.)i(In)f Fk(Pr)n(o)n(c)n(e)n(e)n
(dings)h(SER)o(C/Chalmers)g(Workshop)g(on)i(De)n(clar)n(ative)218
1040 y(Pr)n(o)n(gr)n(amming)p Fp(,)f(Univ)o(ersit)o(y)e(College)j
(London,)h(1983.)-5 1142 y([Hud86a])32 b(P)l(.)14 b(Hudak,)g(A)f(seman)
o(tic)f(mo)q(del)g(of)i(reference)e(coun)o(ting)i(and)g(its)g
(abstraction)g(\(detailed)218 1202 y(summary\).)d(In)h
Fk(A)o(CM)i(Confer)n(enc)n(e)h(on)f(Lisp)g(and)g(F)l(unctional)j(Pr)n
(o)n(gr)n(amming)p Fp(,)11 b(pp.)h(351{)218 1262 y(363,)17
b(Cam)o(bridge,)e(Massac)o(h)o(usetts,)h(August)h(1986.)-5
1364 y([HMT88])30 b(R.)19 b(Harp)q(er,)h(R.)f(Milner,)f(and)i(M.)e(T)l
(ofte,)i(The)f(de\014nition)g(of)g(Standard)i(ML,)e(v)o(ersion)218
1424 y(2.)i(Rep)q(ort)h(ECS-LF)o(CS-88-62,)i(Edin)o(burgh)e(Univ)o
(ersit)o(y)l(,)d(Computer)h(Science)f(Dept.,)218 1484
y(1988.)-5 1586 y([Hud86b])29 b(P)l(.)17 b(Hudak,)f(Arra)o(ys,)g
(non-determinism,)d(side-e\013ects,)j(and)h(parallelism:)i(a)e
(functional)218 1646 y(p)q(ersp)q(ectiv)o(e.)f(In)g(J.)h(H.)f(F)l(asel)
g(and)i(R.)e(M.)g(Keller,)f(editors,)h Fk(Workshop)h(on)i(Gr)n(aph)d(R)
n(e-)218 1706 y(duction)p Fp(,)e(San)o(ta)e(F)l(e,)g(New)f(Mexico,)g
(Septem)o(b)q(er{Octob)q(er)f(1986.)j(LNCS)f(279,)i(Springer-)218
1766 y(V)l(erlag,)i(1986.)-5 1868 y([Hug89])59 b(J.)27
b(Hughes,)h(Wh)o(y)e(functional)h(programming)e(matters.)g
Fk(The)i(Computer)g(Journal)p Fp(,)218 1928 y Fd(32)q
Fp(\(2\):98{107,)18 b(April)d(1989.)-5 2030 y([HO89])72
b(J.)13 b(Hughes)h(and)g(J.)f(O'Donnell,)f(Expressing)i(and)g
(reasoning)g(ab)q(out)h(non-deterministic)218 2090 y(functional)h
(programs.)g(In)g(K.)f(Da)o(vis)h(and)h(J.)e(Hughes,)h(editors,)g
Fk(F)l(unctional)j(Pr)n(o)n(gr)n(am-)218 2150 y(ming,)k(Glasgow)g(1989)
j Fp(\(Glasgo)o(w)c(w)o(orkshop,)g(F)l(raserburgh,)g(August)f(1989\),)i
(W)l(ork-)218 2210 y(shops)18 b(in)e(Computing,)f(Springer)h(V)l
(erlag,)f(1990.)-5 2312 y([HPW91])27 b(P)l(.)15 b(Hudak,)f(S.)g(P)o
(eyton)g(Jones)h(and)g(P)l(.)f(W)l(adler,)h(editors,)f
Fk(R)n(ep)n(ort)g(on)i(the)h(Pr)n(o)n(gr)n(amming)218
2372 y(L)n(anguage)h(Haskel)r(l:)24 b(V)l(ersion)17 b(1.1)p
Fp(.)d(T)l(ec)o(hnical)g(rep)q(ort,)h(Y)l(ale)g(Univ)o(ersit)o(y)d(and)
k(Glasgo)o(w)218 2433 y(Univ)o(ersit)o(y)l(,)e(August)i(1991.)916
2663 y(30)p eop
%%Page: 31 31
31 30 bop -5 -10 a Fp([LS86])90 b(J.)15 b(Lam)o(b)q(ek)f(and)h(P)l(.)g
(Scott,)f Fk(Intr)n(o)n(duction)i(to)h(Higher)f(Or)n(der)f(Cate)n
(goric)n(al)i(L)n(o)n(gic)p Fp(,)d(Cam-)218 50 y(bridge)j(Univ)o(ersit)
o(y)c(Press,)j(1986.)-5 149 y([Mac71])56 b(S.)26 b(Mac)g(Lane,)j
Fk(Cate)n(gories)e(for)f(the)h(Working)g(Mathematician)p
Fp(,)i(Springer-V)l(erlag,)218 209 y(1971.)-5 308 y([Mil84])74
b(R.)24 b(Milner,)f(A)g(prop)q(osal)i(for)f(Standard)h(ML.)e(In)h
Fk(A)o(CM)f(Symp)n(osium)h(on)g(Lisp)g(and)218 368 y(F)l(unctional)c
(Pr)n(o)n(gr)n(amming)p Fp(,)14 b(Austin,)h(T)l(exas,)h(August)h(1984.)
-5 467 y([MT89])67 b(I.)15 b(Mason)h(and)f(C.)g(T)l(alcott,)g
(Axiomatising)e(op)q(erational)j(equiv)m(alence)d(in)i(the)g(presence)
218 527 y(of)k(side)f(e\013ects.)g(In)g Fk(IEEE)h(Symp)n(osium)g(on)g
(L)n(o)n(gic)g(in)h(Computer)f(Scienc)n(e)p Fp(,)h(Asilomar,)218
587 y(California,)c(June)g(1989.)-5 686 y([Mog89a])30
b(E.)11 b(Moggi,)h(Computational)f(lam)o(b)q(da-calculus)f(and)i
(monads.)e(In)h Fk(IEEE)i(Symp)n(osium)f(on)218 746 y(L)n(o)n(gic)k(in)
h(Computer)g(Scienc)n(e)p Fp(,)g(Asilomar,)c(California,)i(June)h
(1989.)g(\(A)f(longer)h(v)o(ersion)218 806 y(is)h(a)o(v)m(ailable)e(as)
i(a)g(tec)o(hnical)d(rep)q(ort)j(from)e(the)h(Univ)o(ersit)o(y)e(of)i
(Edin)o(burgh.\))-5 905 y([Mog89b])27 b(E.)13 b(Moggi,)h(An)f(abstract)
h(view)e(of)h(programming)f(languges.)h(Course)h(notes,)g(Univ)o(ersit)
o(y)218 965 y(of)j(Edin)o(burgh.)-5 1064 y([Plo75])76
b(G.)18 b(Plotkin,)f(Call-b)o(y-name,)f(call-b)o(y-v)m(alue,)g(and)i
(the)g Fj(\025)p Fp(-calculus.)f Fk(The)n(or)n(etic)n(al)h(Com-)218
1124 y(puter)g(Scienc)n(e)p Fp(,)g(1:125{159,)g(1975.)-5
1223 y([R)o(C86])77 b(J.)14 b(Rees)f(and)h(W.)f(Clinger)g(\(eds.\),)h
(The)f(revised)1114 1205 y Fo(3)1152 1223 y Fp(rep)q(ort)h(on)g(the)f
(algorithmic)f(language)218 1283 y(Sc)o(heme.)i Fk(A)o(CM)j(SIGPLAN)g
(Notic)n(es)p Fp(,)f Fd(21)p Fp(\(12\):37{79)j(\(1986\).)-5
1382 y([Rey74])63 b(J.)22 b(C.)f(Reynolds,)i(On)e(the)h(relation)f(b)q
(et)o(w)o(een)g(direct)g(and)h(con)o(tin)o(uation)f(seman)o(tics.)218
1442 y(In)15 b Fk(Col)r(lo)n(quium)i(on)f(A)o(utomata,)g(L)n(anguages)g
(and)h(Pr)n(o)n(gr)n(amming)p Fp(,)12 b(Saarbr)q(\177)-26
b(uc)o(k)o(en,)15 b(July{)218 1502 y(August)i(1974,)g(LNCS)g(14,)g
(Springer-V)l(erlag,)e(1974.)-5 1601 y([Rey83])63 b(J.)21
b(C.)f(Reynolds,)h(T)o(yp)q(es,)g(abstraction,)h(and)f(parametric)e(p)q
(olymorphism.)f(In)i(R.)g(E.)218 1661 y(A.)g(Mason,)h(editor,)f
Fk(Information)h(Pr)n(o)n(c)n(essing)f(83)p Fp(,)h(513{523,)i
(North-Holland,)d(Ams-)218 1722 y(terdam.)-5 1820 y([Sc)o(h85])72
b(D.)16 b(A.)g(Sc)o(hmidt,)d(Detecting)i(global)i(v)m(ariables)f(in)f
(denotational)i(sp)q(eci\014cations.)f Fk(A)o(CM)218
1881 y(T)l(r)n(ansactions)i(on)g(Pr)n(o)n(gr)n(amming)e(L)n(anguages)i
(and)f(Systems)p Fp(,)f Fd(7)p Fp(:299{310,)i(1985.)-5
1979 y([Spi90])79 b(M.)19 b(Spiv)o(ey)l(,)f(A)h(functional)g(theory)g
(of)h(exceptions.)e Fk(Scienc)n(e)k(of)e(Computer)g(Pr)n(o)n(gr)n(am-)
218 2040 y(ming)p Fp(,)d Fd(14)p Fp(\(1\):25{42,)h(June)e(1990.)-5
2138 y([T)l(ur82])70 b(D.)17 b(A.)f(T)l(urner,)g(Recursion)g(equations)
h(as)g(a)h(programming)d(language.)i(In)f(J.)h(Darling-)218
2199 y(ton,)f(P)l(.)f(Henderson,)f(and)i(D.)f(A.)f(T)l(urner,)h
(editors,)g Fk(F)l(unctional)j(Pr)n(o)n(gr)n(amming)c(and)j(its)218
2259 y(Applic)n(ations)p Fp(,)g(Cam)o(bridge)e(Univ)o(ersit)o(y)e
(Press,)k(1982.)-5 2358 y([T)l(ur85])70 b(D.)22 b(A.)f(T)l(urner,)i
(Miranda:)33 b(A)22 b(non-strict)g(functional)g(language)h(with)e(p)q
(olymorphic)218 2418 y(t)o(yp)q(es.)16 b(In)g Fk(Pr)n(o)n(c)n(e)n(e)n
(dings)h(of)g(the)h(2'nd)g(International)h(Confer)n(enc)n(e)f(on)g(F)l
(unctional)i(Pr)n(o-)218 2478 y(gr)n(amming)i(L)n(anguages)h(and)f
(Computer)g(A)o(r)n(chite)n(ctur)n(e)p Fp(,)g(Nancy)l(,)f(F)l(rance,)h
(Septem)o(b)q(er)218 2538 y(1985.)c(LNCS)e(201,)h(Springer)g(V)l
(erlag,)e(1985.)916 2663 y(31)p eop
%%Page: 32 32
32 31 bop -5 -10 a Fp([W)l(ad85])50 b(P)l(.)21 b(W)l(adler,)h(Ho)o(w)f
(to)g(replace)f(failure)h(b)o(y)f(a)i(list)e(of)i(successes.)e(In)h
Fk(2'nd)h(Symp)n(osium)218 50 y(on)27 b(F)l(unctional)h(Pr)n(o)n(gr)n
(amming)d(L)n(anguages)h(and)h(Computer)f(A)o(r)n(chite)n(ctur)n(e)p
Fp(,)h(Nancy)l(,)218 110 y(Septem)o(b)q(er)15 b(1985.)i(LNCS)g(273,)g
(Springer-V)l(erlag,)e(1985.)-5 212 y([W)l(ad87])50 b(P)l(.)15
b(W)l(adler,)f(List)h(comprehensions.)e(In)h(S.)h(L.)f(P)o(eyton)h
(Jones,)g Fk(The)h(Implementation)h(of)218 272 y(F)l(unctional)j(Pr)n
(o)n(gr)n(amming)c(L)n(anguages)p Fp(,)g(Pren)o(tice)f(Hall,)g(1987.)-5
374 y([W)l(ad89])50 b(P)l(.)17 b(W)l(adler,)e(Theorems)h(for)h(free!)k
(In)16 b Fk(4'th)i(Symp)n(osium)e(on)i(F)l(unctional)i(Pr)n(o)n(gr)n
(amming)218 434 y(L)n(anguages)f(and)e(Computer)g(A)o(r)n(chite)n(ctur)
n(e)p Fp(,)f(A)o(CM,)f(London,)i(Septem)o(b)q(er)d(1989.)-5
535 y([W)l(ad90])50 b(P)l(.)24 b(W)l(adler,)g(Linear)g(t)o(yp)q(es)g
(can)f(c)o(hange)h(the)f(w)o(orld!)43 b(In)24 b(M.)f(Bro)o(y)f(and)j
(C.)e(Jones,)218 596 y(editors,)d Fk(Pr)n(o)n(gr)n(amming)f(Conc)n
(epts)h(and)h(Metho)n(ds)i Fp(\(IFIP)18 b(W)l(orking)i(Conference,)f
(Sea)218 656 y(of)e(Gallilee,)d(Israel,)h(April)g(1990\),)j(North)e
(Holland,)f(1990.)-5 758 y([W)l(ad91])50 b(P)l(.)21 b(W)l(adler,)f(Is)h
(there)e(a)i(use)g(for)f(linear)g(logic?)34 b(In)20 b
Fk(Confer)n(enc)n(e)i(on)f(Partial)h(Evalua-)218 818
y(tion)17 b(and)f(Semantics-Base)n(d)i(Pr)n(o)n(gr)n(am)13
b(Manipulation)k(\(PEPM\))p Fp(,)d(A)o(CM,)f(New)h(Ha)o(v)o(en,)218
878 y(Connecticut,)i(June)g(1991.)916 2663 y(32)p eop
%%Page: 33 33
33 32 bop 12 135 1857 2 v 12 1148 2 1014 v 63 216 a Fs(datat)o(yp)q(e)
15 b Fr(T)m(erm)38 b Fs(=)e Fr(V)m(ar)20 b Fs(of)14 b
Fr(Name)i Fc(j)d Fr(L)n(am)18 b Fs(of)d Fr(Name)e Fc(\003)d
Fr(T)m(erm)16 b Fc(j)c Fr(App)18 b Fs(of)d Fr(T)m(erm)e
Fc(\003)d Fr(T)m(erm)s Fs(;)63 311 y(fun)22 b Fr(r)n(ename)10
b(t)46 b Fs(=)c(let)35 b(v)m(al)30 b Fr(N)418 b Fs(=)42
b Fr(r)n(ef)17 b(0)6 b Fs(;)527 407 y(fun)22 b Fr(newname)10
b Fs(\(\))222 b(=)42 b(let)35 b(v)m(al)30 b Fr(n)15 b
Fs(=)e(!)p Fr(N)7 b Fs(;)1227 463 y(v)m(al)30 b(\(\))12
b(=)h(\()p Fr(N)19 b Fs(:=)13 b Fr(n)g Fs(+)d Fr(1)c
Fs(\);)1142 520 y(in)48 b Fr(mkname)11 b(n)1142 576 y
Fs(end)q(;)527 672 y(fun)22 b Fr(r)n(enamer)12 b Fs(\()p
Fr(V)m(ar)g(x)5 b Fs(\))129 b(=)42 b Fr(V)m(ar)12 b(x)527
728 y Fc(j)73 b Fr(r)n(enamer)12 b Fs(\()p Fr(L)n(am)e
Fs(\()p Fr(x)5 b Fb(;)j Fr(t)t Fs(\)\))41 b(=)h(let)35
b(v)m(al)30 b Fr(x)1339 712 y Fa(0)1363 728 y Fs(=)13
b Fr(newname)e Fs(\(\);)1142 785 y(in)48 b Fr(L)n(am)11
b Fs(\()p Fr(x)1369 768 y Fa(0)1381 785 y Fb(;)d Fr(subst)i(x)1536
768 y Fa(0)1556 785 y Fr(x)j Fs(\()p Fr(r)n(enamer)f(t)t
Fs(\)\))1142 841 y(end)527 897 y Fc(j)73 b Fr(r)n(enamer)12
b Fs(\()p Fr(App)e Fs(\()p Fr(t)t Fb(;)e Fr(u)s Fs(\)\))47
b(=)42 b Fr(App)11 b Fs(\()p Fr(r)n(enamer)h(t)t Fb(;)c
Fr(r)n(enamer)j(u)s Fs(\);)442 993 y(in)48 b Fr(r)n(enamer)13
b(t)442 1050 y Fs(end)q(;)p 1867 1148 V 12 1150 1857
2 v 195 1223 a Fp(Figure)i(1:)22 b(Renaming)15 b(in)h(an)h(impure)d
(functional)i(language)h(\(Standard)h(ML\))p 12 1316
V 12 2290 2 974 v 216 1397 a Fs(data)c Fr(T)m(erm)231
b Fs(=)42 b Fr(V)m(ar)12 b(Name)k Fc(j)c Fr(L)n(am)f(Name)g(T)m(erm)k
Fc(j)e Fr(App)d(T)m(erm)h(T)m(erm)216 1492 y(newname)262
b Fs(::)46 b Fr(Int)16 b Fc(!)d Fs(\()p Fr(Name)s Fb(;)8
b Fr(Int)t Fs(\))216 1549 y Fr(newname)i(n)221 b Fs(=)42
b(\()p Fr(mkname)10 b(n)s Fb(;)e Fr(n)13 b Fs(+)d Fr(1)c
Fs(\))216 1644 y Fr(r)n(enamer)282 b Fs(::)46 b Fr(T)m(erm)15
b Fc(!)e Fr(Int)j Fc(!)d Fs(\()p Fr(T)m(erm)s Fb(;)8
b Fr(Int)t Fs(\))216 1701 y Fr(r)n(enamer)k Fs(\()p Fr(V)m(ar)g(x)5
b Fs(\))j Fr(n)84 b Fs(=)42 b(\()p Fr(V)m(ar)12 b(x)5
b Fb(;)j Fr(n)s Fs(\))216 1757 y Fr(r)n(enamer)k Fs(\()p
Fr(L)n(am)e(x)k(t)t Fs(\))8 b Fr(n)44 b Fs(=)e(let)35
b(\()p Fr(x)863 1741 y Fa(0)875 1757 y Fb(;)8 b Fr(n)925
1741 y Fa(0)936 1757 y Fs(\))k(=)h Fr(newname)e(n)819
1814 y Fs(\()p Fr(t)856 1797 y Fa(0)868 1814 y Fb(;)d
Fr(n)918 1797 y Fa(00)938 1814 y Fs(\))13 b(=)g Fr(r)n(enamer)f(t)g(n)
1249 1797 y Fa(0)734 1870 y Fs(in)48 b(\()p Fr(L)n(am)10
b(x)960 1854 y Fa(0)980 1870 y Fs(\()p Fr(subst)h(x)1133
1854 y Fa(0)1153 1870 y Fr(x)i(t)1206 1854 y Fa(0)1218
1870 y Fs(\))p Fb(;)8 b Fr(n)1286 1854 y Fa(00)1306 1870
y Fs(\))216 1927 y Fr(r)n(enamer)k Fs(\()p Fr(App)e(t)i(u)s
Fs(\))c Fr(n)51 b Fs(=)42 b(let)35 b(\()p Fr(t)856 1910
y Fa(0)868 1927 y Fb(;)8 b Fr(n)918 1910 y Fa(0)929 1927
y Fs(\))k(=)h Fr(r)n(enamer)f(t)g(n)819 1983 y Fs(\()p
Fr(u)864 1967 y Fa(0)876 1983 y Fb(;)c Fr(n)926 1967
y Fa(00)947 1983 y Fs(\))k(=)h Fr(r)n(enamer)f(u)g(n)1266
1967 y Fa(0)734 2039 y Fs(in)48 b(\()p Fr(App)10 b(t)946
2023 y Fa(0)966 2039 y Fr(u)993 2023 y Fa(0)1006 2039
y Fb(;)e Fr(n)1056 2023 y Fa(00)1076 2039 y Fs(\))216
2135 y Fr(r)n(ename)301 b Fs(::)46 b Fr(T)m(erm)15 b
Fc(!)e Fr(T)m(erm)216 2192 y(r)n(ename)d(t)271 b Fs(=)42
b(let)15 b(\()p Fr(t)836 2175 y Fa(0)848 2192 y Fb(;)8
b Fr(n)898 2175 y Fa(0)909 2192 y Fs(\))k(=)h Fr(r)n(enamer)f(t)g(0)22
b Fs(in)16 b Fr(t)1307 2175 y Fa(0)p 1867 2290 V 12 2292
1857 2 v 302 2365 a Fp(Figure)g(2:)21 b(Renaming)15 b(in)h(a)h(pure)f
(functional)g(language)h(\(Hask)o(ell\))916 2663 y(33)p
eop
%%Page: 34 34
34 33 bop 12 177 1857 2 v 12 925 2 749 v 117 257 a Fs(data)14
b Fr(T)m(erm)194 b Fs(=)42 b Fr(V)m(ar)12 b(Name)k Fc(j)d
Fr(L)n(am)d(Name)h(T)m(erm)16 b Fc(j)c Fr(App)f(T)m(erm)f(T)m(erm)117
353 y(newname)225 b Fs(::)46 b Fr(ST)13 b(Name)117 409
y(newname)220 b Fs(=)42 b([)8 b Fr(mkname)i(n)16 b Fc(j)c
Fr(n)k Fc( )d Fr(fetch)s Fb(;)i Fs(\(\))d Fc( )h Fr(assign)d
Fs(\()p Fr(n)j Fs(+)d Fr(1)c Fs(\))i(])1494 393 y Fn(ST)117
505 y Fr(r)n(enamer)245 b Fs(::)46 b Fr(T)m(erm)15 b
Fc(!)e Fr(ST)g(T)m(erm)117 562 y(r)n(enamer)f Fs(\()p
Fr(V)m(ar)g(x)5 b Fs(\))81 b(=)42 b([)8 b Fr(V)m(ar)j(x)i
Fs(])750 545 y Fn(ST)117 618 y Fr(r)n(enamer)f Fs(\()p
Fr(L)n(am)e(x)j(t)t Fs(\))42 b(=)g([)8 b Fr(L)n(am)i(x)742
602 y Fa(0)762 618 y Fs(\()p Fr(subst)h(x)915 602 y Fa(0)935
618 y Fr(x)i(t)988 602 y Fa(0)1000 618 y Fs(\)\))f Fc(j)g
Fr(x)1099 602 y Fa(0)1124 618 y Fc( )h Fr(newname)s Fb(;)i
Fr(t)1416 602 y Fa(0)1440 618 y Fc( )e Fr(r)n(enamer)g(t)f
Fs(])1715 602 y Fn(ST)117 674 y Fr(r)n(enamer)g Fs(\()p
Fr(App)e(t)i(u)s Fs(\))48 b(=)42 b([)8 b Fr(App)i(t)728
658 y Fa(0)747 674 y Fr(u)774 658 y Fa(0)800 674 y Fc(j)i
Fr(t)844 658 y Fa(0)869 674 y Fc( )h Fr(r)n(enamer)f(t)t
Fb(;)j Fr(u)1177 658 y Fa(0)1202 674 y Fc( )e Fr(r)n(enamer)g(u)e
Fs(])1485 658 y Fn(ST)117 770 y Fr(r)n(ename)264 b Fs(::)46
b Fr(T)m(erm)15 b Fc(!)e Fr(T)m(erm)117 827 y(r)n(ename)d(t)234
b Fs(=)42 b Fr(init)11 b(0)j Fs(\()p Fr(r)n(enamer)e(t)t
Fs(\))p 1867 925 V 12 927 1857 2 v 319 997 a Fp(Figure)k(3:)22
b(Renaming)15 b(with)h(the)g(monad)g(of)g(state)h(transformers)p
12 1488 V 12 2254 2 766 v 294 1569 a Fr(exp)320 b Fs(::)46
b Fr(Exp)15 b Fc(!)e Fr(A)o(rr)18 b Fc(!)13 b Fr(V)m(al)294
1625 y(exp)e Fs(\()p Fr(V)m(ar)g(i)5 b Fs(\))j Fr(a)134
b Fs(=)42 b Fr(index)12 b(i)g(a)294 1682 y(exp)f Fs(\()p
Fr(Const)f(v)5 b Fs(\))j Fr(a)85 b Fs(=)42 b Fr(v)294
1738 y(exp)11 b Fs(\()p Fr(Plus)f(e)505 1745 y Fn(1)536
1738 y Fr(e)557 1745 y Fn(2)580 1738 y Fs(\))e Fr(a)45
b Fs(=)d Fr(exp)10 b(e)847 1745 y Fn(1)878 1738 y Fr(a)k
Fs(+)c Fr(exp)h(e)1057 1745 y Fn(2)1088 1738 y Fr(a)294
1834 y(c)n(om)306 b Fs(::)46 b Fr(Com)16 b Fc(!)d Fr(A)o(rr)k
Fc(!)c Fr(A)o(rr)294 1890 y(c)n(om)e Fs(\()p Fr(Asgn)e(i)k(e)s
Fs(\))8 b Fr(a)63 b Fs(=)42 b Fr(up)n(date)11 b(i)h Fs(\()p
Fr(exp)f(e)g(a)s Fs(\))d Fr(a)294 1947 y(c)n(om)j Fs(\()p
Fr(Se)n(q)f(c)499 1954 y Fn(1)530 1947 y Fr(c)551 1954
y Fn(2)574 1947 y Fs(\))e Fr(a)51 b Fs(=)42 b Fr(c)n(om)11
b(c)862 1954 y Fn(2)893 1947 y Fs(\()p Fr(c)n(om)f(c)1021
1954 y Fn(1)1052 1947 y Fr(a)s Fs(\))294 2003 y Fr(c)n(om)h
Fs(\()p Fr(If)16 b(e)11 b(c)503 2010 y Fn(1)534 2003
y Fr(c)555 2010 y Fn(2)578 2003 y Fs(\))d Fr(a)47 b Fs(=)42
b(if)15 b Fr(exp)c(e)g(a)16 b Fs(=)-23 b(=)14 b Fr(0)21
b Fs(then)16 b Fr(c)n(om)11 b(c)1259 2010 y Fn(1)1290
2003 y Fr(a)19 b Fs(else)d Fr(c)n(om)11 b(c)1529 2010
y Fn(2)1560 2003 y Fr(a)294 2099 y(pr)n(o)n(g)303 b Fs(::)46
b Fr(Pr)n(o)n(g)16 b Fc(!)d Fr(V)m(al)294 2155 y(pr)n(o)n(g)e
Fs(\()p Fr(Pr)n(o)n(g)g(c)f(e)s Fs(\))95 b(=)42 b Fr(exp)10
b(e)h Fs(\()p Fr(c)n(om)g(c)f Fs(\()p Fr(newarr)n(ay)h(0)6
b Fs(\)\))p 1867 2254 V 12 2256 1857 2 v 398 2325 a Fp(Figure)16
b(4:)21 b(In)o(terpreter)15 b(in)h(a)g(pure)g(functional)g(language)916
2663 y(34)p eop
%%Page: 35 35
35 34 bop 12 369 1857 2 v 12 1134 2 766 v 153 449 a Fr(exp)285
b Fs(::)46 b Fr(Exp)16 b Fc(!)d Fr(ST)g(V)m(al)153 506
y(exp)e Fs(\()p Fr(V)m(ar)g(i)5 b Fs(\))130 b(=)42 b([)8
b Fr(v)17 b Fc(j)12 b Fr(v)18 b Fc( )13 b Fr(fetch)e(i)h
Fs(])900 489 y Fn(ST)153 562 y Fr(exp)f Fs(\()p Fr(Const)f(v)5
b Fs(\))81 b(=)42 b([)8 b Fr(v)k Fs(])642 546 y Fn(ST)153
618 y Fr(exp)f Fs(\()p Fr(Plus)f(e)364 625 y Fn(1)395
618 y Fr(e)416 625 y Fn(2)439 618 y Fs(\))41 b(=)h([)8
b Fr(v)617 625 y Fn(1)650 618 y Fs(+)i Fr(v)716 625 y
Fn(2)752 618 y Fc(j)j Fr(v)799 625 y Fn(1)835 618 y Fc( )g
Fr(exp)d(e)989 625 y Fn(1)1013 618 y Fb(;)k Fr(v)1061
625 y Fn(2)1097 618 y Fc( )f Fr(exp)e(e)1252 625 y Fn(2)1283
618 y Fs(])1296 602 y Fn(ST)153 714 y Fr(c)n(om)271 b
Fs(::)46 b Fr(Com)16 b Fc(!)d Fr(ST)g Fs(\(\))153 771
y Fr(c)n(om)e Fs(\()p Fr(Asgn)f(i)i(e)s Fs(\))59 b(=)42
b([)8 b(\(\))j Fc(j)i Fr(v)k Fc( )c Fr(exp)e(e)s Fb(;)k
Fs(\(\))d Fc( )h Fr(assign)d(i)i(v)g Fs(])1203 754 y
Fn(ST)153 827 y Fr(c)n(om)f Fs(\()p Fr(Se)n(q)f(c)358
834 y Fn(1)389 827 y Fr(c)410 834 y Fn(2)434 827 y Fs(\))46
b(=)c([)8 b(\(\))j Fc(j)i Fs(\(\))f Fc( )h Fr(c)n(om)e(c)886
834 y Fn(1)909 827 y Fb(;)k Fs(\(\))d Fc( )h Fr(c)n(om)e(c)1154
834 y Fn(2)1185 827 y Fs(])1198 811 y Fn(ST)153 883 y
Fr(c)n(om)g Fs(\()p Fr(If)16 b(e)11 b(c)362 890 y Fn(1)393
883 y Fr(c)414 890 y Fn(2)437 883 y Fs(\))43 b(=)f([)8
b(\(\))j Fc(j)i Fr(v)k Fc( )c Fr(exp)e(e)s Fb(;)k Fs(\(\))d
Fc( )h Fs(if)j Fr(v)h Fs(=)-23 b(=)14 b Fr(0)21 b Fs(then)16
b Fr(c)n(om)11 b(c)1399 890 y Fn(1)1437 883 y Fs(else)16
b Fr(c)n(om)c(c)1635 890 y Fn(2)1665 883 y Fs(])1678
867 y Fn(ST)153 979 y Fr(pr)n(o)n(g)268 b Fs(::)46 b
Fr(Pr)n(o)n(g)16 b Fc(!)d Fr(V)m(al)153 1036 y(pr)n(o)n(g)e
Fs(\()p Fr(Pr)n(o)n(g)g(c)f(e)s Fs(\))60 b(=)42 b Fr(init)12
b(0)i Fs([)8 b Fr(v)16 b Fc(j)d Fs(\(\))f Fc( )h Fr(c)n(om)e(c)s
Fb(;)j Fr(v)j Fc( )c Fr(exp)e(e)g Fs(])1241 1019 y Fn(ST)p
1867 1134 V 12 1136 1857 2 v 461 1206 a Fp(Figure)16
b(5:)22 b(In)o(terpreter)14 b(with)i(state)h(transformers)p
12 1297 V 12 2062 2 766 v 110 1377 a Fr(exp)286 b Fs(::)45
b Fr(Exp)16 b Fc(!)d Fr(SR)c(V)m(al)110 1434 y(exp)i
Fs(\()p Fr(V)m(ar)g(i)5 b Fs(\))130 b(=)42 b([)8 b Fr(v)17
b Fc(j)12 b Fr(v)18 b Fc( )13 b Fr(fetch)e(i)h Fs(])857
1417 y Fn(SR)110 1490 y Fr(exp)f Fs(\()p Fr(Const)f(v)5
b Fs(\))81 b(=)42 b([)8 b Fr(v)k Fs(])599 1473 y Fn(ST)110
1546 y Fr(exp)f Fs(\()p Fr(Plus)f(e)321 1553 y Fn(1)352
1546 y Fr(e)373 1553 y Fn(2)396 1546 y Fs(\))41 b(=)h([)8
b Fr(v)574 1553 y Fn(1)607 1546 y Fs(+)i Fr(v)673 1553
y Fn(2)709 1546 y Fc(j)j Fr(v)756 1553 y Fn(1)792 1546
y Fc( )g Fr(exp)d(e)946 1553 y Fn(1)970 1546 y Fb(;)k
Fr(v)1018 1553 y Fn(2)1054 1546 y Fc( )g Fr(exp)c(e)1209
1553 y Fn(2)1240 1546 y Fs(])1253 1530 y Fn(SR)110 1642
y Fr(c)n(om)272 b Fs(::)45 b Fr(Com)16 b Fc(!)d Fr(ST)g
Fs(\(\))110 1698 y Fr(c)n(om)e Fs(\()p Fr(Asgn)f(i)i(e)s
Fs(\))59 b(=)42 b([)8 b(\(\))k Fc(j)g Fr(v)17 b Fc( )c
Fr(r)n(o)e Fs(\()p Fr(exp)f(e)s Fs(\))p Fb(;)15 b Fs(\(\))d
Fc( )h Fr(assign)d(i)i(v)g Fs(])1246 1682 y Fn(ST)110
1755 y Fr(c)n(om)f Fs(\()p Fr(Se)n(q)f(c)315 1762 y Fn(1)346
1755 y Fr(c)367 1762 y Fn(2)391 1755 y Fs(\))46 b(=)c([)8
b(\(\))k Fc(j)g Fs(\(\))g Fc( )h Fr(c)n(om)e(c)843 1762
y Fn(1)866 1755 y Fb(;)k Fs(\(\))d Fc( )h Fr(c)n(om)e(c)1111
1762 y Fn(2)1142 1755 y Fs(])1155 1738 y Fn(ST)110 1811
y Fr(c)n(om)g Fs(\()p Fr(If)16 b(e)11 b(c)319 1818 y
Fn(1)350 1811 y Fr(c)371 1818 y Fn(2)395 1811 y Fs(\))42
b(=)g([)8 b(\(\))k Fc(j)g Fr(v)17 b Fc( )c Fr(r)n(o)e
Fs(\()p Fr(exp)f(e)s Fs(\))p Fb(;)15 b Fs(\(\))d Fc( )h
Fs(if)j Fr(v)h Fs(=)-23 b(=)14 b Fr(0)21 b Fs(then)16
b Fr(c)n(om)11 b(c)1442 1818 y Fn(1)1480 1811 y Fs(else)16
b Fr(c)n(om)11 b(c)1677 1818 y Fn(2)1708 1811 y Fs(])1721
1795 y Fn(ST)110 1907 y Fr(pr)n(o)n(g)269 b Fs(::)45
b Fr(Pr)n(o)n(g)16 b Fc(!)e Fr(V)m(al)110 1963 y(pr)n(o)n(g)d
Fs(\()p Fr(Pr)n(o)n(g)g(c)f(e)s Fs(\))60 b(=)42 b Fr(init)12
b(0)i Fs([)8 b Fr(v)16 b Fc(j)d Fs(\(\))f Fc( )h Fr(c)n(om)e(c)s
Fb(;)j Fr(v)j Fc( )c Fr(r)n(o)e Fs(\()p Fr(exp)f(e)s
Fs(\))e(])1284 1947 y Fn(ST)p 1867 2062 V 12 2064 1857
2 v 330 2134 a Fp(Figure)15 b(6:)22 b(In)o(terpreter)15
b(with)h(state)g(transformers)g(and)h(readers)916 2663
y(35)p eop
%%Page: 36 36
36 35 bop 346 -5 1188 2 v 345 99 2 104 v 409 38 a Fp(T)o(yp)q(es)p
1533 99 V 345 180 2 82 v 409 141 a Fk(K)453 123 y Fg(\003)675
141 y Fp(=)41 b Fk(K)p 1533 180 V 345 262 V 409 222 a
Fp(\()p Fk(U)22 b Fh(!)13 b Fk(V)d Fp(\))614 204 y Fg(\003)675
222 y Fp(=)41 b(\()p Fk(U)817 204 y Fg(\003)851 222 y
Fh(!)13 b Fk(M)j(V)1020 204 y Fg(\003)1039 222 y Fp(\))p
1533 262 V 345 365 2 104 v 409 304 a(\()p Fk(U)8 b Fj(;)g
Fk(V)h Fp(\))558 286 y Fg(\003)675 304 y Fp(=)41 b(\()p
Fk(U)817 286 y Fg(\003)837 304 y Fj(;)8 b Fk(V)904 286
y Fg(\003)924 304 y Fp(\))p 1533 365 V 346 367 1188 2
v 345 470 2 104 v 409 409 a(T)l(erms)p 1533 470 V 345
551 2 82 v 409 512 a Fk(x)437 494 y Fg(\003)675 512 y
Fp(=)41 b([)8 b Fk(x)15 b Fp(])827 494 y Fo(M)p 1533
551 V 345 633 V 409 593 a Fp(\()p Fj(\025)p Fk(x)20 b
Fh(!)14 b Fk(v)5 b Fp(\))608 575 y Fg(\003)675 593 y
Fp(=)41 b([)8 b(\()p Fj(\025)p Fk(x)21 b Fh(!)13 b Fk(v)956
575 y Fg(\003)977 593 y Fp(\))8 b(])1018 575 y Fo(M)p
1533 633 V 345 715 V 409 675 a Fp(\()p Fk(t)13 b(u)t
Fp(\))506 657 y Fg(\003)675 675 y Fp(=)41 b([)8 b Fk(y)18
b Fh(j)c Fk(f)24 b Fh( )14 b Fk(t)970 657 y Fg(\003)989
675 y Fj(;)i Fk(x)21 b Fh( )13 b Fk(u)1155 657 y Fg(\003)1175
675 y Fj(;)j Fk(y)i Fh( )c Fp(\()p Fk(f)k(x)6 b Fp(\))i(])1432
657 y Fo(M)p 1533 715 V 345 796 V 409 757 a Fp(\()p Fk(u)t
Fj(;)g Fk(v)d Fp(\))526 739 y Fg(\003)675 757 y Fp(=)41
b([)8 b(\()p Fk(x)e Fj(;)i Fk(y)t Fp(\))14 b Fh(j)g Fk(x)20
b Fh( )14 b Fk(u)1070 739 y Fg(\003)1089 757 y Fj(;)i
Fk(y)i Fh( )c Fk(v)1252 739 y Fg(\003)1281 757 y Fp(])1295
739 y Fo(M)p 1533 796 V 345 899 2 104 v 409 838 a Fp(\()p
Fk(fst)f(t)5 b Fp(\))532 820 y Fg(\003)675 838 y Fp(=)41
b([)8 b(\()p Fk(fst)13 b(z)6 b Fp(\))14 b Fh(j)g Fk(z)19
b Fh( )14 b Fk(t)1070 820 y Fg(\003)1098 838 y Fp(])1112
820 y Fo(M)p 1533 899 V 346 901 1188 2 v 345 1004 2 104
v 409 943 a Fp(Assumptions)p 1533 1004 V 345 1107 V 409
1046 a(\()p Fk(x)450 1053 y Fo(1)489 1046 y Fp(::)f Fk(T)565
1053 y Fo(1)589 1046 y Fj(;)8 b(:)g(:)g(:)g(;)g Fk(x)721
1053 y Fo(n)760 1046 y Fp(::)13 b Fk(T)836 1053 y Fo(n)860
1046 y Fp(\))879 1028 y Fg(\003)938 1046 y Fp(=)38 b
Fk(x)1036 1053 y Fo(1)1075 1046 y Fp(::)13 b Fk(T)1158
1028 y Fg(\003)1151 1058 y Fo(1)1178 1046 y Fj(;)8 b(:)g(:)g(:)f(;)h
Fk(x)1309 1053 y Fo(n)1348 1046 y Fp(::)13 b Fk(T)1431
1028 y Fg(\003)1424 1058 y Fo(n)p 1533 1107 V 346 1109
1188 2 v 345 1212 2 104 v 409 1151 a Fp(T)o(ypings)p
1533 1212 V 345 1315 V 409 1254 a(\()p Fk(A)h Fh(`)g
Fk(t)19 b Fp(::)13 b Fk(T)7 b Fp(\))659 1236 y Fg(\003)717
1254 y Fp(=)38 b Fk(A)829 1236 y Fg(\003)863 1254 y Fh(`)14
b Fk(t)928 1236 y Fg(\003)962 1254 y Fp(::)f Fk(M)j(T)1105
1236 y Fg(\003)p 1533 1315 V 346 1317 1188 2 v 563 1408
a Fp(Figure)g(7:)21 b(Call-b)o(y-v)m(alue)16 b(translation.)p
6 1495 1869 2 v 5 1555 2 61 v 1873 1555 V 48 1557 654
2 v 780 1557 1053 2 v 5 1615 2 61 v 68 1597 a(\()p Fk(A)p
Fj(;)h Fk(x)j Fp(::)13 b Fk(T)20 b Fh(`)15 b Fk(x)20
b Fp(::)13 b Fk(T)7 b Fp(\))481 1579 y Fg(\003)721 1597
y Fp(=)42 b Fk(A)837 1579 y Fg(\003)857 1597 y Fj(;)16
b Fk(x)k Fp(::)13 b Fk(T)1012 1579 y Fg(\003)1045 1597
y Fh(`)i Fp([)8 b Fk(x)14 b Fp(])1162 1579 y Fo(M)1215
1597 y Fp(::)f Fk(M)i(T)1357 1579 y Fg(\003)p 1873 1615
V 5 1675 V 1873 1675 V 5 1735 V 68 1717 a Fp(\()p Fk(A)p
Fj(;)i Fk(x)j Fp(::)13 b Fk(U)22 b Fh(`)14 b Fk(v)20
b Fp(::)13 b Fk(V)c Fp(\))486 1699 y Fg(\003)721 1717
y Fp(=)42 b Fk(A)837 1699 y Fg(\003)857 1717 y Fj(;)16
b Fk(x)k Fp(::)13 b Fk(U)1014 1699 y Fg(\003)1048 1717
y Fh(`)h Fk(v)1119 1699 y Fg(\003)1153 1717 y Fp(::)f
Fk(M)j(V)1299 1699 y Fg(\003)p 1873 1735 V 48 1737 654
2 v 780 1737 1053 2 v 5 1796 2 61 v 68 1778 a Fp(\()p
Fk(A)e Fh(`)h Fp(\()p Fj(\025)p Fk(x)20 b Fh(!)14 b Fk(v)5
b Fp(\))15 b(::)d(\()p Fk(U)22 b Fh(!)14 b Fk(V)9 b Fp(\)\))660
1759 y Fg(\003)721 1778 y Fp(=)42 b Fk(A)837 1759 y Fg(\003)871
1778 y Fh(`)14 b Fp([)8 b(\()p Fj(\025)p Fk(x)20 b Fh(!)14
b Fk(v)1117 1759 y Fg(\003)1138 1778 y Fp(\))8 b(])1179
1759 y Fo(M)1231 1778 y Fp(::)13 b Fk(M)j Fp(\()p Fk(U)1395
1759 y Fg(\003)1429 1778 y Fh(!)d Fk(M)j(V)1598 1759
y Fg(\003)1617 1778 y Fp(\))p 1873 1796 V 5 1856 V 1873
1856 V 5 1916 V 68 1898 a(\()p Fk(A)e Fh(`)h Fk(t)j Fp(::)13
b(\()p Fk(U)22 b Fh(!)14 b Fk(V)9 b Fp(\)\))481 1880
y Fg(\003)721 1898 y Fp(=)42 b Fk(A)837 1880 y Fg(\003)871
1898 y Fh(`)14 b Fk(t)936 1880 y Fg(\003)969 1898 y Fp(::)f
Fk(M)j Fp(\()p Fk(U)1133 1880 y Fg(\003)1167 1898 y Fh(!)d
Fk(M)j(V)1336 1880 y Fg(\003)1355 1898 y Fp(\))p 1873
1916 V 5 1976 V 68 1958 a(\()p Fk(A)e Fh(`)h Fk(u)i Fp(::)c
Fk(U)8 b Fp(\))329 1940 y Fg(\003)721 1958 y Fp(=)42
b Fk(A)837 1940 y Fg(\003)871 1958 y Fh(`)14 b Fk(u)945
1940 y Fg(\003)978 1958 y Fp(::)f Fk(M)j(U)1123 1940
y Fg(\003)p 1873 1976 V 48 1978 654 2 v 780 1978 1053
2 v 5 2036 2 61 v 68 2018 a Fp(\()p Fk(A)e Fh(`)h Fp(\()p
Fk(t)e(u)t Fp(\))h(::)e Fk(V)e Fp(\))398 2000 y Fg(\003)721
2018 y Fp(=)42 b Fk(A)837 2000 y Fg(\003)871 2018 y Fh(`)14
b Fp([)8 b Fk(y)18 b Fh(j)13 b Fk(f)25 b Fh( )13 b Fk(t)1130
2000 y Fg(\003)1150 2018 y Fj(;)j Fk(x)k Fh( )14 b Fk(u)1316
2000 y Fg(\003)1336 2018 y Fj(;)i Fk(y)i Fh( )13 b Fp(\()p
Fk(f)19 b(x)6 b Fp(\))i(])1593 2000 y Fo(M)1646 2018
y Fp(::)13 b Fk(M)j(V)1792 2000 y Fg(\003)p 1873 2036
V 5 2097 V 1873 2097 V 5 2157 V 68 2139 a Fp(\()p Fk(A)e
Fh(`)h Fk(u)i Fp(::)c Fk(U)8 b Fp(\))329 2121 y Fg(\003)721
2139 y Fp(=)42 b Fk(A)837 2121 y Fg(\003)871 2139 y Fh(`)14
b Fk(u)945 2121 y Fg(\003)978 2139 y Fp(::)f Fk(M)j(U)1123
2121 y Fg(\003)p 1873 2157 V 5 2217 V 68 2199 a Fp(\()p
Fk(A)e Fh(`)h Fk(v)k Fp(::)13 b Fk(V)d Fp(\))329 2181
y Fg(\003)721 2199 y Fp(=)42 b Fk(A)837 2181 y Fg(\003)871
2199 y Fh(`)14 b Fk(v)942 2181 y Fg(\003)976 2199 y Fp(::)f
Fk(M)j(V)1122 2181 y Fg(\003)p 1873 2217 V 48 2219 654
2 v 780 2219 1053 2 v 5 2277 2 61 v 68 2259 a Fp(\()p
Fk(A)e Fh(`)h Fp(\()p Fk(u)t Fj(;)8 b Fk(v)d Fp(\))14
b(::)f(\()p Fk(U)8 b Fj(;)g Fk(V)h Fp(\)\))522 2241 y
Fg(\003)721 2259 y Fp(=)42 b Fk(A)837 2241 y Fg(\003)871
2259 y Fh(`)14 b Fp([)8 b(\()p Fk(x)e Fj(;)i Fk(y)t Fp(\))14
b Fh(j)g Fk(x)20 b Fh( )13 b Fk(u)1230 2241 y Fg(\003)1250
2259 y Fj(;)j Fk(y)i Fh( )c Fk(v)1413 2241 y Fg(\003)1441
2259 y Fp(])1455 2241 y Fo(M)1508 2259 y Fp(::)f Fk(M)j
Fp(\()p Fk(U)1672 2241 y Fg(\003)1691 2259 y Fj(;)8 b
Fk(V)1759 2241 y Fg(\003)1778 2259 y Fp(\))p 1873 2277
V 5 2337 V 1873 2337 V 5 2398 V 68 2379 a(\()p Fk(A)14
b Fh(`)h Fk(t)j Fp(::)13 b(\()p Fk(U)8 b Fj(;)g Fk(V)i
Fp(\)\))426 2361 y Fg(\003)721 2379 y Fp(=)42 b Fk(A)837
2361 y Fg(\003)871 2379 y Fh(`)14 b Fk(t)936 2361 y Fg(\003)969
2379 y Fp(::)f Fk(M)j Fp(\()p Fk(U)1133 2361 y Fg(\003)1153
2379 y Fj(;)8 b Fk(V)1220 2361 y Fg(\003)1240 2379 y
Fp(\))p 1873 2398 V 48 2399 654 2 v 780 2399 1053 2 v
5 2458 2 61 v 68 2440 a(\()p Fk(A)14 b Fh(`)h Fp(\()p
Fk(fst)e(t)5 b Fp(\))13 b(::)g Fk(U)8 b Fp(\))422 2422
y Fg(\003)721 2440 y Fp(=)42 b Fk(A)837 2422 y Fg(\003)871
2440 y Fh(`)14 b Fp([)8 b(\()p Fk(fst)13 b(z)6 b Fp(\))14
b Fh(j)f Fk(z)20 b Fh( )14 b Fk(t)1231 2422 y Fg(\003)1259
2440 y Fp(])1273 2422 y Fo(M)1325 2440 y Fp(::)f Fk(M)j(U)1470
2422 y Fg(\003)p 1873 2458 V 5 2518 V 1873 2518 V 6 2520
1869 2 v 290 2611 a Fp(Figure)g(8:)21 b(The)16 b(call-b)o(y-v)m(alue)g
(translation)g(preserv)o(es)g(w)o(ell-t)o(yping.)916
2663 y(36)p eop
%%Page: 37 37
37 36 bop 300 -5 1281 2 v 299 99 2 104 v 362 38 a Fp(T)o(yp)q(es)p
1580 99 V 299 180 2 82 v 362 141 a Fk(K)406 123 y Fg(y)626
141 y Fp(=)42 b Fk(K)p 1580 180 V 299 262 V 362 222 a
Fp(\()p Fk(U)22 b Fh(!)14 b Fk(V)9 b Fp(\))567 204 y
Fg(y)626 222 y Fp(=)42 b(\()p Fk(M)16 b(U)829 204 y Fg(y)860
222 y Fh(!)e Fk(M)i(V)1029 204 y Fg(y)1047 222 y Fp(\))p
1580 262 V 299 365 2 104 v 362 304 a(\()p Fk(U)8 b Fj(;)g
Fk(V)h Fp(\))511 286 y Fg(y)626 304 y Fp(=)42 b(\()p
Fk(M)16 b(U)829 286 y Fg(y)846 304 y Fj(;)h Fk(M)e(V)982
286 y Fg(y)999 304 y Fp(\))p 1580 365 V 300 367 1281
2 v 299 470 2 104 v 362 409 a(T)l(erms)p 1580 470 V 299
551 2 82 v 362 512 a Fk(x)390 494 y Fg(y)626 512 y Fp(=)42
b Fk(x)p 1580 551 V 299 633 V 362 593 a Fp(\()p Fj(\025)p
Fk(x)21 b Fh(!)14 b Fk(v)5 b Fp(\))562 575 y Fg(y)626
593 y Fp(=)42 b([)8 b(\()p Fj(\025)p Fk(x)20 b Fh(!)14
b Fk(v)908 575 y Fg(y)926 593 y Fp(\))8 b(])967 575 y
Fo(M)p 1580 633 V 299 715 V 362 675 a Fp(\()p Fk(t)13
b(u)t Fp(\))459 657 y Fg(y)626 675 y Fp(=)42 b([)8 b
Fk(y)17 b Fh(j)d Fk(f)24 b Fh( )14 b Fk(t)921 657 y Fg(y)939
675 y Fj(;)i Fk(y)i Fh( )13 b Fp(\()p Fk(f)19 b(u)1157
657 y Fg(y)1175 675 y Fp(\))8 b(])1216 657 y Fo(M)p 1580
715 V 299 796 V 362 757 a Fp(\()p Fk(u)t Fj(;)g Fk(v)d
Fp(\))479 739 y Fg(y)626 757 y Fp(=)42 b([)8 b(\()p Fk(u)777
739 y Fg(y)794 757 y Fj(;)g Fk(v)843 739 y Fg(y)862 757
y Fp(\))g(])903 739 y Fo(M)p 1580 796 V 299 899 2 104
v 362 838 a Fp(\()p Fk(fst)13 b(t)5 b Fp(\))485 820 y
Fg(y)626 838 y Fp(=)42 b([)8 b Fk(x)20 b Fh(j)14 b Fk(z)19
b Fh( )14 b Fk(t)922 820 y Fg(y)940 838 y Fj(;)i Fk(x)k
Fh( )14 b Fp(\()p Fk(fst)f(z)6 b Fp(\))i(])1226 820 y
Fo(M)p 1580 899 V 300 901 1281 2 v 299 1004 2 104 v 362
943 a Fp(Assumptions)p 1580 1004 V 299 1112 2 108 v 362
1051 a(\()p Fk(x)403 1058 y Fo(1)442 1051 y Fp(::)13
b Fk(T)518 1058 y Fo(1)543 1051 y Fj(;)8 b(:)g(:)g(:)f(;)h
Fk(x)674 1058 y Fo(n)713 1051 y Fp(::)13 b Fk(T)789 1058
y Fo(n)814 1051 y Fp(\))833 1033 y Fg(y)889 1051 y Fp(=)39
b Fk(x)988 1058 y Fo(1)1027 1051 y Fp(::)13 b Fk(M)j(T)1170
1027 y Fg(y)1163 1062 y Fo(1)1187 1051 y Fj(;)8 b(:)g(:)g(:)g(;)g
Fk(x)1319 1058 y Fo(n)1358 1051 y Fp(::)13 b Fk(M)i(T)1500
1033 y Fg(y)1493 1063 y Fo(n)p 1580 1112 V 300 1113 1281
2 v 299 1216 2 104 v 362 1155 a Fp(T)o(ypings)p 1580
1216 V 299 1319 V 362 1259 a(\()p Fk(A)f Fh(`)h Fk(t)j
Fp(::)13 b Fk(T)7 b Fp(\))612 1240 y Fg(y)668 1259 y
Fp(=)39 b Fk(A)781 1240 y Fg(y)813 1259 y Fh(`)14 b Fk(t)878
1240 y Fg(y)910 1259 y Fp(::)e Fk(M)k(T)1052 1240 y Fg(y)p
1580 1319 V 300 1321 1281 2 v 561 1412 a Fp(Figure)g(9:)21
b(Call-b)o(y-name)15 b(translation.)p 69 1499 1743 2
v 68 1559 2 61 v 1811 1559 V 110 1561 652 2 v 841 1561
929 2 v 68 1620 2 61 v 131 1602 a(\()p Fk(A)p Fj(;)i
Fk(x)j Fp(::)13 b Fk(T)20 b Fh(`)14 b Fk(x)21 b Fp(::)13
b Fk(T)7 b Fp(\))544 1583 y Fg(y)782 1602 y Fp(=)42 b
Fk(A)898 1583 y Fg(y)916 1602 y Fj(;)16 b Fk(x)k Fp(::)13
b Fk(M)j(T)1131 1583 y Fg(y)1162 1602 y Fh(`)e Fk(x)21
b Fp(::)13 b Fk(M)i(T)1391 1583 y Fg(y)p 1811 1620 V
68 1680 V 1811 1680 V 68 1740 V 131 1722 a Fp(\()p Fk(A)p
Fj(;)i Fk(x)j Fp(::)13 b Fk(U)22 b Fh(`)14 b Fk(v)19
b Fp(::)13 b Fk(V)d Fp(\))549 1704 y Fg(y)782 1722 y
Fp(=)42 b Fk(A)898 1704 y Fg(y)916 1722 y Fj(;)16 b Fk(x)k
Fp(::)13 b Fk(M)j(U)1133 1704 y Fg(y)1165 1722 y Fh(`)e
Fk(v)1236 1704 y Fg(y)1268 1722 y Fp(::)f Fk(M)j(V)1414
1704 y Fg(y)p 1811 1740 V 110 1742 652 2 v 841 1742 929
2 v 68 1800 2 61 v 131 1782 a Fp(\()p Fk(A)e Fh(`)h Fp(\()p
Fj(\025)p Fk(x)20 b Fh(!)14 b Fk(v)5 b Fp(\))14 b(::)f(\()p
Fk(U)22 b Fh(!)14 b Fk(V)9 b Fp(\)\))723 1764 y Fg(y)782
1782 y Fp(=)42 b Fk(A)898 1764 y Fg(y)930 1782 y Fh(`)14
b Fp([)8 b(\()p Fj(\025)p Fk(x)20 b Fh(!)14 b Fk(v)1176
1764 y Fg(y)1195 1782 y Fp(\))8 b(])1236 1764 y Fo(M)1288
1782 y Fp(::)13 b Fk(M)j Fp(\()p Fk(M)g(U)1512 1764 y
Fg(y)1544 1782 y Fh(!)d Fk(M)j(V)1712 1764 y Fg(y)1730
1782 y Fp(\))p 1811 1800 V 68 1860 V 1811 1860 V 68 1921
V 131 1902 a(\()p Fk(A)e Fh(`)h Fk(t)j Fp(::)13 b(\()p
Fk(U)22 b Fh(!)14 b Fk(V)9 b Fp(\)\))544 1884 y Fg(y)782
1902 y Fp(=)42 b Fk(A)898 1884 y Fg(y)930 1902 y Fh(`)14
b Fk(t)995 1884 y Fg(y)1026 1902 y Fp(::)f Fk(M)j Fp(\()p
Fk(M)g(U)1250 1884 y Fg(y)1282 1902 y Fh(!)d Fk(M)j(V)1450
1884 y Fg(y)1468 1902 y Fp(\))p 1811 1921 V 68 1981 V
131 1963 a(\()p Fk(A)e Fh(`)h Fk(u)i Fp(::)c Fk(U)8 b
Fp(\))392 1945 y Fg(y)782 1963 y Fp(=)42 b Fk(A)898 1945
y Fg(y)930 1963 y Fh(`)14 b Fk(u)1004 1945 y Fg(y)1035
1963 y Fp(::)f Fk(M)j(U)1180 1945 y Fg(y)p 1811 1981
V 110 1982 652 2 v 841 1982 929 2 v 68 2041 2 61 v 131
2023 a Fp(\()p Fk(A)e Fh(`)h Fp(\()p Fk(t)e(u)t Fp(\))g(::)g
Fk(V)d Fp(\))461 2005 y Fg(y)782 2023 y Fp(=)42 b Fk(A)898
2005 y Fg(y)930 2023 y Fh(`)14 b Fp([)8 b Fk(y)18 b Fh(j)13
b Fk(f)25 b Fh( )13 b Fk(t)1189 2005 y Fg(y)1207 2023
y Fj(;)j Fk(y)i Fh( )c Fp(\()p Fk(f)k(u)1425 2005 y Fg(y)1443
2023 y Fp(\))8 b(])1484 2005 y Fo(M)1537 2023 y Fp(::)13
b Fk(M)i(V)1683 2005 y Fg(y)p 1811 2041 V 68 2101 V 1811
2101 V 68 2161 V 131 2143 a Fp(\()p Fk(A)f Fh(`)h Fk(u)i
Fp(::)c Fk(U)8 b Fp(\))392 2125 y Fg(y)782 2143 y Fp(=)42
b Fk(A)898 2125 y Fg(y)930 2143 y Fh(`)14 b Fk(u)1004
2125 y Fg(y)1035 2143 y Fp(::)f Fk(M)j(U)1180 2125 y
Fg(y)p 1811 2161 V 68 2222 V 131 2203 a Fp(\()p Fk(A)e
Fh(`)h Fk(v)k Fp(::)13 b Fk(V)c Fp(\))391 2185 y Fg(y)782
2203 y Fp(=)42 b Fk(A)898 2185 y Fg(y)930 2203 y Fh(`)14
b Fk(v)1001 2185 y Fg(y)1033 2203 y Fp(::)f Fk(M)j(V)1179
2185 y Fg(y)p 1811 2222 V 110 2223 652 2 v 841 2223 929
2 v 68 2282 2 61 v 131 2264 a Fp(\()p Fk(A)e Fh(`)h Fp(\()p
Fk(u)t Fj(;)8 b Fk(v)d Fp(\))14 b(::)f(\()p Fk(U)8 b
Fj(;)g Fk(V)h Fp(\)\))585 2246 y Fg(y)782 2264 y Fp(=)42
b Fk(A)898 2246 y Fg(y)930 2264 y Fh(`)14 b Fp([)8 b(\()p
Fk(u)1045 2246 y Fg(y)1062 2264 y Fj(;)g Fk(v)1111 2246
y Fg(y)1130 2264 y Fp(\))g(])1171 2246 y Fo(M)1224 2264
y Fp(::)k Fk(M)k Fp(\()p Fk(M)g(U)1447 2246 y Fg(y)1465
2264 y Fj(;)8 b Fk(M)16 b(V)1592 2246 y Fg(y)1610 2264
y Fp(\))p 1811 2282 V 68 2342 V 1811 2342 V 68 2402 V
131 2384 a(\()p Fk(A)e Fh(`)h Fk(t)j Fp(::)13 b(\()p
Fk(U)8 b Fj(;)g Fk(V)h Fp(\)\))488 2366 y Fg(y)782 2384
y Fp(=)42 b Fk(A)898 2366 y Fg(y)930 2384 y Fh(`)14 b
Fk(t)995 2366 y Fg(y)1026 2384 y Fp(::)f Fk(M)j Fp(\()p
Fk(M)g(U)1250 2366 y Fg(y)1268 2384 y Fj(;)8 b Fk(M)15
b(V)1395 2366 y Fg(y)1413 2384 y Fp(\))p 1811 2402 V
110 2404 652 2 v 841 2404 929 2 v 68 2462 2 61 v 131
2444 a(\()p Fk(A)f Fh(`)h Fp(\()p Fk(fst)e(t)5 b Fp(\))13
b(::)g Fk(U)8 b Fp(\))485 2426 y Fg(y)782 2444 y Fp(=)42
b Fk(A)898 2426 y Fg(y)930 2444 y Fh(`)14 b Fp([)8 b
Fk(x)20 b Fh(j)14 b Fk(z)19 b Fh( )14 b Fk(t)1190 2426
y Fg(y)1208 2444 y Fj(;)i Fk(x)k Fh( )14 b Fp(\()p Fk(fst)f(z)6
b Fp(\))i(])1494 2426 y Fo(M)1547 2444 y Fp(::)13 b Fk(M)i(U)1691
2426 y Fg(y)p 1811 2462 V 68 2522 V 1811 2522 V 69 2524
1743 2 v 276 2615 a Fp(Figure)g(10:)22 b(The)17 b(call-b)o(y-name)d
(translation)j(preserv)o(es)e(w)o(ell-t)o(yping.)916
2663 y(37)p eop
%%Page: 38 38
38 37 bop 336 608 1210 2 v 335 668 2 61 v 1544 668 V
335 750 2 82 v 398 710 a Fk(x)426 692 y Fg(\003)659 710
y Fp(=)42 b Fj(\025)p Fk(k)20 b Fh(!)13 b Fk(k)h(x)p
1544 750 V 335 831 V 398 792 a Fp(\()p Fj(\025)p Fk(x)21
b Fh(!)13 b Fk(v)5 b Fp(\))597 774 y Fg(\003)659 792
y Fp(=)42 b Fj(\025)p Fk(k)20 b Fh(!)13 b Fk(k)h Fp(\()p
Fj(\025)p Fk(x)21 b Fh(!)14 b Fk(v)1089 774 y Fg(\003)1109
792 y Fp(\))p 1544 831 V 335 913 V 398 873 a(\()p Fk(t)f(u)t
Fp(\))495 855 y Fg(\003)659 873 y Fp(=)42 b Fj(\025)p
Fk(k)20 b Fh(!)13 b Fk(t)893 855 y Fg(\003)921 873 y
Fp(\()p Fj(\025)p Fk(f)25 b Fh(!)14 b Fk(u)1102 855 y
Fg(\003)1130 873 y Fp(\()p Fj(\025)p Fk(x)20 b Fh(!)14
b Fk(f)19 b(x)14 b(k)5 b Fp(\)\))p 1544 913 V 335 995
V 398 955 a(\()p Fk(u)t Fj(;)j Fk(v)d Fp(\))515 937 y
Fg(\003)659 955 y Fp(=)42 b Fj(\025)p Fk(k)20 b Fh(!)13
b Fk(u)902 937 y Fg(\003)930 955 y Fp(\()p Fj(\025)p
Fk(x)21 b Fh(!)13 b Fk(v)1110 937 y Fg(\003)1139 955
y Fp(\()p Fj(\025)p Fk(y)19 b Fh(!)13 b Fk(k)h Fp(\()p
Fk(x)6 b Fj(;)i Fk(y)t Fp(\)\)\))p 1544 995 V 335 1055
2 61 v 398 1037 a(\()p Fk(fst)13 b(t)5 b Fp(\))521 1019
y Fg(\003)659 1037 y Fp(=)42 b Fj(\025)p Fk(k)20 b Fh(!)13
b Fk(t)893 1019 y Fg(\003)921 1037 y Fp(\()p Fj(\025)p
Fk(z)20 b Fh(!)14 b Fk(k)g Fp(\()p Fk(fst)f(z)6 b Fp(\)\))p
1544 1055 V 335 1115 V 1544 1115 V 336 1117 1210 2 v
231 1208 a(Figure)16 b(11:)22 b(Call-b)o(y-v)m(alue)16
b(con)o(tin)o(uation-passing)h(st)o(yle)e(transformation)p
470 1295 941 2 v 469 1355 2 61 v 1409 1355 V 469 1436
2 82 v 532 1397 a Fk(x)560 1379 y Fg(y)792 1397 y Fp(=)41
b Fk(x)p 1409 1436 V 469 1518 V 532 1479 a Fp(\()p Fj(\025)p
Fk(x)21 b Fh(!)14 b Fk(v)5 b Fp(\))732 1461 y Fg(y)792
1479 y Fp(=)41 b Fj(\025)p Fk(k)20 b Fh(!)14 b Fk(k)g
Fp(\()p Fj(\025)p Fk(x)21 b Fh(!)13 b Fk(v)1221 1461
y Fg(y)1240 1479 y Fp(\))p 1409 1518 V 469 1600 V 532
1560 a(\()p Fk(t)h(u)t Fp(\))630 1542 y Fg(y)792 1560
y Fp(=)41 b Fj(\025)p Fk(k)20 b Fh(!)14 b Fk(t)1026 1542
y Fg(y)1052 1560 y Fp(\()p Fj(\025)p Fk(f)25 b Fh(!)13
b Fk(f)19 b(u)1266 1542 y Fg(y)1292 1560 y Fk(k)5 b Fp(\))p
1409 1600 V 469 1681 V 532 1642 a(\()p Fk(u)t Fj(;)j
Fk(v)d Fp(\))649 1624 y Fg(y)792 1642 y Fp(=)41 b Fj(\025)p
Fk(k)20 b Fh(!)14 b Fk(k)g Fp(\()p Fk(u)1090 1624 y Fg(y)1108
1642 y Fj(;)8 b Fk(v)1157 1624 y Fg(y)1175 1642 y Fp(\))p
1409 1681 V 469 1742 2 61 v 532 1724 a(\()p Fk(fst)13
b(t)5 b Fp(\))655 1705 y Fg(y)792 1724 y Fp(=)41 b Fj(\025)p
Fk(k)20 b Fh(!)14 b Fk(t)1026 1705 y Fg(y)1052 1724 y
Fp(\()p Fj(\025)p Fk(z)20 b Fh(!)14 b Fk(fst)f(z)h(k)5
b Fp(\))p 1409 1742 V 469 1802 V 1409 1802 V 470 1803
941 2 v 229 1895 a(Figure)16 b(12:)22 b(Call-b)o(y-name)15
b(con)o(tin)o(uation-passing)i(st)o(yle)e(transformation)916
2663 y(38)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
